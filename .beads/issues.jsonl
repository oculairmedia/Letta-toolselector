{"id":"lettatoolsselector-02kz","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T20:34:40.874168308Z","updated_at":"2025-12-30T04:12:55.665476115Z","comments":[{"id":1161,"issue_id":"lettatoolsselector-02kz","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-65","created_at":"2025-12-31T05:59:05Z"}]}
{"id":"lettatoolsselector-02ou5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:35.756458602Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:35.756458602Z","comments":[{"id":2049,"issue_id":"lettatoolsselector-02ou5","author":"root","text":"Synced from Beads: lettatoolsselector-v4x9\n\n---\nHuly Issue: LTSEL-266","created_at":"2026-01-02T03:29:35Z"}]}
{"id":"lettatoolsselector-02ut","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:03.717639061Z","updated_at":"2025-12-30T01:53:44.983812579Z","comments":[{"id":985,"issue_id":"lettatoolsselector-02ut","author":"root","text":"Synced from Beads: lettatoolsselector-zq1\n\n---\nHuly Issue: LTSEL-63","created_at":"2025-12-29T21:18:04Z"}]}
{"id":"lettatoolsselector-05z","title":"[Observability] Create Grafana dashboard for tool state","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-29T19:50:01.164165877Z","updated_at":"2025-12-29T22:14:55.641534968Z","closed_at":"2025-12-29T21:33:32.023026169Z","close_reason":"Duplicate","comments":[{"id":241,"issue_id":"lettatoolsselector-05z","author":"root","text":"Synced from Beads: lettatoolsselector-dsf\n\n---\nHuly Issue: LTSEL-132","created_at":"2025-12-29T19:50:01Z"}]}
{"id":"lettatoolsselector-06d","title":"[SDK] Migrate webhook-receiver to use shared SDK","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:26.226044359Z","updated_at":"2025-12-29T18:56:11.266224726Z","closed_at":"2025-12-29T18:56:11.266224726Z","close_reason":"Duplicate of closed lettatoolsselector-14s","comments":[{"id":2,"issue_id":"lettatoolsselector-06d","author":"node","text":"## Problem\n\nWebhook receiver has its own tool management code that will drift from the SDK.\n\n## Solution\n\nReplace local implementations with SDK imports.\n\n## Acceptance Criteria\n\n- [ ] Add  to \n- [ ] Replace  functions with SDK imports\n- [ ] Replace  API calls with SDK helpers\n- [ ] All existing tests still pass\n- [ ] No functional changes to webhook behavior\n\n## Technical Notes\n\n- This is a refactor, not a feature change\n- May need to keep some webhook-specific wrappers\n\n---\nHuly Issue: LTSEL-5","created_at":"2025-12-22T23:46:26Z"}]}
{"id":"lettatoolsselector-06do","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:08.243396347Z","updated_at":"2025-12-30T01:57:25.262740339Z","comments":[{"id":1016,"issue_id":"lettatoolsselector-06do","author":"root","text":"Synced from Beads: lettatoolsselector-1kj\n\n---\nHuly Issue: LTSEL-76","created_at":"2025-12-29T21:22:08Z"}]}
{"id":"lettatoolsselector-07p","title":"[Observability] Add health check endpoint with tool state summary","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:09.047844161Z","updated_at":"2025-12-23T03:23:09.420110481Z","closed_at":"2025-12-23T03:23:09.420110481Z","close_reason":"Closed","comments":[{"id":33,"issue_id":"lettatoolsselector-07p","author":"node","text":"## Problem\n\nCurrent health endpoint only returns basic status. No way to quickly check if tool management is working correctly.\n\n## Solution\n\nEnhance health endpoint to include tool state summary.\n\n## Acceptance Criteria\n\n- [ ] Health endpoint returns: status, version, config summary\n- [ ] Include: MAX_TOTAL_TOOLS, PROTECTED_TOOLS list\n- [ ] Include: total_agents_tracked, agents_over_limit count\n- [ ] Include: last_attach_timestamp, last_prune_timestamp\n- [ ] Separate deep health check for dependencies (Letta API, Weaviate)\n\n## Technical Notes\n\n- Keep lightweight for frequent polling\n- Deep health check on separate endpoint (/health/deep)\n\n---\nHuly Issue: LTSEL-14","created_at":"2025-12-23T03:23:09Z"}]}
{"id":"lettatoolsselector-083nr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:35.323864016Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:35.323864016Z","comments":[{"id":2048,"issue_id":"lettatoolsselector-083nr","author":"root","text":"Synced from Beads: lettatoolsselector-8qmw\n\n---\nHuly Issue: LTSEL-267","created_at":"2026-01-02T03:29:35Z"}]}
{"id":"lettatoolsselector-08znz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:44.405763503Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:44.405763503Z","comments":[{"id":1940,"issue_id":"lettatoolsselector-08znz","author":"root","text":"Synced from Beads: lettatoolsselector-u4rf\n\n---\nHuly Issue: LTSEL-383","created_at":"2026-01-02T03:28:44Z"}]}
{"id":"lettatoolsselector-09g","title":"[SDK] Migrate tool-selector to use shared SDK","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:04.520360479Z","updated_at":"2025-12-23T03:23:04.874634818Z","closed_at":"2025-12-23T03:23:04.874634818Z","close_reason":"Closed","comments":[{"id":27,"issue_id":"lettatoolsselector-09g","author":"node","text":"## Problem\n\nTool selector has its own  and  that duplicate SDK functionality.\n\n## Solution\n\nReplace local implementations with SDK imports.\n\n## Acceptance Criteria\n\n- [ ] Add  to \n- [ ] Replace  helpers with SDK imports\n- [ ] Replace  with SDK imports\n- [ ] All existing tests still pass\n- [ ] No functional changes to tool selection behavior\n\n## Technical Notes\n\n- Worker service models may need adjustment\n- Keep API-specific logic in the repo, move generic logic to SDK\n\n---\nHuly Issue: LTSEL-6","created_at":"2025-12-23T03:23:04Z"}]}
{"id":"lettatoolsselector-09tgp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:00.185709998Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:00.185709998Z","comments":[{"id":1974,"issue_id":"lettatoolsselector-09tgp","author":"root","text":"Synced from Beads: lettatoolsselector-wutv\n\n---\nHuly Issue: LTSEL-343","created_at":"2026-01-02T03:29:00Z"}]}
{"id":"lettatoolsselector-0a3uy","title":"[Enforcement] Add PROTECTED_TOOLS support to tool selector API","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T06:17:35.878033181Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:02.087824794Z","comments":[{"id":2551,"issue_id":"lettatoolsselector-0a3uy","author":"root","text":"Synced from Huly: LTSEL-45","created_at":"2026-01-02T06:17:36Z"}]}
{"id":"lettatoolsselector-0bmn9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:15.596615765Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:15.596615765Z","comments":[{"id":2005,"issue_id":"lettatoolsselector-0bmn9","author":"root","text":"Synced from Beads: lettatoolsselector-mrm7\n\n---\nHuly Issue: LTSEL-310","created_at":"2026-01-02T03:29:15Z"}]}
{"id":"lettatoolsselector-0cai7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:53.613022674Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:53.613022674Z","comments":[{"id":1960,"issue_id":"lettatoolsselector-0cai7","author":"root","text":"Synced from Beads: lettatoolsselector-hklk\n\n---\nHuly Issue: LTSEL-359","created_at":"2026-01-02T03:28:53Z"}]}
{"id":"lettatoolsselector-0czi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:35.223517465Z","updated_at":"2025-12-30T04:14:04.879079014Z","comments":[{"id":832,"issue_id":"lettatoolsselector-0czi","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:02:35Z"}]}
{"id":"lettatoolsselector-0e3t","title":"[Config] Create automated deploy script","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T02:35:15.352427156Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:30.912865047Z","comments":[{"id":1345,"issue_id":"lettatoolsselector-0e3t","author":"root","text":"Synced from Beads: lettatoolsselector-hmg\n\n---\nHuly Issue: LTSEL-32","created_at":"2026-01-02T02:35:15Z"}]}
{"id":"lettatoolsselector-0f1vy","title":"[Enforcement] Create scheduled agent tool pruning job","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T20:57:12.730226797Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:26.206617957Z","comments":[{"id":4166,"issue_id":"lettatoolsselector-0f1vy","author":"root","text":"Synced from Beads: lettatoolsselector-6fh\n\n---\nHuly Issue: LTSEL-28","created_at":"2026-01-02T20:57:13Z"}]}
{"id":"lettatoolsselector-0g6","title":"[SDK] Implement attach/detach tool helpers with retry logic","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:27.711027378Z","updated_at":"2025-12-29T18:56:01.217907727Z","closed_at":"2025-12-29T18:56:01.217907727Z","close_reason":"Duplicate of closed lettatoolsselector-b8l"}
{"id":"lettatoolsselector-0gpj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:53.601077899Z","updated_at":"2025-12-30T04:12:02.871298162Z","comments":[{"id":907,"issue_id":"lettatoolsselector-0gpj","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-92","created_at":"2025-12-29T21:09:54Z"}]}
{"id":"lettatoolsselector-0kte0","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:31.851696313Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:31.851696313Z","comments":[{"id":4754,"issue_id":"lettatoolsselector-0kte0","author":"root","text":"Synced from Huly: LTSEL-680","created_at":"2026-01-02T03:43:32Z"}]}
{"id":"lettatoolsselector-0n4xg","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:51.768157477Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:51.768157477Z","comments":[{"id":2218,"issue_id":"lettatoolsselector-0n4xg","author":"root","text":"Synced from Huly: LTSEL-614","created_at":"2026-01-02T03:43:52Z"}]}
{"id":"lettatoolsselector-0sz0n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:50.299808437Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:50.299808437Z","comments":[{"id":1953,"issue_id":"lettatoolsselector-0sz0n","author":"root","text":"Synced from Beads: lettatoolsselector-w08v\n\n---\nHuly Issue: LTSEL-368","created_at":"2026-01-02T03:28:50Z"}]}
{"id":"lettatoolsselector-0vmr4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:11.689329498Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:11.689329498Z","comments":[{"id":1998,"issue_id":"lettatoolsselector-0vmr4","author":"root","text":"Synced from Beads: lettatoolsselector-ipnk\n\n---\nHuly Issue: LTSEL-317","created_at":"2026-01-02T03:29:11Z"}]}
{"id":"lettatoolsselector-0vn","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-29T19:52:22.116307641Z","updated_at":"2025-12-29T21:33:45.525450659Z","closed_at":"2025-12-29T21:33:45.525450659Z","close_reason":"Duplicate","comments":[{"id":251,"issue_id":"lettatoolsselector-0vn","author":"root","text":"Synced from Beads: lettatoolsselector-xxb\n\n---\nHuly Issue: LTSEL-143","created_at":"2025-12-29T19:52:22Z"}]}
{"id":"lettatoolsselector-0vsp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:53.837972606Z","updated_at":"2025-12-30T01:51:50.306709624Z","comments":[{"id":977,"issue_id":"lettatoolsselector-0vsp","author":"root","text":"Synced from Beads: lettatoolsselector-b0j\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:16:54Z"}]}
{"id":"lettatoolsselector-0wuap","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:30:18.684791118Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:30:18.684791118Z","comments":[{"id":2100,"issue_id":"lettatoolsselector-0wuap","author":"root","text":"Synced from Beads: lettatoolsselector-2e52\n\n\n\n---\nHuly Issue: LTSEL-251","created_at":"2026-01-02T03:30:18Z"}]}
{"id":"lettatoolsselector-0x87","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:30.958968087Z","updated_at":"2025-12-30T01:47:23.309104317Z","comments":[{"id":953,"issue_id":"lettatoolsselector-0x87","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:14:31Z"}]}
{"id":"lettatoolsselector-133ow","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:30:19.121212323Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:30:19.121212323Z","comments":[{"id":2101,"issue_id":"lettatoolsselector-133ow","author":"root","text":"Synced from Beads: lettatoolsselector-kwbu\n\n\n\n---\nHuly Issue: LTSEL-251","created_at":"2026-01-02T03:30:19Z"}]}
{"id":"lettatoolsselector-13zz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:26:09.795013941Z","updated_at":"2025-12-30T02:00:35.248139906Z","comments":[{"id":1036,"issue_id":"lettatoolsselector-13zz","author":"root","text":"Synced from Beads: lettatoolsselector-4dj\n\n---\nHuly Issue: LTSEL-68","created_at":"2025-12-29T21:26:10Z"}]}
{"id":"lettatoolsselector-18ofu","title":"[Config] Create automated deploy script","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T07:02:40.859239219Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:12.688874519Z","comments":[{"id":2661,"issue_id":"lettatoolsselector-18ofu","author":"root","text":"## Problem\n\nChanging config requires manual: edit .env, restart container, verify health. This is error-prone.\n\n## Solution\n\nCreate a deploy script that handles config updates safely.\n\n## Acceptance Criteria\n\n- [ ] Script:  to update and restart\n- [ ] Validates config before deploying\n- [ ] Backs up current .env before changes\n- [ ] Waits for health check after restart\n- [ ] Rolls back on health check failure\n- [ ] Logs all actions for audit\n\n## Technical Notes\n\n- Use docker compose up -d --force-recreate\n- Add --dry-run flag for testing\n- Consider GitHub Action for remote deploys\n\n---\nHuly Issue: LTSEL-17","created_at":"2026-01-02T07:02:41Z"}]}
{"id":"lettatoolsselector-19c","title":"[Test] Contract test: Tool selector API returns valid response","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:28.355127429Z","updated_at":"2025-12-29T18:56:30.045132541Z","closed_at":"2025-12-29T18:56:30.045132541Z","close_reason":"Duplicate of lettatoolsselector-vc5 (API contract test)","comments":[{"id":15,"issue_id":"lettatoolsselector-19c","author":"node","text":"## Purpose\n\nGuard against tool selector API returning unexpected response format.\n\n## Test Scenario\n\n1. Send valid attach request to tool selector API\n2. Capture response\n3. Assert: Response matches documented contract schema\n4. Assert: All required fields present (success, details.attached, details.detached)\n\n## Acceptance Criteria\n\n- [ ] Test validates response structure\n- [ ] Covers success and error responses\n- [ ] Fails if response doesn't match contract\n- [ ] Runs in tool-selector CI\n\n## Technical Notes\n\n- Can use real API or mocked\n- Reference contract from LTSEL-9\n- Tag as \n\n---\nHuly Issue: LTSEL-24","created_at":"2025-12-22T23:46:28Z"}]}
{"id":"lettatoolsselector-19msf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:27.947530168Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:27.947530168Z","comments":[{"id":2031,"issue_id":"lettatoolsselector-19msf","author":"root","text":"Synced from Beads: lettatoolsselector-4wnv\n\n---\nHuly Issue: LTSEL-284","created_at":"2026-01-02T03:29:28Z"}]}
{"id":"lettatoolsselector-1b8np","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:28.212473213Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:28.212473213Z","comments":[{"id":2273,"issue_id":"lettatoolsselector-1b8np","author":"root","text":"Synced from Huly: LTSEL-393","created_at":"2026-01-02T03:45:28Z"}]}
{"id":"lettatoolsselector-1exyy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:54.546615548Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:54.546615548Z","comments":[{"id":1962,"issue_id":"lettatoolsselector-1exyy","author":"root","text":"Synced from Beads: lettatoolsselector-rpq1\n\n---\nHuly Issue: LTSEL-357","created_at":"2026-01-02T03:28:54Z"}]}
{"id":"lettatoolsselector-1gnox","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:57.99602194Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:57.99602194Z","comments":[{"id":1969,"issue_id":"lettatoolsselector-1gnox","author":"root","text":"Synced from Beads: lettatoolsselector-9zt8\n\n---\nHuly Issue: LTSEL-348","created_at":"2026-01-02T03:28:58Z"}]}
{"id":"lettatoolsselector-1gvda","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:54.082054272Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:54.082054272Z","comments":[{"id":1961,"issue_id":"lettatoolsselector-1gvda","author":"root","text":"Synced from Beads: lettatoolsselector-d3de\n\n---\nHuly Issue: LTSEL-358","created_at":"2026-01-02T03:28:54Z"}]}
{"id":"lettatoolsselector-1h9m1","title":"[Enforcement] Add PROTECTED_TOOLS support to tool selector API","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T08:02:00.888907769Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:19.556840047Z","comments":[{"id":2795,"issue_id":"lettatoolsselector-1h9m1","author":"root","text":"Synced from Beads: lettatoolsselector-xxx\n\n---\nHuly Issue: LTSEL-45","created_at":"2026-01-02T08:02:01Z"}]}
{"id":"lettatoolsselector-1i3j","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:20:33.990936464Z","updated_at":"2025-12-30T01:56:22.162522369Z","comments":[{"id":1006,"issue_id":"lettatoolsselector-1i3j","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:20:34Z"}]}
{"id":"lettatoolsselector-1jsz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:33.427051502Z","updated_at":"2025-12-30T01:48:18.850260578Z","comments":[{"id":956,"issue_id":"lettatoolsselector-1jsz","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-97","created_at":"2025-12-29T21:14:33Z"}]}
{"id":"lettatoolsselector-1kat5","title":"[Perf] Reuse Weaviate connection pool instead of creating client per search","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T14:59:37.436555133Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:33.67288711Z"}
{"id":"lettatoolsselector-1l5av","title":"[Observability] Add health check endpoint with tool state summary","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T17:50:22.786611558Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:15.278739246Z","comments":[{"id":3780,"issue_id":"lettatoolsselector-1l5av","author":"root","text":"Synced from Beads: lettatoolsselector-xde\n\n---\nHuly Issue: LTSEL-46","created_at":"2026-01-02T17:50:23Z"}]}
{"id":"lettatoolsselector-1n6g","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:07.018846563Z","updated_at":"2025-12-30T04:11:56.227848393Z","comments":[{"id":861,"issue_id":"lettatoolsselector-1n6g","author":"root","text":"Synced from Beads: lettatoolsselector-h52\n\n---\nHuly Issue: LTSEL-118","created_at":"2025-12-29T21:05:07Z"}]}
{"id":"lettatoolsselector-1nk6x","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:14.039448796Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:14.039448796Z","comments":[{"id":1872,"issue_id":"lettatoolsselector-1nk6x","author":"root","text":"Synced from Beads: lettatoolsselector-zh1i\n\n---\nHuly Issue: LTSEL-478","created_at":"2026-01-02T03:28:14Z"}]}
{"id":"lettatoolsselector-1qpvi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:23.407215449Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:23.407215449Z","comments":[{"id":1893,"issue_id":"lettatoolsselector-1qpvi","author":"root","text":"Synced from Beads: lettatoolsselector-jxct\n\n---\nHuly Issue: LTSEL-446","created_at":"2026-01-02T03:28:23Z"}]}
{"id":"lettatoolsselector-1ultq","title":"[SDK] Create letta-toolkit Python package scaffold","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T15:45:59.31461132Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:37.586132613Z","comments":[{"id":3593,"issue_id":"lettatoolsselector-1ultq","author":"root","text":"Synced from Beads: lettatoolsselector-hhl\n\n---\nHuly Issue: LTSEL-40","created_at":"2026-01-02T15:45:59Z"}]}
{"id":"lettatoolsselector-1vb","title":"[Test] Contract test: Webhook receiver sends valid attach payload","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:28.451265395Z","updated_at":"2025-12-29T18:56:28.974741759Z","closed_at":"2025-12-29T18:56:28.974741759Z","close_reason":"Duplicate of lettatoolsselector-5l3 (webhook contract test)","comments":[{"id":16,"issue_id":"lettatoolsselector-1vb","author":"node","text":"## Purpose\n\nGuard against drift between webhook receiver and tool selector API contract.\n\n## Test Scenario\n\n1. Trigger webhook with known payload\n2. Capture the request sent to tool selector API\n3. Assert: Request matches documented contract schema\n4. Assert: All required fields present (agent_id, query, keep_tools)\n\n## Acceptance Criteria\n\n- [ ] Test validates payload structure, not behavior\n- [ ] Uses recorded/mocked tool selector response\n- [ ] Fails if payload doesn't match contract\n- [ ] Runs in webhook-receiver CI\n\n## Technical Notes\n\n- Use pytest with request capture (responses library)\n- Reference contract from LTSEL-9\n- Tag as \n\n---\nHuly Issue: LTSEL-23","created_at":"2025-12-22T23:46:28Z"}]}
{"id":"lettatoolsselector-1w1oo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:52.106253981Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:52.106253981Z","comments":[{"id":1957,"issue_id":"lettatoolsselector-1w1oo","author":"root","text":"Synced from Beads: lettatoolsselector-b5e9\n\n---\nHuly Issue: LTSEL-363","created_at":"2026-01-02T03:28:52Z"}]}
{"id":"lettatoolsselector-1w8ns","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:32.021973163Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:32.021973163Z","comments":[{"id":1913,"issue_id":"lettatoolsselector-1w8ns","author":"root","text":"Synced from Beads: lettatoolsselector-elle\n\n---\nHuly Issue: LTSEL-420","created_at":"2026-01-02T03:28:32Z"}]}
{"id":"lettatoolsselector-1xa","title":"[Perf] Add connection wait with timeout to Weaviate pool","description":"## Problem\n`_acquire_connection()` raises exception immediately if no connections available instead of waiting.\n\n**Location:** `weaviate_client_manager.py:408-425`\n\n```python\n# Line 425\nraise Exception(\"No connections available in pool\")\n```\n\n## Impact\n- Under load, requests fail instead of queuing\n- **Priority:** LOW - only affects high concurrency\n\n## Solution\nImplement connection wait with timeout:\n\n```python\nasync def _acquire_connection(self, timeout: float = 5.0) -\u003e WeaviateConnection:\n    \"\"\"Acquire connection with wait timeout.\"\"\"\n    start = time.time()\n    \n    while time.time() - start \u003c timeout:\n        # Try to get available connection\n        for conn in self._pool:\n            if not conn.in_use:\n                conn.in_use = True\n                return conn\n        \n        # Wait briefly before retry\n        await asyncio.sleep(0.05)\n    \n    raise TimeoutError(f\"No connection available after {timeout}s\")\n```\n\n## Acceptance Criteria\n- [ ] Connections wait with configurable timeout\n- [ ] Timeout raises appropriate exception\n- [ ] Metrics for connection wait time\n- [ ] All unit tests pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T01:51:11.704316045Z","updated_at":"2025-12-29T19:41:48.059663755Z","closed_at":"2025-12-29T19:41:48.059663755Z","close_reason":"Implemented connection wait with timeout using threading.Condition. Added acquire_timeout config (default 5s), wait metrics, and notify on release.","labels":["performance"]}
{"id":"lettatoolsselector-1xtww","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:35.054393876Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:35.054393876Z","comments":[{"id":1920,"issue_id":"lettatoolsselector-1xtww","author":"root","text":"Synced from Beads: lettatoolsselector-vy7v\n\n---\nHuly Issue: LTSEL-410","created_at":"2026-01-02T03:28:35Z"}]}
{"id":"lettatoolsselector-1y3g","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:04.610834317Z","updated_at":"2025-12-30T01:46:28.241253898Z","comments":[{"id":947,"issue_id":"lettatoolsselector-1y3g","author":"root","text":"Synced from Beads: lettatoolsselector-fw6\n\n---\nHuly Issue: LTSEL-70","created_at":"2025-12-29T21:14:05Z"}]}
{"id":"lettatoolsselector-20aey","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:10.760033525Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:10.760033525Z","comments":[{"id":1996,"issue_id":"lettatoolsselector-20aey","author":"root","text":"Synced from Beads: lettatoolsselector-y24v\n\n---\nHuly Issue: LTSEL-320","created_at":"2026-01-02T03:29:10Z"}]}
{"id":"lettatoolsselector-20eij","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:20.646957534Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:20.646957534Z","comments":[{"id":1887,"issue_id":"lettatoolsselector-20eij","author":"root","text":"Synced from Beads: lettatoolsselector-687z\n\n---\nHuly Issue: LTSEL-457","created_at":"2026-01-02T03:28:20Z"}]}
{"id":"lettatoolsselector-23psd","title":"[Test] Integration test: Protected tools never detached","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T08:22:52.508643426Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:50.235413399Z","comments":[{"id":2874,"issue_id":"lettatoolsselector-23psd","author":"root","text":"Synced from Beads: lettatoolsselector-bhm\n\n---\nHuly Issue: LTSEL-50","created_at":"2026-01-02T08:22:52Z"}]}
{"id":"lettatoolsselector-24z","title":"[Test] Unit test: ensure_protected_tools attaches missing tools","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:17.158269365Z","updated_at":"2025-12-29T18:56:27.621840582Z","closed_at":"2025-12-29T18:56:27.621840582Z","close_reason":"Duplicate of lettatoolsselector-2a2 (unit test protected tools)","comments":[{"id":41,"issue_id":"lettatoolsselector-24z","author":"node","text":"## Purpose\n\nGuard against regression where protected tools logic fails silently.\n\n## Test Scenarios\n\n1. Agent has all protected tools -\u003e Returns already_present, no attach calls\n2. Agent missing find_agents -\u003e Attaches it, returns in attached list\n3. Tool ID lookup fails -\u003e Returns in failed list with reason\n4. Attach API fails -\u003e Returns in failed list with reason\n\n## Acceptance Criteria\n\n- [ ] All 4 scenarios covered\n- [ ] Uses mocked API responses\n- [ ] Verifies correct API calls made\n- [ ] Runs in \u003c 1 second\n\n## Technical Notes\n\n- Use pytest-mock\n- Part of SDK test suite\n- Tag as \n\n---\nHuly Issue: LTSEL-22","created_at":"2025-12-23T03:23:17Z"}]}
{"id":"lettatoolsselector-25xqg","title":"[Feature] Semantic Enrichment System for World-Class Retrieval","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T23:58:18.385802743Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:51.014677641Z","comments":[{"id":4412,"issue_id":"lettatoolsselector-25xqg","author":"root","text":"Synced from Huly: LTSEL-249","created_at":"2026-01-02T23:58:18Z"}]}
{"id":"lettatoolsselector-27shb","title":"[Enforcement] Create scheduled agent tool pruning job","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T04:39:25.680188545Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:24.034408394Z","comments":[{"id":2414,"issue_id":"lettatoolsselector-27shb","author":"root","text":"Synced from Beads: lettatoolsselector-6fh\n\n---\nHuly Issue: LTSEL-28","created_at":"2026-01-02T04:39:25Z"}]}
{"id":"lettatoolsselector-28osu","title":"[Perf] Reduce excessive logging in hot paths","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T21:49:06.96978058Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:59.952862666Z"}
{"id":"lettatoolsselector-2a1aa","title":"[Refactor] Migrate tools attach/prune/sync/refresh handlers to services pattern","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T20:20:50.444174824Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:15.267406988Z","comments":[{"id":4086,"issue_id":"lettatoolsselector-2a1aa","author":"root","text":"Synced from Beads: lettatoolsselector-dai\n\nMove remaining tools handlers from api_server.py into routes/tools.py using the services layer pattern.\n\n## Handlers to Migrate\n\n- _tools_attach_handler (~320 lines) - attaches tools to agents\n- _tools_prune_handler (~100 lines) - prunes excess tools\n- _tools_sync_handler (~15 lines) - syncs tool cache\n- _tools_refresh_handler (~10 lines) - refreshes tool cache\n\n## New Services Required\n\n- services/agent.py - AgentService wrapping fetch_agent_info, fetch_agent_tools\n- services/letta_client.py - LettaClientService wrapping SDK operations\n\n## Pattern\n\n1. Create new service files with DI pattern\n2. Move handler implementations into routes/tools.py\n3. Configure services in startup()\n4. Remove old handlers from api_server.py\n5. Update any tests mocking api_server to mock services\n\n## Estimated Reduction\n\n~450 lines removed from api_server.py\n\n---\nHuly Issue: LTSEL-234","created_at":"2026-01-02T20:20:50Z"}]}
{"id":"lettatoolsselector-2ap4o","title":"[SDK] Implement attach/detach tool helpers with retry logic","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T20:38:20.510098189Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:17.408360245Z","comments":[{"id":4112,"issue_id":"lettatoolsselector-2ap4o","author":"root","text":"Synced from Huly: LTSEL-43","created_at":"2026-01-02T20:38:20Z"}]}
{"id":"lettatoolsselector-2b3rc","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:25.145248976Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:25.145248976Z","comments":[{"id":1897,"issue_id":"lettatoolsselector-2b3rc","author":"root","text":"Synced from Beads: lettatoolsselector-puew\n\n---\nHuly Issue: LTSEL-441","created_at":"2026-01-02T03:28:25Z"}]}
{"id":"lettatoolsselector-2cxcs","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:42.565142402Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:42.565142402Z","comments":[{"id":1936,"issue_id":"lettatoolsselector-2cxcs","author":"root","text":"Synced from Beads: lettatoolsselector-8dlw\n\n---\nHuly Issue: LTSEL-389","created_at":"2026-01-02T03:28:42Z"}]}
{"id":"lettatoolsselector-2e52","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:28.920085192Z","updated_at":"2025-12-30T04:14:15.983076596Z","comments":[{"id":881,"issue_id":"lettatoolsselector-2e52","author":"root","text":"Synced from Beads: lettatoolsselector-mnp\n\n---\nHuly Issue: LTSEL-99","created_at":"2025-12-29T21:07:29Z"}]}
{"id":"lettatoolsselector-2ej1h","title":"[Refactor] Phase 6: Dependency injection and app factory","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:52:42.441815048Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:33.460509102Z","comments":[{"id":3801,"issue_id":"lettatoolsselector-2ej1h","author":"root","text":"Synced from Huly: LTSEL-222","created_at":"2026-01-02T17:52:42Z"}]}
{"id":"lettatoolsselector-2g32i","title":"[Refactor] Phase 3: Extract service layer - SearchService","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:06:58.234877509Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:21.978968778Z","comments":[{"id":3719,"issue_id":"lettatoolsselector-2g32i","author":"root","text":"Synced from Beads: lettatoolsselector-4w9\n\nExtract search and reranking logic into a dedicated SearchService.\n\n## Depends On\n\n- lettatoolsselector-869 (Phase 1: Extract models)\n\n## Functions to Extract\n\n### SearchService ()\n\nMove/consolidate these:\n\n\u003ctable\u003e\u003ctbody\u003e\u003ctr\u003e\u003cth\u003e\u003cp\u003eSource\u003c/p\u003e\u003c/th\u003e\u003cth\u003e\u003cp\u003eFunction\u003c/p\u003e\u003c/th\u003e\u003cth\u003e\u003cp\u003eResponsibility\u003c/p\u003e\u003c/th\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003cp\u003eapi_server.py\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003e\u003ccode\u003eunified_tool_search()\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003eUnified search interface\u003c/p\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003cp\u003eweaviate_tool_search_with_reranking.py\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003e\u003ccode\u003esearch_tools()\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003eWeaviate search\u003c/p\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003cp\u003eweaviate_tool_search_with_reranking.py\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003e\u003ccode\u003esearch_tools_with_reranking()\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\u003ctd\u003e\u003cp\u003eSearch + rerank\u003c/p\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\n### Interface\n\n\n\n### Reranker Abstraction\n\n\n\n## Acceptance Criteria\n\n- [ ] SearchService class created\n- [ ] Reranker abstraction with vLLM and Ollama implementations\n- [ ] Query expansion integrated\n- [ ] api_server.py uses SearchService\n- [ ] Unit tests for SearchService\n- [ ] Reranker can be swapped via config\n\n---\nHuly Issue: LTSEL-227","created_at":"2026-01-02T17:06:58Z"}]}
{"id":"lettatoolsselector-2iaog","title":"[SDK] Migrate webhook-receiver to use shared SDK","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T22:23:26.308500123Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:57.873416584Z","comments":[{"id":4322,"issue_id":"lettatoolsselector-2iaog","author":"root","text":"Synced from Beads: lettatoolsselector-06d\n\n---\nHuly Issue: LTSEL-53","created_at":"2026-01-02T22:23:26Z"}]}
{"id":"lettatoolsselector-2j72","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:36.498358717Z","updated_at":"2025-12-30T04:12:13.661004091Z","comments":[{"id":993,"issue_id":"lettatoolsselector-2j72","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-85","created_at":"2025-12-29T21:18:36Z"}]}
{"id":"lettatoolsselector-2jgpx","title":"[Test] Unit test: ensure_protected_tools attaches missing tools","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T18:50:59.431779769Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:35.584114354Z","comments":[{"id":3893,"issue_id":"lettatoolsselector-2jgpx","author":"root","text":"## Purpose\n\nGuard against regression where protected tools logic fails silently.\n\n## Test Scenarios\n\n1. Agent has all protected tools -\u003e Returns already_present, no attach calls\n2. Agent missing find_agents -\u003e Attaches it, returns in attached list\n3. Tool ID lookup fails -\u003e Returns in failed list with reason\n4. Attach API fails -\u003e Returns in failed list with reason\n\n## Acceptance Criteria\n\n- [ ] All 4 scenarios covered\n- [ ] Uses mocked API responses\n- [ ] Verifies correct API calls made\n- [ ] Runs in \u003c 1 second\n\n## Technical Notes\n\n- Use pytest-mock\n- Part of SDK test suite\n- Tag as \n\n---\nHuly Issue: LTSEL-22","created_at":"2026-01-02T18:50:59Z"}]}
{"id":"lettatoolsselector-2k8l","title":"[Perf] Cache MCP servers data in memory","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T02:35:22.097731353Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:41.963322484Z","comments":[{"id":1353,"issue_id":"lettatoolsselector-2k8l","author":"root","text":"Synced from Beads: lettatoolsselector-a3a\n\n## Problem\n\nHealth check reads MCP servers cache via async file I/O on every request.\n\n**Location:** \n\n\n\n## Impact\n\n- **Latency:** 5-50ms per health check in file I/O\n- **Priority:** MEDIUM - health checks are frequent\n\n## Solution\n\nCache MCP servers data in memory with TTL, similar to tool cache:\n\n\n\n## Acceptance Criteria\n\n- [ ] MCP servers cached in memory\n- [ ] Cache invalidated on file mtime change\n- [ ] Health check uses cached data\n- [ ] All unit tests pass\n\n---\nHuly Issue: LTSEL-241","created_at":"2026-01-02T02:35:22Z"}]}
{"id":"lettatoolsselector-2lms","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:55.069290504Z","updated_at":"2025-12-30T01:50:57.511123168Z","comments":[{"id":970,"issue_id":"lettatoolsselector-2lms","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:15:55Z"}]}
{"id":"lettatoolsselector-2lnf","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:48.062642242Z","updated_at":"2025-12-30T04:14:19.02061337Z","comments":[{"id":895,"issue_id":"lettatoolsselector-2lnf","author":"root","text":"Synced from Beads: lettatoolsselector-c9x\n\n---\nHuly Issue: LTSEL-69","created_at":"2025-12-29T21:08:48Z"}]}
{"id":"lettatoolsselector-2mj6q","title":"[Bugfix] Fix set iteration order mismatch in tool pruning result mapping","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T14:57:42.190768385Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:48.967233211Z","comments":[{"id":3493,"issue_id":"lettatoolsselector-2mj6q","author":"root","text":"Synced from Beads: lettatoolsselector-ubk\n\n---\nHuly Issue: LTSEL-44","created_at":"2026-01-02T14:57:42Z"}]}
{"id":"lettatoolsselector-2n75e","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:48.979615241Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:48.979615241Z","comments":[{"id":1950,"issue_id":"lettatoolsselector-2n75e","author":"root","text":"Synced from Beads: lettatoolsselector-d667\n\n---\nHuly Issue: LTSEL-371","created_at":"2026-01-02T03:28:49Z"}]}
{"id":"lettatoolsselector-2ossw","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:05.009281132Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:05.009281132Z","comments":[{"id":2225,"issue_id":"lettatoolsselector-2ossw","author":"root","text":"Synced from Beads: lettatoolsselector-6t7r\n\n---\nHuly Issue: LTSEL-580","created_at":"2026-01-02T03:44:05Z"}]}
{"id":"lettatoolsselector-2pg7","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:21.012004047Z","updated_at":"2025-12-30T02:06:48.263325989Z","comments":[{"id":921,"issue_id":"lettatoolsselector-2pg7","author":"root","text":"Synced from Beads: lettatoolsselector-65f\n\n---\nHuly Issue: LTSEL-65","created_at":"2025-12-29T21:11:21Z"}]}
{"id":"lettatoolsselector-2pvhy","title":"[Refactor] Phase 1: Extract data models and types","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T04:13:35.005375765Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:35.561390197Z","comments":[{"id":4699,"issue_id":"lettatoolsselector-2pvhy","author":"root","text":"Synced from Beads: lettatoolsselector-869\n\nExtract data models, types, and constants from api_server.py into dedicated modules.\n\n## Depends On\n\n- lettatoolsselector-642 (Phase 0: Test coverage)\n\n## Models to Extract\n\n### 1. Tool Models ()\n\n\n\n### 2. Agent Models ()\n\n\n\n### 3. Request/Response Models ()\n\n\n\n### 4. Constants ()\n\n\n\n## File Structure\n\n\n\n## Acceptance Criteria\n\n- [ ] All models extracted to dedicated files\n- [ ] Constants moved to constants.py\n- [ ] api_server.py imports from new modules\n- [ ] All tests still pass\n- [ ] No functional changes\n\n---\nHuly Issue: LTSEL-225","created_at":"2026-01-03T04:13:35Z"}]}
{"id":"lettatoolsselector-2q3u7","title":"[Refactor] Migrate config handlers to config blueprint","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T15:03:02.102632477Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:38.029065858Z","comments":[{"id":3521,"issue_id":"lettatoolsselector-2q3u7","author":"root","text":"Synced from Beads: lettatoolsselector-tad\n\n## Goal\n\nMove the 3 remaining config handlers from api_server.py into routes/config.py with full implementations.\n\n## Handlers to Migrate\n\n- _validate_config_handler() - Line 783\n- _get_tool_selector_config_handler() - Line 819\n- _update_tool_selector_config_handler() - Line 871\n\n## Pattern\n\n1. These handlers read/write config files - relatively self-contained\n2. Move implementation code directly into config.py routes\n3. Remove delegation pattern\n4. Update any tests mocking these handlers\n\n## Acceptance Criteria\n\n- [ ] All 3 handlers removed from api_server.py\n- [ ] routes/config.py contains full implementations\n- [ ] All unit tests pass\n- [ ] No new dependencies on api_server needed\n\n---\nHuly Issue: LTSEL-237","created_at":"2026-01-02T15:03:02Z"}]}
{"id":"lettatoolsselector-2q9la","title":"[Test] Performance test: Tool attachment under load","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T11:59:13.027192078Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:31.375094062Z","comments":[{"id":3261,"issue_id":"lettatoolsselector-2q9la","author":"root","text":"Synced from Beads: lettatoolsselector-jql\n\n---\nHuly Issue: LTSEL-39","created_at":"2026-01-02T11:59:13Z"}]}
{"id":"lettatoolsselector-2rm7u","title":"[Refactor] Migrate models handlers to models blueprint","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T15:53:29.125765919Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:39.889595849Z","comments":[{"id":3631,"issue_id":"lettatoolsselector-2rm7u","author":"root","text":"Synced from Beads: lettatoolsselector-7z8\n\n## Goal\n\nMove 4 models-related handlers from api_server.py into routes/models.py with full implementations.\n\n## Handlers to Migrate\n\n- _search_test_handler() - Line 1436\n- _get_embedding_models_handler() - Line 1527\n- _get_embedding_health_handler() - Line 1622\n- _get_reranker_models_handler() - Line 1765\n\n## Dependencies\n\nThese handlers interact with:\n\n- Embedding providers (Ollama, etc.)\n- Reranker configuration\n- Health check utilities\n\n## Pattern\n\n1. Move handler implementations into models.py blueprint\n2. Pass required dependencies via configure() method\n3. May reuse existing services (embedding_providers, etc.)\n4. Remove old handlers from api_server.py\n\n## Acceptance Criteria\n\n- [ ] All 4 handlers removed from api_server.py\n- [ ] routes/models.py contains full implementations\n- [ ] All unit tests pass\n\n---\nHuly Issue: LTSEL-236","created_at":"2026-01-02T15:53:29Z"}]}
{"id":"lettatoolsselector-33d","title":"[Refactor] Migrate safety handlers to safety blueprint","description":"## Goal\nMove 3 safety-related handlers from api_server.py into routes/safety.py with full implementations.\n\n## Handlers to Migrate\n- _get_safety_status_handler() - Line 2388\n- _validate_operation_handler() - Line 2469\n- _get_emergency_status_handler() - Line 2514\n\n## Dependencies\nThese handlers interact with:\n- Safety/protection status utilities\n- Tool validation logic\n- Emergency mode state\n\n## Pattern\n1. Move handler implementations into safety.py blueprint\n2. Pass required dependencies via configure() method\n3. Remove old handlers from api_server.py\n\n## Acceptance Criteria\n- [ ] All 3 handlers removed from api_server.py\n- [ ] routes/safety.py contains full implementations\n- [ ] All unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T00:43:22.309752565Z","updated_at":"2025-12-29T01:06:15.70343165Z","closed_at":"2025-12-29T01:06:15.70343165Z","close_reason":"Closed","labels":["refactor","services-layer"]}
{"id":"lettatoolsselector-35e","title":"[Config] Add config validation to CI pipeline","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:19.20176836Z","updated_at":"2025-12-29T18:56:24.150553096Z","closed_at":"2025-12-29T18:56:24.150553096Z","close_reason":"Duplicate of lettatoolsselector-5vu (config validation CI)","comments":[{"id":45,"issue_id":"lettatoolsselector-35e","author":"node","text":"## Problem\n\nInvalid config values (e.g., MAX_TOTAL_TOOLS \u003e MAX_MCP_TOOLS) can be deployed without warning.\n\n## Solution\n\nAdd CI job that validates configuration constraints.\n\n## Acceptance Criteria\n\n- [ ] CI job runs on every PR\n- [ ] Validates: MAX_TOTAL_TOOLS \u003c= MAX_MCP_TOOLS\n- [ ] Validates: MIN_MCP_TOOLS \u003c= MAX_TOTAL_TOOLS\n- [ ] Validates: PROTECTED_TOOLS contains valid tool names\n- [ ] Fails build with clear error message on invalid config\n\n## Technical Notes\n\n- Can be a simple Python script\n- Read from .env.example for defaults\n- Consider JSON schema for config validation\n\n---\nHuly Issue: LTSEL-16","created_at":"2025-12-23T03:23:19Z"}]}
{"id":"lettatoolsselector-36qf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:52.092468003Z","updated_at":"2025-12-30T01:49:00.503834564Z","comments":[{"id":960,"issue_id":"lettatoolsselector-36qf","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-96","created_at":"2025-12-29T21:14:52Z"}]}
{"id":"lettatoolsselector-37a6g","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:51.681356155Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:51.681356155Z","comments":[{"id":1956,"issue_id":"lettatoolsselector-37a6g","author":"root","text":"Synced from Beads: lettatoolsselector-q3fn\n\n---\nHuly Issue: LTSEL-364","created_at":"2026-01-02T03:28:51Z"}]}
{"id":"lettatoolsselector-37d9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:23:33.761866305Z","updated_at":"2025-12-30T01:59:10.340570632Z","comments":[{"id":1026,"issue_id":"lettatoolsselector-37d9","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:23:34Z"}]}
{"id":"lettatoolsselector-39wp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:30:41.884514541Z","updated_at":"2025-12-30T02:04:59.295349715Z","comments":[{"id":1056,"issue_id":"lettatoolsselector-39wp","author":"root","text":"Synced from Beads: lettatoolsselector-m03\n\n---\nHuly Issue: LTSEL-71","created_at":"2025-12-29T21:30:42Z"}]}
{"id":"lettatoolsselector-3atbd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:30.998725966Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:30.998725966Z","comments":[{"id":2038,"issue_id":"lettatoolsselector-3atbd","author":"root","text":"Synced from Beads: lettatoolsselector-5hl3\n\n---\nHuly Issue: LTSEL-277","created_at":"2026-01-02T03:29:31Z"}]}
{"id":"lettatoolsselector-3fs9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:00.931595111Z","updated_at":"2025-12-30T04:11:33.251390272Z","comments":[{"id":849,"issue_id":"lettatoolsselector-3fs9","author":"root","text":"Synced from Beads: lettatoolsselector-mwv\n\n---\nHuly Issue: LTSEL-103","created_at":"2025-12-29T21:04:01Z"}]}
{"id":"lettatoolsselector-3iy","title":"[Config] Consolidate .env files and compose configurations","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:07.521149427Z","updated_at":"2025-12-23T03:23:07.879876339Z","closed_at":"2025-12-23T03:23:07.879876339Z","close_reason":"Closed","comments":[{"id":31,"issue_id":"lettatoolsselector-3iy","author":"node","text":"## Problem\n\nTool selector has multiple compose files (compose.yaml, docker-compose.yml, compose-with-reranker.yaml) and an .env file. Changes require editing multiple places.\n\n## Solution\n\nConsolidate to single compose.yaml with environment-specific overrides via .env.\n\n## Acceptance Criteria\n\n- [ ] Single compose.yaml as source of truth\n- [ ] .env.example checked into repo with all variables documented\n- [ ] .env (not checked in) for local overrides\n- [ ] Remove deprecated docker-compose.yml\n- [ ] CI validates .env.example has all required vars\n\n## Technical Notes\n\n- Use compose profiles for optional services (reranker, etc.)\n- Document which vars are required vs optional\n- Add validation script to check env completeness\n\n---\nHuly Issue: LTSEL-15","created_at":"2025-12-23T03:23:07Z"}]}
{"id":"lettatoolsselector-3mwbx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:17.208515136Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:17.208515136Z","comments":[{"id":1879,"issue_id":"lettatoolsselector-3mwbx","author":"root","text":"Synced from Beads: lettatoolsselector-t3y2\n\n---\nHuly Issue: LTSEL-470","created_at":"2026-01-02T03:28:17Z"}]}
{"id":"lettatoolsselector-3nsgn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:36.176590957Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:36.176590957Z","comments":[{"id":2050,"issue_id":"lettatoolsselector-3nsgn","author":"root","text":"Synced from Beads: lettatoolsselector-yft2\n\n---\nHuly Issue: LTSEL-265","created_at":"2026-01-02T03:29:36Z"}]}
{"id":"lettatoolsselector-3nw","title":"[Perf] Reuse Weaviate connection pool instead of creating client per search","description":"## Problem\nEach call to `search_tools_with_reranking()` creates a new Weaviate client via `init_client()`, including TCP/gRPC connection establishment.\n\n**Location:** `weaviate_tool_search_with_reranking.py:204-208, 331-335`\n\n```python\n# Line 204\nclient = init_client()  # Creates new client EVERY search!\n```\n\n## Impact\n- **Latency:** 50-200ms per search in connection overhead\n- **Priority:** CRITICAL - affects every search request\n\n## Solution\nUse the existing `WeaviateClientManager` connection pool from `weaviate_client_manager.py`:\n\n```python\nfrom weaviate_client_manager import get_client_manager\n\ndef search_tools_with_reranking(...):\n    manager = get_client_manager()\n    with manager.get_client() as client:\n        # perform search\n```\n\n## Acceptance Criteria\n- [ ] `search_tools()` uses connection pool\n- [ ] `search_tools_with_reranking()` uses connection pool\n- [ ] No new Weaviate clients created per request\n- [ ] Connection pool metrics logged on startup\n- [ ] All unit tests pass","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:49:05.951470743Z","updated_at":"2025-12-29T15:40:23.078098729Z","closed_at":"2025-12-29T15:40:23.078098729Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-3ooeq","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:06.237174562Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:06.237174562Z","comments":[{"id":2226,"issue_id":"lettatoolsselector-3ooeq","author":"root","text":"Synced from Beads: lettatoolsselector-he3x\n\n---\nHuly Issue: LTSEL-578","created_at":"2026-01-02T03:44:06Z"}]}
{"id":"lettatoolsselector-3os7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:52.314160574Z","updated_at":"2025-12-30T04:14:20.137115314Z","comments":[{"id":899,"issue_id":"lettatoolsselector-3os7","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:08:52Z"}]}
{"id":"lettatoolsselector-3rmm3","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:55.063682349Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:55.063682349Z","comments":[{"id":2224,"issue_id":"lettatoolsselector-3rmm3","author":"root","text":"Synced from Beads: lettatoolsselector-x1pr\n\n---\nHuly Issue: LTSEL-603","created_at":"2026-01-02T03:43:55Z"}]}
{"id":"lettatoolsselector-3uph","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:58.524435903Z","updated_at":"2025-12-30T01:56:03.575834154Z","comments":[{"id":1003,"issue_id":"lettatoolsselector-3uph","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-83","created_at":"2025-12-29T21:19:58Z"}]}
{"id":"lettatoolsselector-3x3p","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:01:34.291572583Z","updated_at":"2025-12-30T04:14:02.830256279Z","comments":[{"id":823,"issue_id":"lettatoolsselector-3x3p","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:01:34Z"}]}
{"id":"lettatoolsselector-418","title":"[Config] Create automated deploy script","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:18.823169301Z","updated_at":"2025-12-29T18:56:25.289903875Z","closed_at":"2025-12-29T18:56:25.289903875Z","close_reason":"Duplicate of lettatoolsselector-7rj (deploy script)","comments":[{"id":44,"issue_id":"lettatoolsselector-418","author":"node","text":"## Problem\n\nChanging config requires manual: edit .env, restart container, verify health. This is error-prone.\n\n## Solution\n\nCreate a deploy script that handles config updates safely.\n\n## Acceptance Criteria\n\n- [ ] Script:  to update and restart\n- [ ] Validates config before deploying\n- [ ] Backs up current .env before changes\n- [ ] Waits for health check after restart\n- [ ] Rolls back on health check failure\n- [ ] Logs all actions for audit\n\n## Technical Notes\n\n- Use docker compose up -d --force-recreate\n- Add --dry-run flag for testing\n- Consider GitHub Action for remote deploys\n\n---\nHuly Issue: LTSEL-17","created_at":"2025-12-23T03:23:19Z"}]}
{"id":"lettatoolsselector-4258","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:24.0366961Z","updated_at":"2025-12-30T04:12:00.909489576Z","comments":[{"id":893,"issue_id":"lettatoolsselector-4258","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-105","created_at":"2025-12-29T21:08:24Z"}]}
{"id":"lettatoolsselector-43wh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:33.2984387Z","updated_at":"2025-12-30T04:11:31.401023372Z","comments":[{"id":842,"issue_id":"lettatoolsselector-43wh","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-104","created_at":"2025-12-29T21:03:33Z"}]}
{"id":"lettatoolsselector-4560z","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:40.728144715Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:40.728144715Z","comments":[{"id":1932,"issue_id":"lettatoolsselector-4560z","author":"root","text":"Synced from Beads: lettatoolsselector-qaxh\n\n---\nHuly Issue: LTSEL-395","created_at":"2026-01-02T03:28:40Z"}]}
{"id":"lettatoolsselector-46k","title":"[Code Quality] Fix type annotation errors in api_server.py","description":"The api_server.py file has 68+ type checking errors from Pyright/Pylance. These don't affect runtime but indicate code quality issues.\n\n## Main Categories of Errors\n\n### 1. None vs Expected Type\nFunctions return `None` but type hints expect a specific type:\n- Line 309: Expression of type 'None' cannot be assigned to parameter of type 'str'\n- Line 403: Expression of type 'None' cannot be assigned to parameter of type 'list'\n- Line 898, 978, 980, 1037: Similar None assignment issues\n\n### 2. Possibly Unbound Variables  \nVariables that might not be defined in all code paths:\n- Lines 255, 314, 369, 833, 854, 874: 'get_letta_sdk_client' is possibly unbound\n\n### 3. Function Signature Mismatches\nDeclared types don't match actual implementations:\n- Line 18: ConfigValidationResponse vs expected CoroutineType\n- Line 23: Multiple async function return type mismatches\n\n## Acceptance Criteria\n- [ ] All Pyright/Pylance errors resolved\n- [ ] Type hints accurately reflect actual function behavior  \n- [ ] No runtime behavior changes\n- [ ] Tests still pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T17:12:59.527538844Z","updated_at":"2025-12-29T19:21:55.149577816Z","closed_at":"2025-12-29T19:21:55.149577816Z","close_reason":"Fixed: removed duplicate functions, fixed async stubs, added type ignore for import conflicts - 0 pyright errors"}
{"id":"lettatoolsselector-4d5eu","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:21.548964Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:21.548964Z","comments":[{"id":1889,"issue_id":"lettatoolsselector-4d5eu","author":"root","text":"Synced from Beads: lettatoolsselector-pnew\n\n---\nHuly Issue: LTSEL-454","created_at":"2026-01-02T03:28:21Z"}]}
{"id":"lettatoolsselector-4fjlj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:08.577041747Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:08.577041747Z","comments":[{"id":1992,"issue_id":"lettatoolsselector-4fjlj","author":"root","text":"Synced from Beads: lettatoolsselector-1i3j\n\n---\nHuly Issue: LTSEL-324","created_at":"2026-01-02T03:29:08Z"}]}
{"id":"lettatoolsselector-4g01x","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:36.483649685Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:36.483649685Z","comments":[{"id":1923,"issue_id":"lettatoolsselector-4g01x","author":"root","text":"Synced from Beads: lettatoolsselector-asci\n\n---\nHuly Issue: LTSEL-406","created_at":"2026-01-02T03:28:36Z"}]}
{"id":"lettatoolsselector-4gri4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:40.289648799Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:40.289648799Z","comments":[{"id":1931,"issue_id":"lettatoolsselector-4gri4","author":"root","text":"Synced from Beads: lettatoolsselector-qbgt\n\n---\nHuly Issue: LTSEL-396","created_at":"2026-01-02T03:28:40Z"}]}
{"id":"lettatoolsselector-4gv1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:51.323124074Z","updated_at":"2025-12-30T04:14:01.962894288Z","comments":[{"id":819,"issue_id":"lettatoolsselector-4gv1","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:00:51Z"}]}
{"id":"lettatoolsselector-4iil7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:38.409461243Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:38.409461243Z","comments":[{"id":1927,"issue_id":"lettatoolsselector-4iil7","author":"root","text":"Synced from Beads: lettatoolsselector-jdh0\n\n---\nHuly Issue: LTSEL-401","created_at":"2026-01-02T03:28:38Z"}]}
{"id":"lettatoolsselector-4isq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:19.798292616Z","updated_at":"2025-12-30T01:51:25.215645722Z","comments":[{"id":974,"issue_id":"lettatoolsselector-4isq","author":"root","text":"Synced from Beads: lettatoolsselector-an3\n\n---\nHuly Issue: LTSEL-89","created_at":"2025-12-29T21:16:20Z"}]}
{"id":"lettatoolsselector-4j1q","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:05.676754432Z","updated_at":"2025-12-30T01:54:01.338201922Z","comments":[{"id":987,"issue_id":"lettatoolsselector-4j1q","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-81","created_at":"2025-12-29T21:18:06Z"}]}
{"id":"lettatoolsselector-4oy08","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:16.114771705Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:16.114771705Z","comments":[{"id":2006,"issue_id":"lettatoolsselector-4oy08","author":"root","text":"Synced from Beads: lettatoolsselector-losm\n\n---\nHuly Issue: LTSEL-309","created_at":"2026-01-02T03:29:16Z"}]}
{"id":"lettatoolsselector-4p9c","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T20:14:44.685901003Z","updated_at":"2025-12-30T03:29:54.868642031Z","comments":[{"id":361,"issue_id":"lettatoolsselector-4p9c","author":"root","text":"Synced from Beads: lettatoolsselector-kl5\n\n---\nHuly Issue: LTSEL-209","created_at":"2025-12-29T20:14:44Z"}]}
{"id":"lettatoolsselector-4qrv8","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:12.489782602Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:12.489782602Z","comments":[{"id":2229,"issue_id":"lettatoolsselector-4qrv8","author":"root","text":"Synced from Beads: lettatoolsselector-xfvm\n\n---\nHuly Issue: LTSEL-570","created_at":"2026-01-02T03:44:12Z"}]}
{"id":"lettatoolsselector-4rnv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:20:32.928680942Z","updated_at":"2025-12-30T01:56:15.836826217Z","comments":[{"id":1005,"issue_id":"lettatoolsselector-4rnv","author":"root","text":"Synced from Beads: lettatoolsselector-1kj\n\n---\nHuly Issue: LTSEL-76","created_at":"2025-12-29T21:20:33Z"}]}
{"id":"lettatoolsselector-4rvw","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:08.653008462Z","updated_at":"2025-12-30T04:11:49.156740407Z","comments":[{"id":829,"issue_id":"lettatoolsselector-4rvw","author":"root","text":"Synced from Beads: lettatoolsselector-2iz\n\n---\nHuly Issue: LTSEL-120","created_at":"2025-12-29T21:02:08Z"}]}
{"id":"lettatoolsselector-4s3nz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:27.375060086Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:27.375060086Z","comments":[{"id":1902,"issue_id":"lettatoolsselector-4s3nz","author":"root","text":"Synced from Beads: lettatoolsselector-zc1i\n\n---\nHuly Issue: LTSEL-435","created_at":"2026-01-02T03:28:27Z"}]}
{"id":"lettatoolsselector-4t4g","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:46.959962595Z","updated_at":"2025-12-30T02:08:15.396089009Z","comments":[{"id":927,"issue_id":"lettatoolsselector-4t4g","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-88","created_at":"2025-12-29T21:11:47Z"}]}
{"id":"lettatoolsselector-4tm","title":"[SDK] Create letta-toolkit Python package scaffold","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:12.941728881Z","updated_at":"2025-12-23T03:23:13.332563419Z","closed_at":"2025-12-23T03:23:13.332563419Z","close_reason":"Closed","comments":[{"id":36,"issue_id":"lettatoolsselector-4tm","author":"node","text":"## Problem\n\nTool management logic is duplicated across webhook-receiver and tool-selector repos, causing drift and inconsistent behavior.\n\n## Solution\n\nCreate a shared Python package  that can be installed in both repos.\n\n## Acceptance Criteria\n\n- [ ] Package scaffold with  and proper versioning\n- [ ] Package published to private PyPI or installable via git+https\n- [ ] Basic CI/CD pipeline for testing and publishing\n- [ ] README with installation and usage instructions\n\n## Technical Notes\n\n- Use  layout for clean imports\n- Target Python 3.11+\n- Include type hints throughout\n\n---\nHuly Issue: LTSEL-1","created_at":"2025-12-23T03:23:13Z"}]}
{"id":"lettatoolsselector-4w9","title":"[Refactor] Phase 3: Extract service layer - SearchService","description":"Extract search and reranking logic into a dedicated SearchService.\n\n## Depends On\n- lettatoolsselector-869 (Phase 1: Extract models)\n\n## Functions to Extract\n\n### SearchService (`services/search_service.py`)\n\nMove/consolidate these:\n\n| Source | Function | Responsibility |\n|--------|----------|----------------|\n| api_server.py | `unified_tool_search()` | Unified search interface |\n| weaviate_tool_search_with_reranking.py | `search_tools()` | Weaviate search |\n| weaviate_tool_search_with_reranking.py | `search_tools_with_reranking()` | Search + rerank |\n\n### Interface\n```python\nclass SearchService:\n    def __init__(\n        self, \n        weaviate_client,\n        reranker_config: RerankerConfig,\n        expansion_config: ExpansionConfig\n    ):\n        self.weaviate = weaviate_client\n        self.reranker = reranker_config\n        self.expansion = expansion_config\n    \n    async def search(\n        self,\n        query: str,\n        limit: int = 10,\n        min_score: float = 0.0,\n        enable_reranking: bool = True,\n        enable_expansion: bool = True\n    ) -\u003e List[ToolSearchResult]:\n        ...\n    \n    async def rerank(\n        self,\n        query: str,\n        documents: List[str],\n        top_k: int = 10\n    ) -\u003e List[RerankResult]:\n        ...\n    \n    def expand_query(self, query: str) -\u003e ExpandedQuery:\n        ...\n```\n\n### Reranker Abstraction\n```python\nclass RerankerClient(Protocol):\n    async def rerank(self, query: str, documents: List[str], top_k: int) -\u003e List[RerankResult]:\n        ...\n\nclass VLLMReranker(RerankerClient):\n    # http://100.81.139.20:11435/v1/rerank\n    ...\n\nclass OllamaReranker(RerankerClient):\n    # http://ollama-reranker-adapter:8080/rerank\n    ...\n```\n\n## Acceptance Criteria\n- [ ] SearchService class created\n- [ ] Reranker abstraction with vLLM and Ollama implementations\n- [ ] Query expansion integrated\n- [ ] api_server.py uses SearchService\n- [ ] Unit tests for SearchService\n- [ ] Reranker can be swapped via config","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:37:39.506134951Z","updated_at":"2025-12-29T19:02:07.732528849Z","closed_at":"2025-12-29T19:02:07.732528849Z","close_reason":"SearchService extracted to search_service.py (615 lines)"}
{"id":"lettatoolsselector-4wnv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:29:36.411136906Z","updated_at":"2025-12-30T02:03:28.284793673Z","comments":[{"id":1051,"issue_id":"lettatoolsselector-4wnv","author":"root","text":"Synced from Beads: lettatoolsselector-cgd\n\n---\nHuly Issue: LTSEL-73","created_at":"2025-12-29T21:29:36Z"}]}
{"id":"lettatoolsselector-4wxk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:17.24685709Z","updated_at":"2025-12-30T04:14:21.453466022Z","comments":[{"id":904,"issue_id":"lettatoolsselector-4wxk","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:09:17Z"}]}
{"id":"lettatoolsselector-4xui","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:27:23.276267844Z","updated_at":"2025-12-30T02:01:47.644243125Z","comments":[{"id":1040,"issue_id":"lettatoolsselector-4xui","author":"root","text":"Synced from Beads: lettatoolsselector-ksi\n\n---\nHuly Issue: LTSEL-64","created_at":"2025-12-29T21:27:23Z"}]}
{"id":"lettatoolsselector-4z89g","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:28.731056446Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:28.731056446Z","comments":[{"id":2274,"issue_id":"lettatoolsselector-4z89g","author":"root","text":"Synced from Beads: lettatoolsselector-8rdg\n\n---\nHuly Issue: LTSEL-392","created_at":"2026-01-02T03:45:28Z"}]}
{"id":"lettatoolsselector-52frf","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:52.224328074Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:52.224328074Z","comments":[{"id":2219,"issue_id":"lettatoolsselector-52frf","author":"root","text":"Synced from Beads: lettatoolsselector-1zc8\n\n---\nHuly Issue: LTSEL-613","created_at":"2026-01-02T03:43:52Z"}]}
{"id":"lettatoolsselector-534","title":"[Perf] Queue audit events for async background processing","description":"## Problem\nAudit events are emitted synchronously in the request path, adding latency to every attach/prune operation.\n\n**Location:** `routes/tools.py:557-603, 700-754`\n\n```python\n# Line 557-603\nif _emit_batch_event_func and _audit_action_class and _audit_source_class:\n    # ... emit events synchronously ...\n```\n\n## Impact\n- **Latency:** 1-10ms per request\n- **Priority:** LOW-MEDIUM\n\n## Solution\nQueue audit events for background processing:\n\n```python\nimport asyncio\nfrom collections import deque\n\n_audit_queue: deque = deque(maxsize=10000)\n_audit_task: asyncio.Task = None\n\ndef queue_audit_event(event: dict):\n    \"\"\"Queue event for background processing.\"\"\"\n    try:\n        _audit_queue.append(event)\n    except:\n        logger.warning(\"Audit queue full, dropping event\")\n\nasync def _process_audit_queue():\n    \"\"\"Background task to process audit events.\"\"\"\n    while True:\n        if _audit_queue:\n            event = _audit_queue.popleft()\n            try:\n                await _emit_event_async(event)\n            except Exception as e:\n                logger.error(f\"Failed to emit audit event: {e}\")\n        else:\n            await asyncio.sleep(0.1)\n\nasync def start_audit_processor():\n    global _audit_task\n    _audit_task = asyncio.create_task(_process_audit_queue())\n```\n\n## Acceptance Criteria\n- [ ] Audit events queued instead of sync emission\n- [ ] Background task processes queue\n- [ ] Queue overflow handling (drop oldest or warn)\n- [ ] Graceful shutdown flushes queue\n- [ ] All unit tests pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T01:50:47.407351837Z","updated_at":"2025-12-29T19:34:43.068258037Z","closed_at":"2025-12-29T19:34:43.068258037Z","close_reason":"Added async queue for audit events with background processor, start/stop lifecycle hooks, graceful shutdown with flush","labels":["performance"]}
{"id":"lettatoolsselector-58p54","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:13.439293697Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:13.439293697Z","comments":[{"id":2001,"issue_id":"lettatoolsselector-58p54","author":"root","text":"Synced from Beads: lettatoolsselector-fufs\n\n---\nHuly Issue: LTSEL-314","created_at":"2026-01-02T03:29:13Z"}]}
{"id":"lettatoolsselector-5a6q7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:32.72142278Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:32.72142278Z","comments":[{"id":2042,"issue_id":"lettatoolsselector-5a6q7","author":"root","text":"Synced from Beads: lettatoolsselector-dzqn\n\n---\nHuly Issue: LTSEL-273","created_at":"2026-01-02T03:29:32Z"}]}
{"id":"lettatoolsselector-5epvi","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:07.853619343Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:07.853619343Z","comments":[{"id":2266,"issue_id":"lettatoolsselector-5epvi","author":"root","text":"Synced from Beads: lettatoolsselector-78x2\n\n---\nHuly Issue: LTSEL-422","created_at":"2026-01-02T03:45:08Z"}]}
{"id":"lettatoolsselector-5hl3","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:27.305248952Z","updated_at":"2025-12-30T02:05:20.2307888Z","comments":[{"id":1059,"issue_id":"lettatoolsselector-5hl3","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-58","created_at":"2025-12-29T21:31:27Z"}]}
{"id":"lettatoolsselector-5ov2a","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:28.392508087Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:28.392508087Z","comments":[{"id":2032,"issue_id":"lettatoolsselector-5ov2a","author":"root","text":"Synced from Beads: lettatoolsselector-p1cp\n\n---\nHuly Issue: LTSEL-283","created_at":"2026-01-02T03:29:28Z"}]}
{"id":"lettatoolsselector-5rrnq","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:13.778517724Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:13.778517724Z","comments":[{"id":2230,"issue_id":"lettatoolsselector-5rrnq","author":"root","text":"Synced from Beads: lettatoolsselector-osh5\n\n---\nHuly Issue: LTSEL-569","created_at":"2026-01-02T03:44:14Z"}]}
{"id":"lettatoolsselector-5vjn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:17.732010797Z","updated_at":"2025-12-30T04:14:00.898671362Z","comments":[{"id":816,"issue_id":"lettatoolsselector-5vjn","author":"root","text":"Synced from Beads: lettatoolsselector-5mj\n\n---\nHuly Issue: LTSEL-123","created_at":"2025-12-29T21:00:18Z"}]}
{"id":"lettatoolsselector-5vlx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:07.471025392Z","updated_at":"2025-12-30T04:11:58.016292159Z","comments":[{"id":872,"issue_id":"lettatoolsselector-5vlx","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:06:07Z"}]}
{"id":"lettatoolsselector-5xjd8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:15.858570449Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:15.858570449Z","comments":[{"id":1876,"issue_id":"lettatoolsselector-5xjd8","author":"root","text":"Synced from Beads: lettatoolsselector-poyh\n\n---\nHuly Issue: LTSEL-473","created_at":"2026-01-02T03:28:16Z"}]}
{"id":"lettatoolsselector-5xn","title":"[Test] Integration test: Protected tools never detached","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:05.985338423Z","updated_at":"2025-12-23T03:23:06.372637179Z","closed_at":"2025-12-23T03:23:06.372637179Z","close_reason":"Closed","comments":[{"id":29,"issue_id":"lettatoolsselector-5xn","author":"node","text":"## Purpose\n\nRegression guard to ensure protected tools are never removed during pruning.\n\n## Test Scenario\n\n1. Create test agent with MAX_TOTAL_TOOLS tools including find_agents\n2. Trigger attachment that would require pruning\n3. Assert: find_agents is still attached after operation\n4. Repeat for each protected tool in PROTECTED_TOOLS list\n\n## Acceptance Criteria\n\n- [ ] Test runs in CI on every PR\n- [ ] Covers all configured protected tools\n- [ ] Fails if any protected tool is detached\n- [ ] Logs which tools were pruned vs preserved\n\n## Technical Notes\n\n- Parameterize test over PROTECTED_TOOLS list\n- Use pytest-parametrize for clean test output\n- Tag as \n\n---\nHuly Issue: LTSEL-20","created_at":"2025-12-23T03:23:06Z"}]}
{"id":"lettatoolsselector-5xqly","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:57.55806166Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:57.55806166Z","comments":[{"id":2258,"issue_id":"lettatoolsselector-5xqly","author":"root","text":"Synced from Beads: lettatoolsselector-yta9\n\n---\nHuly Issue: LTSEL-453","created_at":"2026-01-02T03:44:57Z"}]}
{"id":"lettatoolsselector-5y15","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:50.544289768Z","updated_at":"2025-12-30T04:14:01.573132561Z","comments":[{"id":818,"issue_id":"lettatoolsselector-5y15","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:00:50Z"}]}
{"id":"lettatoolsselector-5yds","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:06.534048305Z","updated_at":"2025-12-30T01:46:40.307979439Z","comments":[{"id":949,"issue_id":"lettatoolsselector-5yds","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-87","created_at":"2025-12-29T21:14:06Z"}]}
{"id":"lettatoolsselector-626","title":"[Config] Document operational runbooks","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:28.787444478Z","updated_at":"2025-12-29T18:56:26.302600036Z","closed_at":"2025-12-29T18:56:26.302600036Z","close_reason":"Duplicate of lettatoolsselector-xoz (operational runbooks)","comments":[{"id":19,"issue_id":"lettatoolsselector-626","author":"node","text":"## Problem\n\nNo documentation for common ops tasks. Each debugging session rediscovers the same steps.\n\n## Solution\n\nCreate runbooks for common operations.\n\n## Acceptance Criteria\n\n- [ ] Runbook: How to change MAX_TOTAL_TOOLS limit\n- [ ] Runbook: How to add/remove protected tools\n- [ ] Runbook: How to manually prune an agent's tools\n- [ ] Runbook: How to debug \"tool not attaching\" issues\n- [ ] Runbook: How to check tool selector health\n- [ ] Store in docs/ directory within repo\n\n## Technical Notes\n\n- Include exact commands with expected outputs\n- Link to relevant compose services and env vars\n- Keep updated as architecture evolves\n\n---\nHuly Issue: LTSEL-18","created_at":"2025-12-22T23:46:28Z"}]}
{"id":"lettatoolsselector-642","title":"[Refactor] Phase 0: Establish test coverage for critical paths","description":"Before refactoring api_server.py (9,027 lines), we need test coverage on critical paths to ensure refactoring doesn't break functionality.\n\n## Critical Paths to Cover\n\n### Priority 1 - Core Tool Operations (Most Used)\n1. **POST /api/v1/tools/attach** (lines 1136-1455)\n   - Tool search and attachment flow\n   - Pre-attach pruning logic\n   - Loop trigger mechanism\n   - Webhook emission\n\n2. **POST /api/v1/tools/search** (lines 577-678)\n   - Weaviate search with reranking\n   - Query expansion\n   - Score filtering\n\n3. **POST /api/v1/tools/prune** (lines 1779-1888)\n   - Tool pruning logic\n   - MIN_MCP_TOOLS enforcement\n\n### Priority 2 - Supporting Functions\n4. `attach_tool()` / `detach_tool()` (lines 309-401)\n5. `process_tools()` (lines 403-575)\n6. `_perform_tool_pruning()` (lines 1483-1777)\n7. `trigger_agent_loop()` (lines 1037-1081)\n\n### Priority 3 - Cache \u0026 Agent Operations\n8. `read_tool_cache()` / `read_mcp_servers_cache()`\n9. `fetch_agent_info()` / `fetch_agent_tools()`\n\n## Current Coverage\n- Overall: 13%\n- api_server.py: 8.8%\n\n## Target Coverage Before Refactoring\n- Critical paths (Priority 1): 80%+\n- Supporting functions (Priority 2): 70%+\n- Cache operations (Priority 3): 60%+\n\n## Test Types Needed\n- [ ] Unit tests with mocked Letta/Weaviate clients\n- [ ] Integration tests against running services\n- [ ] Contract tests for API endpoints\n\n## Acceptance Criteria\n- [ ] Critical path coverage reaches 80%\n- [ ] All existing tests still pass\n- [ ] Test fixtures/mocks established for reuse","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T19:36:47.114061273Z","updated_at":"2025-12-29T19:02:05.655579446Z","closed_at":"2025-12-29T19:02:05.655579446Z","close_reason":"Test coverage established: 389 unit tests passing"}
{"id":"lettatoolsselector-65vdz","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:51.13377186Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:51.13377186Z","comments":[{"id":2251,"issue_id":"lettatoolsselector-65vdz","author":"root","text":"Synced from Huly: LTSEL-476","created_at":"2026-01-02T03:44:51Z"}]}
{"id":"lettatoolsselector-66eg8","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:52.797432482Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:52.797432482Z","comments":[{"id":2253,"issue_id":"lettatoolsselector-66eg8","author":"root","text":"Synced from Beads: lettatoolsselector-d77l\n\n---\nHuly Issue: LTSEL-467","created_at":"2026-01-02T03:44:53Z"}]}
{"id":"lettatoolsselector-687z","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:32.809808122Z","updated_at":"2025-12-30T04:14:10.722266934Z","comments":[{"id":856,"issue_id":"lettatoolsselector-687z","author":"root","text":"Synced from Beads: lettatoolsselector-2iz\n\n---\nHuly Issue: LTSEL-120","created_at":"2025-12-29T21:04:33Z"}]}
{"id":"lettatoolsselector-6ebi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:37.066953685Z","updated_at":"2025-12-30T01:55:46.234437597Z","comments":[{"id":1000,"issue_id":"lettatoolsselector-6ebi","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-88","created_at":"2025-12-29T21:19:37Z"}]}
{"id":"lettatoolsselector-6fh","title":"[Enforcement] Create scheduled agent tool pruning job","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:29.355653376Z","updated_at":"2025-12-29T18:56:33.26947331Z","closed_at":"2025-12-29T18:56:33.26947331Z","close_reason":"Duplicate of lettatoolsselector-784 (scheduled pruning job)","comments":[{"id":24,"issue_id":"lettatoolsselector-6fh","author":"node","text":"## Problem\n\nIf no webhook runs for an agent, tools accumulate without being pruned. Need a background job to enforce limits.\n\n## Solution\n\nCreate a scheduled job that scans all agents and prunes any that exceed MAX_TOTAL_TOOLS.\n\n## Acceptance Criteria\n\n- [ ] Cron or Celery beat job runs daily\n- [ ] Fetches all agents from Letta API\n- [ ] For each agent exceeding limit, prune to MAX_TOTAL_TOOLS\n- [ ] Respects protected tools list\n- [ ] Logs all pruning actions with agent ID and tool names\n- [ ] Emits metrics for monitoring (agents_pruned, tools_removed)\n\n## Technical Notes\n\n- Run at low-traffic time (e.g., 3 AM)\n- Use batch operations for efficiency\n- Consider rate limiting to avoid overwhelming Letta API\n\n---\nHuly Issue: LTSEL-8","created_at":"2025-12-22T23:46:29Z"}]}
{"id":"lettatoolsselector-6fk8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:25:49.457900189Z","updated_at":"2025-12-30T02:00:13.650738945Z","comments":[{"id":1034,"issue_id":"lettatoolsselector-6fk8","author":"root","text":"Synced from Beads: lettatoolsselector-1kj\n\n---\nHuly Issue: LTSEL-76","created_at":"2025-12-29T21:25:49Z"}]}
{"id":"lettatoolsselector-6fy5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:46.024720764Z","updated_at":"2025-12-30T04:14:15.450001462Z","comments":[{"id":878,"issue_id":"lettatoolsselector-6fy5","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-113","created_at":"2025-12-29T21:06:46Z"}]}
{"id":"lettatoolsselector-6he","title":"[Observability] Add Prometheus metrics to tool selector API","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:19.698941683Z","updated_at":"2025-12-29T18:56:22.989182633Z","closed_at":"2025-12-29T18:56:22.989182633Z","close_reason":"Duplicate of lettatoolsselector-mna (Prometheus metrics)","comments":[{"id":46,"issue_id":"lettatoolsselector-6he","author":"node","text":"## Problem\n\nNo quantitative metrics for monitoring tool attachment operations.\n\n## Solution\n\nAdd Prometheus metrics endpoint to tool selector API.\n\n## Acceptance Criteria\n\n- [ ]  endpoint exposing Prometheus format\n- [ ] Counters: tools_attached_total, tools_detached_total, tools_pruned_total\n- [ ] Gauges: agent_tool_count (per agent), agents_over_limit\n- [ ] Histograms: attach_request_duration_seconds\n- [ ] Labels: agent_id (for per-agent breakdown)\n\n## Technical Notes\n\n- Use prometheus_client library\n- Expose on separate port or same API\n- Consider cardinality limits on agent_id label\n\n---\nHuly Issue: LTSEL-13","created_at":"2025-12-23T03:23:19Z"}]}
{"id":"lettatoolsselector-6io","title":"[Feature] Semantic Enrichment System for World-Class Retrieval","description":"## Overview\nImplement a multi-layer semantic enrichment system that uses Claude Sonnet (via Anthropic proxy) to generate semantically rich tool descriptions that dramatically improve search accuracy.\n\n## Key Components\n\n### 1. MCP Server Profiler\n- Analyzes all tools from each MCP server\n- Generates domain context, entity types, action verbs\n- Cached with hash-based change detection\n\n### 2. Tool Enricher  \n- Uses server profile context to enrich individual tools\n- Extracts action-entity pairs (e.g., 'create issue', 'delete file')\n- Generates use cases and semantic keywords\n\n### 3. Change Detection\n- Hash-based detection of MCP server changes\n- Only re-enriches when tools/descriptions change\n- Weekly forced refresh\n\n### 4. Weaviate Schema Updates\n- New fields: action_entities, semantic_keywords, server_domain, use_cases\n- Enhanced hybrid search with new query properties\n\n## Expected Impact\n- 'create issue' directly matches huly_issue_ops\n- 'project management' has high recall for huly_* tools\n- CRUD tools discoverable via any supported operation\n\n## Design Doc\nSee docs/SEMANTIC_ENRICHMENT_DESIGN.md\n\n## Implementation Phases\n1. MCP Server Profiler\n2. Tool Enricher\n3. Weaviate Schema Update\n4. Incremental Sync Integration\n5. Evaluation","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-29T03:26:52.205387601Z","updated_at":"2025-12-29T20:30:45.833956603Z","closed_at":"2025-12-29T20:30:45.833956603Z","close_reason":"Semantic Enrichment System complete. Phase 1 (Server Profiler), Phase 2 (Tool Enricher), Phase 3 (Weaviate schema/search), Phase 4 (API routes) all implemented. Files: semantic_enrichment/, sync_enrichment_to_weaviate.py, routes/enrichment.py. Search now uses action_entities, semantic_keywords, use_cases, server_domain fields.","labels":["enhancement"]}
{"id":"lettatoolsselector-6iv1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:35.633329303Z","updated_at":"2025-12-30T01:54:26.364159924Z","comments":[{"id":992,"issue_id":"lettatoolsselector-6iv1","author":"root","text":"Synced from Beads: lettatoolsselector-b0j\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:18:35Z"}]}
{"id":"lettatoolsselector-6jg9a","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:24.47535473Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:24.47535473Z","comments":[{"id":2126,"issue_id":"lettatoolsselector-6jg9a","author":"root","text":"Synced from Beads: lettatoolsselector-4c0\n\n---\nHuly Issue: LTSEL-214","created_at":"2026-01-02T03:31:24Z"}]}
{"id":"lettatoolsselector-6s3l","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:59.812539503Z","updated_at":"2025-12-30T02:10:43.086425155Z","comments":[{"id":938,"issue_id":"lettatoolsselector-6s3l","author":"root","text":"Synced from Beads: lettatoolsselector-cwc\n\n---\nHuly Issue: LTSEL-72","created_at":"2025-12-29T21:13:00Z"}]}
{"id":"lettatoolsselector-6t27","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:34:11.027737978Z","updated_at":"2025-12-30T02:39:09.593809378Z","comments":[{"id":1067,"issue_id":"lettatoolsselector-6t27","author":"root","text":"Synced from Beads: lettatoolsselector-57s\n\n---\nHuly Issue: LTSEL-59","created_at":"2025-12-29T21:34:11Z"}]}
{"id":"lettatoolsselector-6ti","title":"[Code Quality] Fix async function return type annotations","description":"Several async function decorators have mismatched return type annotations.\n\n## Affected Areas\n\n### Line 18 - Config validation\n```\nType '(config: Dict[str, Any]) -\u003e ConfigValidationResponse' is not assignable to declared type '() -\u003e CoroutineType[Any, Any, Response | tuple[Response, Literal[500]]]'\n```\n\n### Line 23 - Multiple tracking functions\n```\nType '(operation: str, token_count: int, provider: str = \"openai\") -\u003e CoroutineType[Any, Any, bool]' is not assignable to declared type '(...) -\u003e None'\n```\n\n## Root Cause\nDecorator type hints don't match the actual decorated function signatures.\n\n## Acceptance Criteria\n- [ ] All async function return types correctly annotated\n- [ ] Decorator types match decorated function signatures\n- [ ] Consider using ParamSpec for generic decorator typing","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T17:13:30.373745238Z","updated_at":"2025-12-29T19:24:03.132221922Z","closed_at":"2025-12-29T19:24:03.132221922Z","close_reason":"Fixed as part of api_server.py type fixes - async cost tracking stubs now properly typed"}
{"id":"lettatoolsselector-6y5hb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:28.657565915Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:28.657565915Z","comments":[{"id":1905,"issue_id":"lettatoolsselector-6y5hb","author":"root","text":"Synced from Beads: lettatoolsselector-r4qy\n\n---\nHuly Issue: LTSEL-430","created_at":"2026-01-02T03:28:28Z"}]}
{"id":"lettatoolsselector-70ljc","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:29.39592927Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:29.39592927Z","comments":[{"id":2275,"issue_id":"lettatoolsselector-70ljc","author":"root","text":"Synced from Beads: lettatoolsselector-suz6\n\n---\nHuly Issue: LTSEL-387","created_at":"2026-01-02T03:45:29Z"}]}
{"id":"lettatoolsselector-72xrj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:53.021098964Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:53.021098964Z","comments":[{"id":1959,"issue_id":"lettatoolsselector-72xrj","author":"root","text":"Synced from Beads: lettatoolsselector-e3ch\n\n---\nHuly Issue: LTSEL-361","created_at":"2026-01-02T03:28:53Z"}]}
{"id":"lettatoolsselector-74bt","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:21.115942986Z","updated_at":"2025-12-30T01:49:29.673472291Z","comments":[{"id":964,"issue_id":"lettatoolsselector-74bt","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-91","created_at":"2025-12-29T21:15:21Z"}]}
{"id":"lettatoolsselector-78x2","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:13.711310789Z","updated_at":"2025-12-30T04:14:20.398129622Z","comments":[{"id":900,"issue_id":"lettatoolsselector-78x2","author":"root","text":"Synced from Beads: lettatoolsselector-uwy\n\n---\nHuly Issue: LTSEL-78","created_at":"2025-12-29T21:09:14Z"}]}
{"id":"lettatoolsselector-7d2s1","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:32.278098397Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:32.278098397Z","comments":[{"id":2280,"issue_id":"lettatoolsselector-7d2s1","author":"root","text":"Synced from Beads: lettatoolsselector-miv6\n\n---\nHuly Issue: LTSEL-360","created_at":"2026-01-02T03:45:32Z"}]}
{"id":"lettatoolsselector-7dny","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:16.520708556Z","updated_at":"2025-12-30T04:14:21.195133391Z","comments":[{"id":903,"issue_id":"lettatoolsselector-7dny","author":"root","text":"Synced from Beads: lettatoolsselector-mwv\n\n---\nHuly Issue: LTSEL-103","created_at":"2025-12-29T21:09:16Z"}]}
{"id":"lettatoolsselector-7e4qj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:34.9120598Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:34.9120598Z","comments":[{"id":2047,"issue_id":"lettatoolsselector-7e4qj","author":"root","text":"Synced from Beads: lettatoolsselector-fkxi\n\n---\nHuly Issue: LTSEL-268","created_at":"2026-01-02T03:29:35Z"}]}
{"id":"lettatoolsselector-7g7w3","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:36.609368651Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:36.609368651Z","comments":[{"id":2051,"issue_id":"lettatoolsselector-7g7w3","author":"root","text":"Synced from Beads: lettatoolsselector-puea\n\n---\nHuly Issue: LTSEL-264","created_at":"2026-01-02T03:29:36Z"}]}
{"id":"lettatoolsselector-7hua5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:32.85049157Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:32.85049157Z","comments":[{"id":1915,"issue_id":"lettatoolsselector-7hua5","author":"root","text":"Synced from Beads: lettatoolsselector-4wxk\n\n---\nHuly Issue: LTSEL-418","created_at":"2026-01-02T03:28:33Z"}]}
{"id":"lettatoolsselector-7jl4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:55.392883338Z","updated_at":"2025-12-30T01:52:27.409892257Z","comments":[{"id":979,"issue_id":"lettatoolsselector-7jl4","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-88","created_at":"2025-12-29T21:16:55Z"}]}
{"id":"lettatoolsselector-7k6n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:21.601897125Z","updated_at":"2025-12-30T02:09:14.171217215Z","comments":[{"id":933,"issue_id":"lettatoolsselector-7k6n","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-87","created_at":"2025-12-29T21:12:21Z"}]}
{"id":"lettatoolsselector-7kf88","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:37.017226737Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:37.017226737Z","comments":[{"id":2242,"issue_id":"lettatoolsselector-7kf88","author":"root","text":"Synced from Huly: LTSEL-540","created_at":"2026-01-02T03:44:37Z"}]}
{"id":"lettatoolsselector-7mod","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:50.223162892Z","updated_at":"2025-12-30T04:14:19.555421688Z","comments":[{"id":897,"issue_id":"lettatoolsselector-7mod","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-96","created_at":"2025-12-29T21:08:50Z"}]}
{"id":"lettatoolsselector-7z8","title":"[Refactor] Migrate models handlers to models blueprint","description":"## Goal\nMove 4 models-related handlers from api_server.py into routes/models.py with full implementations.\n\n## Handlers to Migrate\n- _search_test_handler() - Line 1436\n- _get_embedding_models_handler() - Line 1527\n- _get_embedding_health_handler() - Line 1622\n- _get_reranker_models_handler() - Line 1765\n\n## Dependencies\nThese handlers interact with:\n- Embedding providers (Ollama, etc.)\n- Reranker configuration\n- Health check utilities\n\n## Pattern\n1. Move handler implementations into models.py blueprint\n2. Pass required dependencies via configure() method\n3. May reuse existing services (embedding_providers, etc.)\n4. Remove old handlers from api_server.py\n\n## Acceptance Criteria\n- [ ] All 4 handlers removed from api_server.py\n- [ ] routes/models.py contains full implementations\n- [ ] All unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T00:43:14.483667034Z","updated_at":"2025-12-29T01:10:44.00743334Z","closed_at":"2025-12-29T01:10:44.00743334Z","close_reason":"Closed","labels":["refactor","services-layer"]}
{"id":"lettatoolsselector-7zexo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:05.688678578Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:05.688678578Z","comments":[{"id":1986,"issue_id":"lettatoolsselector-7zexo","author":"root","text":"Synced from Beads: lettatoolsselector-6ebi\n\n---\nHuly Issue: LTSEL-330","created_at":"2026-01-02T03:29:05Z"}]}
{"id":"lettatoolsselector-80x","title":"[Test] E2E test: Full webhook-to-attachment flow","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:14.296026908Z","updated_at":"2025-12-29T18:56:31.064288926Z","closed_at":"2025-12-29T18:56:31.064288926Z","close_reason":"Duplicate of lettatoolsselector-9x3 (E2E test)","comments":[{"id":38,"issue_id":"lettatoolsselector-80x","author":"node","text":"## Purpose\n\nEnd-to-end smoke test that the entire pipeline works.\n\n## Test Scenario\n\n1. Create test agent in Letta\n2. Send message to agent (triggers webhook)\n3. Wait for webhook processing\n4. Assert: Agent has tools attached based on message content\n5. Assert: Agent tool count \u003c= MAX_TOTAL_TOOLS\n6. Assert: Protected tools present\n7. Cleanup test agent\n\n## Acceptance Criteria\n\n- [ ] Test uses real services (Letta, webhook, tool selector)\n- [ ] Runs nightly or on-demand (too slow for every PR)\n- [ ] Reports detailed failure info\n- [ ] Cleans up all test resources\n\n## Technical Notes\n\n- Use pytest with longer timeout\n- May need retry logic for async operations\n- Tag as \n- Run in isolated test environment if possible\n\n---\nHuly Issue: LTSEL-25","created_at":"2025-12-23T03:23:14Z"}]}
{"id":"lettatoolsselector-869","title":"[Refactor] Phase 1: Extract data models and types","description":"Extract data models, types, and constants from api_server.py into dedicated modules.\n\n## Depends On\n- lettatoolsselector-642 (Phase 0: Test coverage)\n\n## Models to Extract\n\n### 1. Tool Models (`models/tool.py`)\n```python\n@dataclass\nclass Tool:\n    id: str\n    name: str\n    description: str\n    tool_type: str  # 'external_mcp', 'custom', 'letta_core'\n    source_type: str\n    json_schema: dict\n    mcp_server_name: Optional[str]\n    tags: List[str]\n    \n@dataclass\nclass ToolAttachResult:\n    tool_id: str\n    tool_name: str\n    success: bool\n    error: Optional[str]\n\n@dataclass  \nclass ToolSearchResult:\n    tool: Tool\n    score: float\n    rerank_score: Optional[float]\n```\n\n### 2. Agent Models (`models/agent.py`)\n```python\n@dataclass\nclass AgentInfo:\n    id: str\n    name: str\n    \n@dataclass\nclass AgentToolSet:\n    agent_id: str\n    mcp_tools: List[Tool]\n    core_tools: List[Tool]\n    total_count: int\n```\n\n### 3. Request/Response Models (`models/requests.py`)\n```python\n@dataclass\nclass AttachRequest:\n    agent_id: str\n    query: str\n    limit: int = 10\n    min_score: float = 50.0\n    keep_tools: List[str] = field(default_factory=list)\n    skip_loop_trigger: bool = False\n\n@dataclass\nclass AttachResponse:\n    success: bool\n    message: str\n    successful_attachments: List[ToolAttachResult]\n    failed_attachments: List[ToolAttachResult]\n    detached_tools: List[str]\n    loop_triggered: bool\n```\n\n### 4. Constants (`constants.py`)\n```python\n# Tool limits\nDEFAULT_MAX_TOTAL_TOOLS = 30\nDEFAULT_MAX_MCP_TOOLS = 20\nDEFAULT_MIN_MCP_TOOLS = 7\nDEFAULT_DROP_RATE = 0.3\n\n# Letta core tool types\nLETTA_CORE_TOOL_TYPES = [\n    'letta_core', 'letta_voice_sleeptime_core', ...\n]\n\n# Never detach tools\nNEVER_DETACH_TOOLS = ['find_tools', 'matrix_messaging', ...]\n```\n\n## File Structure\n```\nlettaaugment-source/\n models/\n    __init__.py\n    tool.py\n    agent.py\n    requests.py\n constants.py\n api_server.py (imports from above)\n```\n\n## Acceptance Criteria\n- [ ] All models extracted to dedicated files\n- [ ] Constants moved to constants.py\n- [ ] api_server.py imports from new modules\n- [ ] All tests still pass\n- [ ] No functional changes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:37:09.269216431Z","updated_at":"2025-12-28T21:09:10.980552414Z","closed_at":"2025-12-28T21:09:10.980559948Z"}
{"id":"lettatoolsselector-8bqk0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:34.059795328Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:34.059795328Z","comments":[{"id":2045,"issue_id":"lettatoolsselector-8bqk0","author":"root","text":"Synced from Beads: lettatoolsselector-6t27\n\n---\nHuly Issue: LTSEL-270","created_at":"2026-01-02T03:29:34Z"}]}
{"id":"lettatoolsselector-8ch6t","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:22.149693281Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:22.149693281Z","comments":[{"id":2018,"issue_id":"lettatoolsselector-8ch6t","author":"root","text":"Synced from Beads: lettatoolsselector-k3fq\n\n---\nHuly Issue: LTSEL-297","created_at":"2026-01-02T03:29:22Z"}]}
{"id":"lettatoolsselector-8dlw","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:23.269558379Z","updated_at":"2025-12-30T02:10:14.49702554Z","comments":[{"id":935,"issue_id":"lettatoolsselector-8dlw","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-96","created_at":"2025-12-29T21:12:23Z"}]}
{"id":"lettatoolsselector-8h0et","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:39.309602332Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:39.309602332Z","comments":[{"id":2057,"issue_id":"lettatoolsselector-8h0et","author":"root","text":"Synced from Beads: lettatoolsselector-usbu\n\n---\nHuly Issue: LTSEL-258","created_at":"2026-01-02T03:29:39Z"}]}
{"id":"lettatoolsselector-8jn5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:08.445096965Z","updated_at":"2025-12-30T01:47:08.158670453Z","comments":[{"id":951,"issue_id":"lettatoolsselector-8jn5","author":"root","text":"Synced from Beads: lettatoolsselector-9cq\n\n---\nHuly Issue: LTSEL-98","created_at":"2025-12-29T21:14:08Z"}]}
{"id":"lettatoolsselector-8m5","title":"[SDK] Implement ensure_protected_tools helper","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:11.704019765Z","updated_at":"2025-12-23T03:23:11.910721455Z","closed_at":"2025-12-23T03:23:11.910721455Z","close_reason":"Closed"}
{"id":"lettatoolsselector-8o98j","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:21.063071195Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:21.063071195Z","comments":[{"id":1888,"issue_id":"lettatoolsselector-8o98j","author":"root","text":"Synced from Beads: lettatoolsselector-p4x2\n\n---\nHuly Issue: LTSEL-455","created_at":"2026-01-02T03:28:21Z"}]}
{"id":"lettatoolsselector-8pez","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:30.07018618Z","updated_at":"2025-12-30T04:14:23.335512748Z","comments":[{"id":913,"issue_id":"lettatoolsselector-8pez","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:10:30Z"}]}
{"id":"lettatoolsselector-8qmw","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:34:57.781255505Z","updated_at":"2025-12-30T02:39:42.401157064Z","comments":[{"id":1070,"issue_id":"lettatoolsselector-8qmw","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-56","created_at":"2025-12-29T21:34:58Z"}]}
{"id":"lettatoolsselector-8rdg","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:20.327855396Z","updated_at":"2025-12-30T02:09:04.139576473Z","comments":[{"id":932,"issue_id":"lettatoolsselector-8rdg","author":"root","text":"Synced from Beads: lettatoolsselector-zq1\n\n---\nHuly Issue: LTSEL-63","created_at":"2025-12-29T21:12:20Z"}]}
{"id":"lettatoolsselector-8u7d","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:34.510838448Z","updated_at":"2025-12-30T02:02:53.875975521Z","comments":[{"id":1047,"issue_id":"lettatoolsselector-8u7d","author":"root","text":"Synced from Beads: lettatoolsselector-ct9\n\n---\nHuly Issue: LTSEL-75","created_at":"2025-12-29T21:28:34Z"}]}
{"id":"lettatoolsselector-8yc1h","title":"[Config] Create automated deploy script","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T06:17:53.583340025Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:02:42.301578338Z","comments":[{"id":2564,"issue_id":"lettatoolsselector-8yc1h","author":"root","text":"Synced from Huly: LTSEL-17","created_at":"2026-01-02T06:17:53Z"}]}
{"id":"lettatoolsselector-8yet7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:29.063264844Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:29.063264844Z","comments":[{"id":1906,"issue_id":"lettatoolsselector-8yet7","author":"root","text":"Synced from Beads: lettatoolsselector-wvdl\n\n---\nHuly Issue: LTSEL-429","created_at":"2026-01-02T03:28:29Z"}]}
{"id":"lettatoolsselector-90s1c","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:29.241298721Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:29.241298721Z","comments":[{"id":2034,"issue_id":"lettatoolsselector-90s1c","author":"root","text":"Synced from Beads: lettatoolsselector-si3l\n\n---\nHuly Issue: LTSEL-281","created_at":"2026-01-02T03:29:29Z"}]}
{"id":"lettatoolsselector-936p","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:31.204007418Z","updated_at":"2025-12-30T01:58:33.334422314Z","comments":[{"id":1020,"issue_id":"lettatoolsselector-936p","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:22:31Z"}]}
{"id":"lettatoolsselector-980ig","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:36.986559624Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:36.986559624Z","comments":[{"id":1924,"issue_id":"lettatoolsselector-980ig","author":"root","text":"Synced from Beads: lettatoolsselector-r4kz\n\n---\nHuly Issue: LTSEL-405","created_at":"2026-01-02T03:28:37Z"}]}
{"id":"lettatoolsselector-9fx2g","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:54.626803064Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:54.626803064Z","comments":[{"id":2223,"issue_id":"lettatoolsselector-9fx2g","author":"root","text":"Synced from Beads: lettatoolsselector-wuqn\n\n---\nHuly Issue: LTSEL-604","created_at":"2026-01-02T03:43:54Z"}]}
{"id":"lettatoolsselector-9irc","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:09.436003903Z","updated_at":"2025-12-30T04:14:04.069533745Z","comments":[{"id":830,"issue_id":"lettatoolsselector-9irc","author":"root","text":"Synced from Beads: lettatoolsselector-dj2\n\n---\nHuly Issue: LTSEL-125","created_at":"2025-12-29T21:02:09Z"}]}
{"id":"lettatoolsselector-9jll","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:18.531771404Z","updated_at":"2025-12-30T01:49:08.477286796Z","comments":[{"id":961,"issue_id":"lettatoolsselector-9jll","author":"root","text":"Synced from Beads: lettatoolsselector-dqi\n\n---\nHuly Issue: LTSEL-67","created_at":"2025-12-29T21:15:18Z"}]}
{"id":"lettatoolsselector-9kv","title":"[Test] Integration test: Tool count never exceeds MAX_TOTAL_TOOLS","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:26.807195814Z","updated_at":"2025-12-29T18:56:07.37428219Z","closed_at":"2025-12-29T18:56:07.37428219Z","close_reason":"Duplicate of closed lettatoolsselector-v66","comments":[{"id":6,"issue_id":"lettatoolsselector-9kv","author":"node","text":"## Purpose\n\nRegression guard to ensure tool limits are enforced end-to-end.\n\n## Test Scenario\n\n1. Create test agent with MAX_TOTAL_TOOLS-1 tools attached\n2. Trigger webhook with query that matches 5 tools\n3. Assert: Agent tool count \u003c= MAX_TOTAL_TOOLS after operation\n4. Assert: Response includes pruned tools if any were removed\n\n## Acceptance Criteria\n\n- [ ] Test runs in CI on every PR\n- [ ] Uses real tool selector API (integration test)\n- [ ] Cleans up test agent after run\n- [ ] Fails if agent exceeds limit\n\n## Technical Notes\n\n- Use pytest with fixtures for agent setup/teardown\n- May need test-specific MAX_TOTAL_TOOLS value (e.g., 5) for fast testing\n- Tag as \n\n---\nHuly Issue: LTSEL-19","created_at":"2025-12-22T23:46:26Z"}]}
{"id":"lettatoolsselector-9lc7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:26.46844329Z","updated_at":"2025-12-30T02:07:34.131837132Z","comments":[{"id":925,"issue_id":"lettatoolsselector-9lc7","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-104","created_at":"2025-12-29T21:11:26Z"}]}
{"id":"lettatoolsselector-9n0rf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:25.281557857Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:25.281557857Z","comments":[{"id":2025,"issue_id":"lettatoolsselector-9n0rf","author":"root","text":"Synced from Beads: lettatoolsselector-rfdy\n\n---\nHuly Issue: LTSEL-290","created_at":"2026-01-02T03:29:25Z"}]}
{"id":"lettatoolsselector-9o8i0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:05.235838916Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:05.235838916Z","comments":[{"id":1985,"issue_id":"lettatoolsselector-9o8i0","author":"root","text":"Synced from Beads: lettatoolsselector-fx26\n\n---\nHuly Issue: LTSEL-331","created_at":"2026-01-02T03:29:05Z"}]}
{"id":"lettatoolsselector-9r16","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:33.442146829Z","updated_at":"2025-12-30T02:02:44.871836836Z","comments":[{"id":1046,"issue_id":"lettatoolsselector-9r16","author":"root","text":"Synced from Beads: lettatoolsselector-ksi\n\n---\nHuly Issue: LTSEL-64","created_at":"2025-12-29T21:28:33Z"}]}
{"id":"lettatoolsselector-9t0yt","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:58.419302104Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:58.419302104Z","comments":[{"id":1970,"issue_id":"lettatoolsselector-9t0yt","author":"root","text":"Synced from Beads: lettatoolsselector-7jl4\n\n---\nHuly Issue: LTSEL-347","created_at":"2026-01-02T03:28:58Z"}]}
{"id":"lettatoolsselector-9tjy7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:59.744274328Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:59.744274328Z","comments":[{"id":1973,"issue_id":"lettatoolsselector-9tjy7","author":"root","text":"Synced from Beads: lettatoolsselector-w6ec\n\n---\nHuly Issue: LTSEL-344","created_at":"2026-01-02T03:28:59Z"}]}
{"id":"lettatoolsselector-9xwuo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:42.105399128Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:42.105399128Z","comments":[{"id":1935,"issue_id":"lettatoolsselector-9xwuo","author":"root","text":"Synced from Beads: lettatoolsselector-c9q6\n\n---\nHuly Issue: LTSEL-390","created_at":"2026-01-02T03:28:42Z"}]}
{"id":"lettatoolsselector-9yr","title":"[Refactor] Extract config module for tool limits","description":"## Summary\nExtract tool limit configuration into a dedicated config module to support service layer extraction.\n\n## Current Location\n- `api_server.py:129-154` (MAX_TOTAL_TOOLS, MAX_MCP_TOOLS, MANAGE_ONLY_MCP_TOOLS, NEVER_DETACH_TOOLS, etc.)\n\n## Proposed Location\n- `config/tool_limits.py` or add to existing `models.py`\n\n## Values to Extract\n```python\nMAX_TOTAL_TOOLS = int(os.getenv('MAX_TOTAL_TOOLS', '30'))\nMAX_MCP_TOOLS = int(os.getenv('MAX_MCP_TOOLS', '20'))\nMIN_MCP_TOOLS = int(os.getenv('MIN_MCP_TOOLS', '7'))\nMANAGE_ONLY_MCP_TOOLS = os.getenv('MANAGE_ONLY_MCP_TOOLS', 'false').lower() == 'true'\nNEVER_DETACH_TOOLS = [...]\n```\n\n## Implementation\n1. Create dataclass/Pydantic model for ToolLimitConfig\n2. Add to models.py or new config module\n3. Update tool_manager.configure() to accept config\n4. Update api_server.py to use centralized config\n\n## Acceptance Criteria\n- [ ] Config values centralized\n- [ ] tool_manager uses config object\n- [ ] api_server.py updated\n- [ ] Tests pass\n\n## Parent Issue\nlettatoolsselector-nav","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T20:51:49.575697277Z","updated_at":"2025-12-29T19:03:29.979084356Z","closed_at":"2025-12-29T19:03:29.979084356Z","close_reason":"Already implemented: ToolLimitsConfig in models.py:337"}
{"id":"lettatoolsselector-9zt8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:54.526755653Z","updated_at":"2025-12-30T01:52:19.573660566Z","comments":[{"id":978,"issue_id":"lettatoolsselector-9zt8","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:16:54Z"}]}
{"id":"lettatoolsselector-a0il6","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:25.346851086Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:25.346851086Z","comments":[{"id":2238,"issue_id":"lettatoolsselector-a0il6","author":"root","text":"Synced from Beads: lettatoolsselector-d30j\n\n---\nHuly Issue: LTSEL-547","created_at":"2026-01-02T03:44:25Z"}]}
{"id":"lettatoolsselector-a0t6","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:32.079407821Z","updated_at":"2025-12-30T04:11:46.853579299Z","comments":[{"id":855,"issue_id":"lettatoolsselector-a0t6","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:04:32Z"}]}
{"id":"lettatoolsselector-a3a","title":"[Perf] Cache MCP servers data in memory","description":"## Problem\nHealth check reads MCP servers cache via async file I/O on every request.\n\n**Location:** `api_server.py:823-835`\n\n```python\n# Line 828-830\nasync with aiofiles.open(MCP_SERVERS_CACHE_FILE_PATH, 'r') as f:\n    mcp_data = json.loads(await f.read())\n    mcp_servers_cache_size_on_disk = len(mcp_data)\n```\n\n## Impact\n- **Latency:** 5-50ms per health check in file I/O\n- **Priority:** MEDIUM - health checks are frequent\n\n## Solution\nCache MCP servers data in memory with TTL, similar to tool cache:\n\n```python\n_mcp_servers_cache: List[dict] = []\n_mcp_servers_cache_mtime: float = 0\n\nasync def read_mcp_servers_cache(force_reload=False) -\u003e List[dict]:\n    global _mcp_servers_cache, _mcp_servers_cache_mtime\n    \n    if not force_reload and _mcp_servers_cache:\n        # Check if file changed\n        current_mtime = os.path.getmtime(MCP_SERVERS_CACHE_FILE_PATH)\n        if current_mtime == _mcp_servers_cache_mtime:\n            return _mcp_servers_cache\n    \n    # Load from file\n    async with aiofiles.open(MCP_SERVERS_CACHE_FILE_PATH, 'r') as f:\n        _mcp_servers_cache = json.loads(await f.read())\n        _mcp_servers_cache_mtime = os.path.getmtime(MCP_SERVERS_CACHE_FILE_PATH)\n    \n    return _mcp_servers_cache\n```\n\n## Acceptance Criteria\n- [ ] MCP servers cached in memory\n- [ ] Cache invalidated on file mtime change\n- [ ] Health check uses cached data\n- [ ] All unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:50:20.792232309Z","updated_at":"2025-12-29T17:48:49.124654192Z","closed_at":"2025-12-29T17:48:49.124654192Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-a43a","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:25.996304374Z","updated_at":"2025-12-30T04:14:22.797232634Z","comments":[{"id":911,"issue_id":"lettatoolsselector-a43a","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-66","created_at":"2025-12-29T21:10:26Z"}]}
{"id":"lettatoolsselector-a6c","title":"[Refactor] Add search_tools callback to tool_manager","description":"## Summary\nAdd `search_tools` as a configurable callback in `tool_manager.py` to support `_perform_tool_pruning` extraction.\n\n## Problem\n`_perform_tool_pruning` calls `search_tools()` which is imported from `weaviate_tool_search_with_reranking.py`. We can't import this directly in tool_manager without creating circular dependencies.\n\n## Solution\nAdd search function as a callback in `tool_manager.configure()`:\n\n```python\ndef configure(\n    http_session=None,\n    letta_url=None,\n    headers=None,\n    use_letta_sdk=False,\n    get_letta_sdk_client_func=None,\n    search_tools_func=None,  # NEW: callback for search\n    tool_config=None         # NEW: ToolLimitConfig\n):\n    ...\n```\n\n## Implementation\n1. Add `search_tools_func` parameter to `configure()`\n2. Store as module-level `_search_tools`\n3. Update api_server.py startup to pass `search_tools` function\n4. Add unit tests with mock search function\n\n## Acceptance Criteria\n- [ ] configure() accepts search_tools_func\n- [ ] api_server.py passes search_tools on startup\n- [ ] Tests pass with mock search\n\n## Parent Issue\nlettatoolsselector-nav","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T20:52:01.134499169Z","updated_at":"2025-12-29T19:03:28.781267636Z","closed_at":"2025-12-29T19:03:28.781267636Z","close_reason":"Already implemented: search_tools_func callback in tool_manager.configure()"}
{"id":"lettatoolsselector-a92v","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:11.282719513Z","updated_at":"2025-12-30T04:12:16.146128478Z","comments":[{"id":1010,"issue_id":"lettatoolsselector-a92v","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-85","created_at":"2025-12-29T21:21:11Z"}]}
{"id":"lettatoolsselector-ail6p","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:31.608667094Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:31.608667094Z","comments":[{"id":1912,"issue_id":"lettatoolsselector-ail6p","author":"root","text":"Synced from Beads: lettatoolsselector-i8pn\n\n---\nHuly Issue: LTSEL-421","created_at":"2026-01-02T03:28:31Z"}]}
{"id":"lettatoolsselector-amgck","title":"[Refactor] Phase 3: Extract service layer - SearchService","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T07:03:08.647719527Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:44.465580981Z","comments":[{"id":2682,"issue_id":"lettatoolsselector-amgck","author":"root","text":"Synced from Huly: LTSEL-227","created_at":"2026-01-02T07:03:08Z"}]}
{"id":"lettatoolsselector-asci","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:00.58402933Z","updated_at":"2025-12-30T02:06:10.08550582Z","comments":[{"id":918,"issue_id":"lettatoolsselector-asci","author":"root","text":"Synced from Beads: lettatoolsselector-0qv\n\n---\nHuly Issue: LTSEL-93","created_at":"2025-12-29T21:11:00Z"}]}
{"id":"lettatoolsselector-atbig","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:41.696287216Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:41.696287216Z","comments":[{"id":1934,"issue_id":"lettatoolsselector-atbig","author":"root","text":"Synced from Beads: lettatoolsselector-7k6n\n\n---\nHuly Issue: LTSEL-391","created_at":"2026-01-02T03:28:41Z"}]}
{"id":"lettatoolsselector-ateu8","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:34.264280494Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:34.264280494Z","comments":[{"id":2239,"issue_id":"lettatoolsselector-ateu8","author":"root","text":"Synced from Beads: lettatoolsselector-wjvx\n\n---\nHuly Issue: LTSEL-546","created_at":"2026-01-02T03:44:34Z"}]}
{"id":"lettatoolsselector-au4n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:37:31.195124141Z","updated_at":"2025-12-30T02:41:09.748687583Z","comments":[{"id":1076,"issue_id":"lettatoolsselector-au4n","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-56","created_at":"2025-12-29T21:37:31Z"}]}
{"id":"lettatoolsselector-avzx0","title":"[Enforcement] Create scheduled agent tool pruning job","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T13:36:16.493341761Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:20.196629273Z","comments":[{"id":3356,"issue_id":"lettatoolsselector-avzx0","author":"root","text":"Synced from Beads: lettatoolsselector-6fh\n\n---\nHuly Issue: LTSEL-28","created_at":"2026-01-02T13:36:16Z"}]}
{"id":"lettatoolsselector-ax2ut","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:08.078214894Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:08.078214894Z","comments":[{"id":1858,"issue_id":"lettatoolsselector-ax2ut","author":"root","text":"Synced from Beads: lettatoolsselector-2og3\n\n---\nHuly Issue: LTSEL-492","created_at":"2026-01-02T03:28:08Z"}]}
{"id":"lettatoolsselector-ayjod","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:24.147388838Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:24.147388838Z","comments":[{"id":2237,"issue_id":"lettatoolsselector-ayjod","author":"root","text":"Synced from Beads: lettatoolsselector-iivq\n\n---\nHuly Issue: LTSEL-549","created_at":"2026-01-02T03:44:24Z"}]}
{"id":"lettatoolsselector-b0m8n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:23.433139229Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:23.433139229Z","comments":[{"id":2125,"issue_id":"lettatoolsselector-b0m8n","author":"root","text":"Synced from Beads: lettatoolsselector-ylm\n\n---\nHuly Issue: LTSEL-215","created_at":"2026-01-02T03:31:23Z"}]}
{"id":"lettatoolsselector-b1t","title":"[Enforcement] Define and document auto-attachment contract","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:08.070788495Z","updated_at":"2025-12-23T03:23:08.431030137Z","closed_at":"2025-12-23T03:23:08.431030137Z","close_reason":"Closed","comments":[{"id":32,"issue_id":"lettatoolsselector-b1t","author":"node","text":"## Problem\n\nWebhook receiver and tool selector have different ideas about what fields are required, what keep_tools means, and how limits work.\n\n## Solution\n\nDefine a formal contract (JSON schema or Pydantic model) that both sides adhere to.\n\n## Acceptance Criteria\n\n- [ ] Document payload schema: query, agent_id, keep_tools, limit, min_score, protected_tools\n- [ ] Document response schema: success, attached, detached, preserved, errors\n- [ ] Document behavior: what happens when limits are exceeded, how protected tools work\n- [ ] Version the contract (v1) to allow future evolution\n- [ ] Both repos reference the same contract documentation\n\n## Technical Notes\n\n- Consider using OpenAPI/Swagger for formal spec\n- Publish contract in shared docs location or SDK repo\n\n---\nHuly Issue: LTSEL-9","created_at":"2025-12-23T03:23:08Z"}]}
{"id":"lettatoolsselector-b3he8","title":"[Perf] Reuse Weaviate connection pool instead of creating client per search","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T08:03:10.568504363Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:48.080719694Z"}
{"id":"lettatoolsselector-b3tq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:51.254830155Z","updated_at":"2025-12-30T01:48:53.941023373Z","comments":[{"id":959,"issue_id":"lettatoolsselector-b3tq","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-92","created_at":"2025-12-29T21:14:51Z"}]}
{"id":"lettatoolsselector-b4uvm","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:27.997593206Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:27.997593206Z","comments":[{"id":2130,"issue_id":"lettatoolsselector-b4uvm","author":"root","text":"Synced from Beads: lettatoolsselector-6gk\n\n---\nHuly Issue: LTSEL-210","created_at":"2026-01-02T03:31:28Z"}]}
{"id":"lettatoolsselector-b5e9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:20.246801383Z","updated_at":"2025-12-30T01:49:22.353274918Z","comments":[{"id":963,"issue_id":"lettatoolsselector-b5e9","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:15:20Z"}]}
{"id":"lettatoolsselector-b6aql","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:04.299308242Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:04.299308242Z","comments":[{"id":1983,"issue_id":"lettatoolsselector-b6aql","author":"root","text":"Synced from Beads: lettatoolsselector-uxfy\n\n---\nHuly Issue: LTSEL-333","created_at":"2026-01-02T03:29:04Z"}]}
{"id":"lettatoolsselector-b6y5q","title":"[Enforcement] Add PROTECTED_TOOLS support to tool selector API","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T08:20:01.341094822Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:22.890316913Z","comments":[{"id":2840,"issue_id":"lettatoolsselector-b6y5q","author":"root","text":"Synced from Beads: lettatoolsselector-xxx\n\n---\nHuly Issue: LTSEL-45","created_at":"2026-01-02T08:20:02Z"}]}
{"id":"lettatoolsselector-b7bv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:07.642720763Z","updated_at":"2025-12-30T04:14:06.581341924Z","comments":[{"id":836,"issue_id":"lettatoolsselector-b7bv","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-105","created_at":"2025-12-29T21:03:08Z"}]}
{"id":"lettatoolsselector-b8kij","title":"[Refactor] Migrate tools attach/prune/sync/refresh handlers to services pattern","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T15:49:41.259729142Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:28.557004463Z","comments":[{"id":3611,"issue_id":"lettatoolsselector-b8kij","author":"root","text":"Synced from Huly: LTSEL-234","created_at":"2026-01-02T15:49:41Z"}]}
{"id":"lettatoolsselector-b8p2g","title":"[SDK] Implement list_agent_tools with full pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T10:36:01.947341763Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:27.136965389Z","comments":[{"id":3078,"issue_id":"lettatoolsselector-b8p2g","author":"root","text":"Synced from Beads: lettatoolsselector-ppg\n\n---\nHuly Issue: LTSEL-41","created_at":"2026-01-02T10:36:02Z"}]}
{"id":"lettatoolsselector-b8zy2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:09.736085918Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:09.736085918Z","comments":[{"id":1862,"issue_id":"lettatoolsselector-b8zy2","author":"root","text":"Synced from Beads: lettatoolsselector-ypvi\n\n---\nHuly Issue: LTSEL-488","created_at":"2026-01-02T03:28:09Z"}]}
{"id":"lettatoolsselector-b9a8t","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:18.388981088Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:18.388981088Z","comments":[{"id":2232,"issue_id":"lettatoolsselector-b9a8t","author":"root","text":"Synced from Beads: lettatoolsselector-nrvq\n\n---\nHuly Issue: LTSEL-562","created_at":"2026-01-02T03:44:18Z"}]}
{"id":"lettatoolsselector-bc98l","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:03.883101033Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:03.883101033Z","comments":[{"id":1982,"issue_id":"lettatoolsselector-bc98l","author":"root","text":"Synced from Beads: lettatoolsselector-re1i\n\n---\nHuly Issue: LTSEL-334","created_at":"2026-01-02T03:29:04Z"}]}
{"id":"lettatoolsselector-bcyi1","title":"[SDK] Create letta-toolkit Python package scaffold","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T19:38:28.477733142Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:08.588516196Z","comments":[{"id":3977,"issue_id":"lettatoolsselector-bcyi1","author":"root","text":"Synced from Huly: LTSEL-40","created_at":"2026-01-02T19:38:28Z"}]}
{"id":"lettatoolsselector-bd7w","title":"[Perf] Add TTL cache for search results","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T01:08:40.875322964Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:53.396726586Z","comments":[{"id":1203,"issue_id":"lettatoolsselector-bd7w","author":"root","text":"Synced from Beads: lettatoolsselector-fv0\n\n## Problem\n\nNo caching of search results. Identical queries within seconds hit Weaviate and reranker every time.\n\n**Location:** , \n\n## Impact\n\n- **Latency:** 200-1000ms for repeated identical queries\n- **Priority:** HIGH - significant win for common query patterns\n\n## Solution\n\nAdd TTL-based cache for search results (60-300 seconds):\n\n\n\n## Configuration\n\n- TTL configurable via env var  (default: 60)\n- Max size configurable via  (default: 1000)\n- Add cache stats to health endpoint\n\n## Acceptance Criteria\n\n- [ ] Search results cached with configurable TTL\n- [ ] Cache key includes query, limit, and reranker config\n- [ ] Cache stats available in health/metrics endpoint\n- [ ] Cache can be cleared via API or on tool index refresh\n- [ ] All unit tests pass\n\n---\nHuly Issue: LTSEL-240","created_at":"2026-01-02T01:08:41Z"}]}
{"id":"lettatoolsselector-bdwti","title":"[Perf] Add connection wait with timeout to Weaviate pool","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T22:21:24.621035942Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:10.878191841Z"}
{"id":"lettatoolsselector-bek4b","title":"[SDK] Migrate webhook-receiver to use shared SDK","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T10:37:45.358847989Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:29.167770013Z","comments":[{"id":3102,"issue_id":"lettatoolsselector-bek4b","author":"root","text":"Synced from Beads: lettatoolsselector-06d\n\n---\nHuly Issue: LTSEL-53","created_at":"2026-01-02T10:37:45Z"}]}
{"id":"lettatoolsselector-bey1i","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:37.914805172Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:37.914805172Z","comments":[{"id":1926,"issue_id":"lettatoolsselector-bey1i","author":"root","text":"Synced from Beads: lettatoolsselector-zzvn\n\n---\nHuly Issue: LTSEL-402","created_at":"2026-01-02T03:28:38Z"}]}
{"id":"lettatoolsselector-bg7m5","title":"[Config] Document operational runbooks","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T09:21:07.482603017Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:39.768884651Z","comments":[{"id":2940,"issue_id":"lettatoolsselector-bg7m5","author":"root","text":"Synced from Huly: LTSEL-33","created_at":"2026-01-02T09:21:07Z"}]}
{"id":"lettatoolsselector-bgz8a","title":"[Refactor] Migrate config handlers to config blueprint","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T09:58:09.722980909Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:45.972240718Z","comments":[{"id":3058,"issue_id":"lettatoolsselector-bgz8a","author":"root","text":"Synced from Beads: lettatoolsselector-tad\n\n## Goal\n\nMove the 3 remaining config handlers from api_server.py into routes/config.py with full implementations.\n\n## Handlers to Migrate\n\n- _validate_config_handler() - Line 783\n- _get_tool_selector_config_handler() - Line 819\n- _update_tool_selector_config_handler() - Line 871\n\n## Pattern\n\n1. These handlers read/write config files - relatively self-contained\n2. Move implementation code directly into config.py routes\n3. Remove delegation pattern\n4. Update any tests mocking these handlers\n\n## Acceptance Criteria\n\n- [ ] All 3 handlers removed from api_server.py\n- [ ] routes/config.py contains full implementations\n- [ ] All unit tests pass\n- [ ] No new dependencies on api_server needed\n\n---\nHuly Issue: LTSEL-237","created_at":"2026-01-02T09:58:10Z"}]}
{"id":"lettatoolsselector-bhimv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:19.816365828Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:19.816365828Z","comments":[{"id":1885,"issue_id":"lettatoolsselector-bhimv","author":"root","text":"Synced from Beads: lettatoolsselector-x5vs\n\n---\nHuly Issue: LTSEL-459","created_at":"2026-01-02T03:28:20Z"}]}
{"id":"lettatoolsselector-bi279","title":"[Perf] Cache MCP servers data in memory","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T20:00:28.560240281Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:06.547160461Z","comments":[{"id":4039,"issue_id":"lettatoolsselector-bi279","author":"root","text":"Synced from Beads: lettatoolsselector-a3a\n\n## Problem\n\nHealth check reads MCP servers cache via async file I/O on every request.\n\n**Location:** \n\n\n\n## Impact\n\n- **Latency:** 5-50ms per health check in file I/O\n- **Priority:** MEDIUM - health checks are frequent\n\n## Solution\n\nCache MCP servers data in memory with TTL, similar to tool cache:\n\n\n\n## Acceptance Criteria\n\n- [ ] MCP servers cached in memory\n- [ ] Cache invalidated on file mtime change\n- [ ] Health check uses cached data\n- [ ] All unit tests pass\n\n---\nHuly Issue: LTSEL-241","created_at":"2026-01-02T20:00:28Z"}]}
{"id":"lettatoolsselector-bjda7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:08.932805373Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:08.932805373Z","comments":[{"id":1860,"issue_id":"lettatoolsselector-bjda7","author":"root","text":"Synced from Beads: lettatoolsselector-br0s\n\n---\nHuly Issue: LTSEL-490","created_at":"2026-01-02T03:28:09Z"}]}
{"id":"lettatoolsselector-bk9da","title":"[Observability] Add Prometheus metrics to tool selector API","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T21:48:30.80219164Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:46.534248611Z","comments":[{"id":4262,"issue_id":"lettatoolsselector-bk9da","author":"root","text":"## Problem\n\nNo quantitative metrics for monitoring tool attachment operations.\n\n## Solution\n\nAdd Prometheus metrics endpoint to tool selector API.\n\n## Acceptance Criteria\n\n- [ ]  endpoint exposing Prometheus format\n- [ ] Counters: tools_attached_total, tools_detached_total, tools_pruned_total\n- [ ] Gauges: agent_tool_count (per agent), agents_over_limit\n- [ ] Histograms: attach_request_duration_seconds\n- [ ] Labels: agent_id (for per-agent breakdown)\n\n## Technical Notes\n\n- Use prometheus_client library\n- Expose on separate port or same API\n- Consider cardinality limits on agent_id label\n\n---\nHuly Issue: LTSEL-13","created_at":"2026-01-02T21:48:31Z"}]}
{"id":"lettatoolsselector-bkpx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:30.351671137Z","updated_at":"2025-12-30T04:11:55.271892019Z","comments":[{"id":853,"issue_id":"lettatoolsselector-bkpx","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-101","created_at":"2025-12-29T21:04:30Z"}]}
{"id":"lettatoolsselector-bksa3","title":"[Refactor] Extract fetch_agent_tools to tool_manager","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T16:15:46.542703647Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:12:55.765390036Z"}
{"id":"lettatoolsselector-bljj2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:33.149552556Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:33.149552556Z","comments":[{"id":2043,"issue_id":"lettatoolsselector-bljj2","author":"root","text":"Synced from Beads: lettatoolsselector-j9ap\n\n---\nHuly Issue: LTSEL-272","created_at":"2026-01-02T03:29:33Z"}]}
{"id":"lettatoolsselector-blzkk","title":"[Feature] Semantic Enrichment System for World-Class Retrieval","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T12:02:23.298439837Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:25.013520176Z","comments":[{"id":3278,"issue_id":"lettatoolsselector-blzkk","author":"root","text":"Synced from Beads: lettatoolsselector-6io\n\n## Overview\n\nImplement a multi-layer semantic enrichment system that uses Claude Sonnet (via Anthropic proxy) to generate semantically rich tool descriptions that dramatically improve search accuracy.\n\n## Key Components\n\n### 1. MCP Server Profiler\n\n- Analyzes all tools from each MCP server\n- Generates domain context, entity types, action verbs\n- Cached with hash-based change detection\n\n### 2. Tool Enricher\n\n- Uses server profile context to enrich individual tools\n- Extracts action-entity pairs (e.g., 'create issue', 'delete file')\n- Generates use cases and semantic keywords\n\n### 3. Change Detection\n\n- Hash-based detection of MCP server changes\n- Only re-enriches when tools/descriptions change\n- Weekly forced refresh\n\n### 4. Weaviate Schema Updates\n\n- New fields: action_entities, semantic_keywords, server_domain, use_cases\n- Enhanced hybrid search with new query properties\n\n## Expected Impact\n\n- 'create issue' directly matches huly_issue_ops\n- 'project management' has high recall for huly_* tools\n- CRUD tools discoverable via any supported operation\n\n## Design Doc\n\nSee docs/SEMANTIC_ENRICHMENT_DESIGN.md\n\n## Implementation Phases\n\n1. MCP Server Profiler\n2. Tool Enricher\n3. Weaviate Schema Update\n4. Incremental Sync Integration\n5. Evaluation\n\n---\nHuly Issue: LTSEL-249","created_at":"2026-01-02T12:02:23Z"}]}
{"id":"lettatoolsselector-bpvuo","title":"[Enforcement] Add pre-attach pruning to tool selector API","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T07:02:59.742641103Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:13.197139954Z","comments":[{"id":2675,"issue_id":"lettatoolsselector-bpvuo","author":"root","text":"Synced from Beads: lettatoolsselector-kf7\n\n---\nHuly Issue: LTSEL-54","created_at":"2026-01-02T07:03:00Z"}]}
{"id":"lettatoolsselector-brg61","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:04.076878033Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:04.076878033Z","comments":[{"id":2123,"issue_id":"lettatoolsselector-brg61","author":"root","text":"Synced from Beads: lettatoolsselector-3cf\n\n---\nHuly Issue: LTSEL-106","created_at":"2026-01-02T03:31:04Z"}]}
{"id":"lettatoolsselector-brrmt","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:36.306624836Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:36.306624836Z","comments":[{"id":2241,"issue_id":"lettatoolsselector-brrmt","author":"root","text":"Synced from Beads: lettatoolsselector-3vgi\n\n---\nHuly Issue: LTSEL-542","created_at":"2026-01-02T03:44:36Z"}]}
{"id":"lettatoolsselector-bsdxv","title":"[Refactor] Phase 0: Establish test coverage for critical paths","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-03T04:12:06.10324198Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:17.792113285Z"}
{"id":"lettatoolsselector-bt3m5","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:13.964040674Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:13.964040674Z","comments":[{"id":2272,"issue_id":"lettatoolsselector-bt3m5","author":"root","text":"Synced from Beads: lettatoolsselector-t4dg\n\n---\nHuly Issue: LTSEL-398","created_at":"2026-01-02T03:45:14Z"}]}
{"id":"lettatoolsselector-btpib","title":"[Test] Integration test: Protected tools never detached","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T22:24:10.967918252Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-03T08:13:52.431660569Z","comments":[{"id":4329,"issue_id":"lettatoolsselector-btpib","author":"root","text":"Synced from Beads: lettatoolsselector-bhm\n\n---\nHuly Issue: LTSEL-50","created_at":"2026-01-02T22:24:11Z"}]}
{"id":"lettatoolsselector-bwps","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:43.576687085Z","updated_at":"2025-12-30T04:14:14.642906839Z","comments":[{"id":875,"issue_id":"lettatoolsselector-bwps","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-97","created_at":"2025-12-29T21:06:43Z"}]}
{"id":"lettatoolsselector-bx1gp","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:34.620014422Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:34.620014422Z","comments":[{"id":2283,"issue_id":"lettatoolsselector-bx1gp","author":"root","text":"Synced from Beads: lettatoolsselector-02ut\n\n---\nHuly Issue: LTSEL-341","created_at":"2026-01-02T03:45:34Z"}]}
{"id":"lettatoolsselector-c05","title":"[Refactor] Extract _perform_tool_pruning to tool_manager","description":"## Summary\nMove `_perform_tool_pruning` function from `api_server.py` to `tool_manager.py`.\n\n## Current Location\n- `api_server.py:1228-1521` (~300 lines)\n\n## Dependencies (must be resolved first)\n1. **lettatoolsselector-pmp**: Extract `fetch_agent_tools` to tool_manager\n2. **lettatoolsselector-9yr**: Extract config module for tool limits\n3. **lettatoolsselector-a6c**: Add `search_tools` callback to tool_manager\n\n## Function Signature\n```python\nasync def perform_tool_pruning(\n    agent_id: str,\n    user_prompt: str,\n    drop_rate: float,\n    keep_tool_ids: list = None,\n    newly_matched_tool_ids: list = None\n) -\u003e dict:\n```\n\n## Internal Dependencies (already in tool_manager)\n- `detach_tool()` - already extracted\n- `is_letta_core_tool()` - already in models.py\n\n## Implementation\n1. Complete prerequisite issues\n2. Move function to tool_manager.py\n3. Update api_server.py to delegate\n4. Update tests in test_tool_management.py to use tool_manager.configure()\n5. Add dedicated tests in test_tool_manager.py\n\n## Acceptance Criteria\n- [ ] Prerequisites completed\n- [ ] Function moved to tool_manager.py\n- [ ] api_server.py delegates to tool_manager\n- [ ] All 296+ unit tests pass\n- [ ] Integration tests pass\n\n## Parent Issue\nlettatoolsselector-nav","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T20:52:19.997470978Z","updated_at":"2025-12-30T03:21:24.016349333Z"}
{"id":"lettatoolsselector-c1l","title":"[Perf] Eliminate redundant isLettaCoreTool checks in attach loop","description":"## Problem\nSame `_is_letta_core_tool()` check is performed twice for the same tools - once for counting, once in the loop.\n\n**Location:** `routes/tools.py:382-390`\n\n```python\n# Counting - checks every tool\nmcp_count = len([t for t in current_agent_tools \n               if (t.get(\"tool_type\") == \"external_mcp\" or \n                   (not _is_letta_core_tool(t) and t.get(\"tool_type\") == \"custom\"))])\n\n# Loop - checks same tools again\nfor tool in current_agent_tools:\n    is_mcp_tool = (tool.get(\"tool_type\") == \"external_mcp\" or \n                 (not _is_letta_core_tool(tool) and tool.get(\"tool_type\") == \"custom\"))\n```\n\n## Impact\n- **Latency:** ~0.1ms per tool (duplicate function calls)\n- **Priority:** LOW\n\n## Solution\nCompute once and store results:\n\n```python\n# Compute MCP status once per tool\nmcp_status = {}\nfor tool in current_agent_tools:\n    tool_id = tool.get('id') or tool.get('tool_id')\n    is_mcp = (tool.get(\"tool_type\") == \"external_mcp\" or \n              (not _is_letta_core_tool(tool) and tool.get(\"tool_type\") == \"custom\"))\n    mcp_status[tool_id] = is_mcp\n\nmcp_count = sum(1 for is_mcp in mcp_status.values() if is_mcp)\n\n# Later in loop\nfor tool in current_agent_tools:\n    tool_id = tool.get('id') or tool.get('tool_id')\n    if mcp_status.get(tool_id):\n        # ... process MCP tool ...\n```\n\n## Acceptance Criteria\n- [ ] Each tool checked only once\n- [ ] MCP status cached for reuse\n- [ ] All unit tests pass","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-29T01:51:26.059923Z","updated_at":"2025-12-29T19:43:33.740744305Z","closed_at":"2025-12-29T19:43:33.740744305Z","close_reason":"Precomputed MCP status per tool in a dict, eliminating redundant _is_letta_core_tool() calls during attach loop","labels":["performance"]}
{"id":"lettatoolsselector-c2fz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:05.73517496Z","updated_at":"2025-12-30T04:12:09.39017332Z","comments":[{"id":948,"issue_id":"lettatoolsselector-c2fz","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:14:06Z"}]}
{"id":"lettatoolsselector-c2jv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:25:22.113962498Z","updated_at":"2025-12-30T01:59:54.689637844Z","comments":[{"id":1032,"issue_id":"lettatoolsselector-c2jv","author":"root","text":"Synced from Beads: lettatoolsselector-m9u\n\n---\nHuly Issue: LTSEL-77","created_at":"2025-12-29T21:25:22Z"}]}
{"id":"lettatoolsselector-c4b9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:34:12.426814946Z","updated_at":"2025-12-30T02:39:19.851638203Z","comments":[{"id":1068,"issue_id":"lettatoolsselector-c4b9","author":"root","text":"Synced from Beads: lettatoolsselector-ksi\n\n---\nHuly Issue: LTSEL-64","created_at":"2025-12-29T21:34:12Z"}]}
{"id":"lettatoolsselector-c4zds","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:30.830135444Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:30.830135444Z","comments":[{"id":2133,"issue_id":"lettatoolsselector-c4zds","author":"root","text":"Synced from Beads: lettatoolsselector-vnx\n\n---\nHuly Issue: LTSEL-207","created_at":"2026-01-02T03:31:31Z"}]}
{"id":"lettatoolsselector-c60o3","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:22.616876127Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:22.616876127Z","comments":[{"id":2019,"issue_id":"lettatoolsselector-c60o3","author":"root","text":"Synced from Beads: lettatoolsselector-lcs8\n\n---\nHuly Issue: LTSEL-296","created_at":"2026-01-02T03:29:22Z"}]}
{"id":"lettatoolsselector-c6em","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:39.556964051Z","updated_at":"2025-12-30T04:14:12.644146318Z","comments":[{"id":866,"issue_id":"lettatoolsselector-c6em","author":"root","text":"Synced from Beads: lettatoolsselector-lec\n\n---\nHuly Issue: LTSEL-117","created_at":"2025-12-29T21:05:39Z"}]}
{"id":"lettatoolsselector-c8lu","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:25:50.235819842Z","updated_at":"2025-12-30T02:00:24.586243162Z","comments":[{"id":1035,"issue_id":"lettatoolsselector-c8lu","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:25:50Z"}]}
{"id":"lettatoolsselector-c9q6","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:22.36697154Z","updated_at":"2025-12-30T02:10:05.300671061Z","comments":[{"id":934,"issue_id":"lettatoolsselector-c9q6","author":"root","text":"Synced from Beads: lettatoolsselector-ix0\n\n---\nHuly Issue: LTSEL-90","created_at":"2025-12-29T21:12:22Z"}]}
{"id":"lettatoolsselector-cah4s","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:07.266784164Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:07.266784164Z","comments":[{"id":1856,"issue_id":"lettatoolsselector-cah4s","author":"root","text":"Synced from Beads: lettatoolsselector-x1mt\n\n---\nHuly Issue: LTSEL-494","created_at":"2026-01-02T03:28:07Z"}]}
{"id":"lettatoolsselector-cbpe4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:10.163890817Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:10.163890817Z","comments":[{"id":1863,"issue_id":"lettatoolsselector-cbpe4","author":"root","text":"Synced from Beads: lettatoolsselector-qane\n\n---\nHuly Issue: LTSEL-487","created_at":"2026-01-02T03:28:10Z"}]}
{"id":"lettatoolsselector-cd5bh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:06.385267347Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:06.385267347Z","comments":[{"id":1854,"issue_id":"lettatoolsselector-cd5bh","author":"root","text":"Synced from Beads: lettatoolsselector-448k\n\n---\nHuly Issue: LTSEL-496","created_at":"2026-01-02T03:28:06Z"}]}
{"id":"lettatoolsselector-cf7a1","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:22.626052816Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:22.626052816Z","comments":[{"id":2236,"issue_id":"lettatoolsselector-cf7a1","author":"root","text":"Synced from Beads: lettatoolsselector-ltsw\n\n---\nHuly Issue: LTSEL-553","created_at":"2026-01-02T03:44:22Z"}]}
{"id":"lettatoolsselector-ch3b","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:31.724958838Z","updated_at":"2025-12-30T04:12:02.284994356Z","comments":[{"id":954,"issue_id":"lettatoolsselector-ch3b","author":"root","text":"Synced from Beads: lettatoolsselector-oij\n\n---\nHuly Issue: LTSEL-86","created_at":"2025-12-29T21:14:32Z"}]}
{"id":"lettatoolsselector-cj0f","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:51.523214781Z","updated_at":"2025-12-30T02:08:45.039035351Z","comments":[{"id":930,"issue_id":"lettatoolsselector-cj0f","author":"root","text":"Synced from Beads: lettatoolsselector-mwv\n\n---\nHuly Issue: LTSEL-103","created_at":"2025-12-29T21:11:51Z"}]}
{"id":"lettatoolsselector-ck3e","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:50.201184844Z","updated_at":"2025-12-30T04:14:21.732338522Z","comments":[{"id":905,"issue_id":"lettatoolsselector-ck3e","author":"root","text":"Synced from Beads: lettatoolsselector-dqi\n\n---\nHuly Issue: LTSEL-67","created_at":"2025-12-29T21:09:50Z"}]}
{"id":"lettatoolsselector-ckk3n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:24.335036991Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:24.335036991Z","comments":[{"id":1895,"issue_id":"lettatoolsselector-ckk3n","author":"root","text":"Synced from Beads: lettatoolsselector-bwps\n\n---\nHuly Issue: LTSEL-443","created_at":"2026-01-02T03:28:24Z"}]}
{"id":"lettatoolsselector-cla1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:38.757379663Z","updated_at":"2025-12-30T04:11:57.083065576Z","comments":[{"id":865,"issue_id":"lettatoolsselector-cla1","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-110","created_at":"2025-12-29T21:05:39Z"}]}
{"id":"lettatoolsselector-clogo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:26.470766946Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:26.470766946Z","comments":[{"id":1900,"issue_id":"lettatoolsselector-clogo","author":"root","text":"Synced from Beads: lettatoolsselector-mv3b\n\n---\nHuly Issue: LTSEL-437","created_at":"2026-01-02T03:28:26Z"}]}
{"id":"lettatoolsselector-cqejd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:16.688174604Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:16.688174604Z","comments":[{"id":2007,"issue_id":"lettatoolsselector-cqejd","author":"root","text":"Synced from Beads: lettatoolsselector-37d9\n\n---\nHuly Issue: LTSEL-308","created_at":"2026-01-02T03:29:16Z"}]}
{"id":"lettatoolsselector-crx87","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:35.223074579Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:35.223074579Z","comments":[{"id":2240,"issue_id":"lettatoolsselector-crx87","author":"root","text":"Synced from Huly: LTSEL-545","created_at":"2026-01-02T03:44:35Z"}]}
{"id":"lettatoolsselector-cspn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:58.802153214Z","updated_at":"2025-12-30T02:03:01.930921082Z","comments":[{"id":1048,"issue_id":"lettatoolsselector-cspn","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:28:59Z"}]}
{"id":"lettatoolsselector-cthgk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:31.187672902Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:31.187672902Z","comments":[{"id":1911,"issue_id":"lettatoolsselector-cthgk","author":"root","text":"Synced from Beads: lettatoolsselector-3os7\n\n---\nHuly Issue: LTSEL-423","created_at":"2026-01-02T03:28:31Z"}]}
{"id":"lettatoolsselector-cu0rf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:14.544602884Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:14.544602884Z","comments":[{"id":2003,"issue_id":"lettatoolsselector-cu0rf","author":"root","text":"Synced from Beads: lettatoolsselector-936p\n\n---\nHuly Issue: LTSEL-312","created_at":"2026-01-02T03:29:14Z"}]}
{"id":"lettatoolsselector-cv2m9","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:44.964828132Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:44.964828132Z","comments":[{"id":2248,"issue_id":"lettatoolsselector-cv2m9","author":"root","text":"Synced from Beads: lettatoolsselector-pa7b\n\n---\nHuly Issue: LTSEL-515","created_at":"2026-01-02T03:44:45Z"}]}
{"id":"lettatoolsselector-cvy","title":"[Observability] Emit structured events for tool attach/detach","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:05.071719446Z","updated_at":"2025-12-23T03:23:05.419749054Z","closed_at":"2025-12-23T03:23:05.419749054Z","close_reason":"Closed","comments":[{"id":28,"issue_id":"lettatoolsselector-cvy","author":"node","text":"## Problem\n\nNo audit trail for tool changes. Debugging requires scraping logs from multiple containers.\n\n## Solution\n\nEmit structured events to a queue/stream whenever tools are attached or detached.\n\n## Acceptance Criteria\n\n- [ ] Event schema: {timestamp, agent_id, tool_id, tool_name, action, reason, source}\n- [ ] Events emitted from tool selector API on every attach/detach\n- [ ] Events written to Redis Stream or similar (low overhead)\n- [ ] Events include correlation ID for tracing webhook -\u003e attach flow\n\n## Technical Notes\n\n- Use Redis Streams for simplicity (XADD)\n- Keep 7 days of events by default\n- Consider also writing to structured log for Loki ingestion\n\n---\nHuly Issue: LTSEL-11","created_at":"2025-12-23T03:23:05Z"}]}
{"id":"lettatoolsselector-cx37","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:24:52.004447233Z","updated_at":"2025-12-30T01:59:40.353294694Z","comments":[{"id":1030,"issue_id":"lettatoolsselector-cx37","author":"root","text":"Synced from Beads: lettatoolsselector-m03\n\n---\nHuly Issue: LTSEL-71","created_at":"2025-12-29T21:24:52Z"}]}
{"id":"lettatoolsselector-d0ojb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:44.914658612Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:44.914658612Z","comments":[{"id":1941,"issue_id":"lettatoolsselector-d0ojb","author":"root","text":"Synced from Beads: lettatoolsselector-rjjh\n\n---\nHuly Issue: LTSEL-382","created_at":"2026-01-02T03:28:45Z"}]}
{"id":"lettatoolsselector-d0t","title":"[SDK] Implement list_agent_tools with full pagination","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:12.533425716Z","updated_at":"2025-12-23T03:23:12.739214321Z","closed_at":"2025-12-23T03:23:12.739214321Z","close_reason":"Closed"}
{"id":"lettatoolsselector-d3de","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:53.379268597Z","updated_at":"2025-12-30T01:50:43.176219711Z","comments":[{"id":968,"issue_id":"lettatoolsselector-d3de","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:15:53Z"}]}
{"id":"lettatoolsselector-d3kl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:27.276710786Z","updated_at":"2025-12-30T01:46:04.137184424Z","comments":[{"id":944,"issue_id":"lettatoolsselector-d3kl","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-88","created_at":"2025-12-29T21:13:27Z"}]}
{"id":"lettatoolsselector-d5da7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:07.214305822Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:07.214305822Z","comments":[{"id":1989,"issue_id":"lettatoolsselector-d5da7","author":"root","text":"Synced from Beads: lettatoolsselector-3uph\n\n---\nHuly Issue: LTSEL-327","created_at":"2026-01-02T03:29:07Z"}]}
{"id":"lettatoolsselector-d5va","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:00.871301498Z","updated_at":"2025-12-30T02:10:52.019815589Z","comments":[{"id":939,"issue_id":"lettatoolsselector-d5va","author":"root","text":"Synced from Beads: lettatoolsselector-oij\n\n---\nHuly Issue: LTSEL-86","created_at":"2025-12-29T21:13:01Z"}]}
{"id":"lettatoolsselector-d667","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:32.661568206Z","updated_at":"2025-12-30T01:48:02.700738403Z","comments":[{"id":955,"issue_id":"lettatoolsselector-d667","author":"root","text":"Synced from Beads: lettatoolsselector-0qv\n\n---\nHuly Issue: LTSEL-93","created_at":"2025-12-29T21:14:33Z"}]}
{"id":"lettatoolsselector-d8b","title":"[Perf] Cache environment-based config at startup","description":"## Problem\nConfig endpoints parse environment variables on every request.\n\n**Location:** `routes/config.py:60-77, 135-151, 305-340`\n\n```python\n# Line 65-71\nconfig = {\n    \"enabled\": os.getenv('RERANKER_ENABLED', 'true').lower() == 'true',\n    \"model\": os.getenv('RERANKER_MODEL', 'qwen3-reranker-4b'),\n    ...\n}\n```\n\n## Impact\n- **Latency:** 0.5ms per config request\n- **Priority:** LOW\n\n## Solution\nCache config values at startup, only reload on explicit refresh:\n\n```python\n_cached_config: dict = None\n_config_loaded_at: float = 0\n\ndef _load_config() -\u003e dict:\n    return {\n        \"reranker\": {\n            \"enabled\": os.getenv('RERANKER_ENABLED', 'true').lower() == 'true',\n            \"model\": os.getenv('RERANKER_MODEL', 'qwen3-reranker-4b'),\n            # ...\n        },\n        \"weaviate\": {\n            # ...\n        }\n    }\n\ndef get_cached_config() -\u003e dict:\n    global _cached_config, _config_loaded_at\n    if _cached_config is None:\n        _cached_config = _load_config()\n        _config_loaded_at = time.time()\n    return _cached_config\n\ndef refresh_config():\n    global _cached_config\n    _cached_config = _load_config()\n```\n\n## Acceptance Criteria\n- [ ] Config parsed once at startup\n- [ ] Cached config used for read requests\n- [ ] Explicit refresh endpoint to reload config\n- [ ] All unit tests pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T01:51:01.443245463Z","updated_at":"2025-12-29T19:37:19.127415932Z","closed_at":"2025-12-29T19:37:19.127415932Z","close_reason":"Added config caching at startup with _reload_config_cache(), get_cached_config(), and /api/v1/config/refresh endpoint","labels":["performance"]}
{"id":"lettatoolsselector-d90se","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:46.172104592Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:46.172104592Z","comments":[{"id":2250,"issue_id":"lettatoolsselector-d90se","author":"root","text":"Synced from Beads: lettatoolsselector-gr47\n\n---\nHuly Issue: LTSEL-501","created_at":"2026-01-02T03:44:46Z"}]}
{"id":"lettatoolsselector-dai","title":"[Refactor] Migrate tools attach/prune/sync/refresh handlers to services pattern","description":"Move remaining tools handlers from api_server.py into routes/tools.py using the services layer pattern.\n\n## Handlers to Migrate\n- _tools_attach_handler (~320 lines) - attaches tools to agents\n- _tools_prune_handler (~100 lines) - prunes excess tools  \n- _tools_sync_handler (~15 lines) - syncs tool cache\n- _tools_refresh_handler (~10 lines) - refreshes tool cache\n\n## New Services Required\n- services/agent.py - AgentService wrapping fetch_agent_info, fetch_agent_tools\n- services/letta_client.py - LettaClientService wrapping SDK operations\n\n## Pattern\n1. Create new service files with DI pattern\n2. Move handler implementations into routes/tools.py\n3. Configure services in startup()\n4. Remove old handlers from api_server.py\n5. Update any tests mocking api_server to mock services\n\n## Estimated Reduction\n~450 lines removed from api_server.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T00:41:37.690094322Z","updated_at":"2025-12-29T15:45:40.101009704Z","closed_at":"2025-12-29T15:45:40.101009704Z","close_reason":"Closed","labels":["refactor","services-layer"]}
{"id":"lettatoolsselector-dail4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:18.760953614Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:18.760953614Z","comments":[{"id":2011,"issue_id":"lettatoolsselector-dail4","author":"root","text":"Synced from Beads: lettatoolsselector-cx37\n\n---\nHuly Issue: LTSEL-304","created_at":"2026-01-02T03:29:19Z"}]}
{"id":"lettatoolsselector-dam0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:49.422812921Z","updated_at":"2025-12-30T01:48:41.436252758Z","comments":[{"id":957,"issue_id":"lettatoolsselector-dam0","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-83","created_at":"2025-12-29T21:14:49Z"}]}
{"id":"lettatoolsselector-ddhls","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:56.859068308Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:56.859068308Z","comments":[{"id":2257,"issue_id":"lettatoolsselector-ddhls","author":"root","text":"Synced from Beads: lettatoolsselector-b1kw\n\n---\nHuly Issue: LTSEL-456","created_at":"2026-01-02T03:44:57Z"}]}
{"id":"lettatoolsselector-dgn2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:07.488660652Z","updated_at":"2025-12-30T01:46:48.146348682Z","comments":[{"id":950,"issue_id":"lettatoolsselector-dgn2","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:14:07Z"}]}
{"id":"lettatoolsselector-dmq2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:28.174510635Z","updated_at":"2025-12-30T01:46:11.835881349Z","comments":[{"id":945,"issue_id":"lettatoolsselector-dmq2","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:13:28Z"}]}
{"id":"lettatoolsselector-dt4yb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:15.133928068Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:15.133928068Z","comments":[{"id":2004,"issue_id":"lettatoolsselector-dt4yb","author":"root","text":"Synced from Beads: lettatoolsselector-kuad\n\n---\nHuly Issue: LTSEL-311","created_at":"2026-01-02T03:29:15Z"}]}
{"id":"lettatoolsselector-dzqn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:32:15.553592067Z","updated_at":"2025-12-30T02:38:37.522678751Z","comments":[{"id":1064,"issue_id":"lettatoolsselector-dzqn","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-55","created_at":"2025-12-29T21:32:15Z"}]}
{"id":"lettatoolsselector-dzsh9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:35.47861087Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:35.47861087Z","comments":[{"id":1921,"issue_id":"lettatoolsselector-dzsh9","author":"root","text":"Synced from Beads: lettatoolsselector-idln\n\n---\nHuly Issue: LTSEL-409","created_at":"2026-01-02T03:28:35Z"}]}
{"id":"lettatoolsselector-e3ch","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:21.920458984Z","updated_at":"2025-12-30T01:50:18.874069107Z","comments":[{"id":965,"issue_id":"lettatoolsselector-e3ch","author":"root","text":"Synced from Beads: lettatoolsselector-76g\n\n---\nHuly Issue: LTSEL-95","created_at":"2025-12-29T21:15:22Z"}]}
{"id":"lettatoolsselector-e3jce","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:43.977390796Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:43.977390796Z","comments":[{"id":1939,"issue_id":"lettatoolsselector-e3jce","author":"root","text":"Synced from Beads: lettatoolsselector-z5uk\n\n---\nHuly Issue: LTSEL-384","created_at":"2026-01-02T03:28:44Z"}]}
{"id":"lettatoolsselector-e4np","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:27:24.383771083Z","updated_at":"2025-12-30T02:01:56.805268506Z","comments":[{"id":1041,"issue_id":"lettatoolsselector-e4np","author":"root","text":"Synced from Beads: lettatoolsselector-cgd\n\n---\nHuly Issue: LTSEL-73","created_at":"2025-12-29T21:27:24Z"}]}
{"id":"lettatoolsselector-e6ubr","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:08.394580349Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:08.394580349Z","comments":[{"id":2267,"issue_id":"lettatoolsselector-e6ubr","author":"root","text":"Synced from Beads: lettatoolsselector-ck3e\n\n---\nHuly Issue: LTSEL-417","created_at":"2026-01-02T03:45:08Z"}]}
{"id":"lettatoolsselector-e73p","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:52.81219102Z","updated_at":"2025-12-30T01:51:41.970620285Z","comments":[{"id":976,"issue_id":"lettatoolsselector-e73p","author":"root","text":"Synced from Beads: lettatoolsselector-65f\n\n---\nHuly Issue: LTSEL-65","created_at":"2025-12-29T21:16:53Z"}]}
{"id":"lettatoolsselector-ea4jr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:24.737658935Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:24.737658935Z","comments":[{"id":1896,"issue_id":"lettatoolsselector-ea4jr","author":"root","text":"Synced from Beads: lettatoolsselector-z2kn\n\n---\nHuly Issue: LTSEL-442","created_at":"2026-01-02T03:28:24Z"}]}
{"id":"lettatoolsselector-ecep5","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:10.564832729Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:10.564832729Z","comments":[{"id":2228,"issue_id":"lettatoolsselector-ecep5","author":"root","text":"Synced from Huly: LTSEL-572","created_at":"2026-01-02T03:44:10Z"}]}
{"id":"lettatoolsselector-ed9c8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:55.07746589Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:55.07746589Z","comments":[{"id":1963,"issue_id":"lettatoolsselector-ed9c8","author":"root","text":"Synced from Beads: lettatoolsselector-2lms\n\n---\nHuly Issue: LTSEL-356","created_at":"2026-01-02T03:28:55Z"}]}
{"id":"lettatoolsselector-efft","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:01:36.390605117Z","updated_at":"2025-12-30T04:14:03.264870461Z","comments":[{"id":825,"issue_id":"lettatoolsselector-efft","author":"root","text":"Synced from Beads: lettatoolsselector-eyc\n\n---\nHuly Issue: LTSEL-121","created_at":"2025-12-29T21:01:36Z"}]}
{"id":"lettatoolsselector-elle","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:15.621004285Z","updated_at":"2025-12-30T04:14:20.921195035Z","comments":[{"id":902,"issue_id":"lettatoolsselector-elle","author":"root","text":"Synced from Beads: lettatoolsselector-76g\n\n---\nHuly Issue: LTSEL-95","created_at":"2025-12-29T21:09:15Z"}]}
{"id":"lettatoolsselector-eotvs","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:25.550051372Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:25.550051372Z","comments":[{"id":1898,"issue_id":"lettatoolsselector-eotvs","author":"root","text":"Synced from Beads: lettatoolsselector-6fy5\n\n---\nHuly Issue: LTSEL-440","created_at":"2026-01-02T03:28:25Z"}]}
{"id":"lettatoolsselector-erc2s","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:01.176700488Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:01.176700488Z","comments":[{"id":1976,"issue_id":"lettatoolsselector-erc2s","author":"root","text":"Synced from Beads: lettatoolsselector-qquy\n\n---\nHuly Issue: LTSEL-340","created_at":"2026-01-02T03:29:01Z"}]}
{"id":"lettatoolsselector-erf81","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:00.249369787Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:00.249369787Z","comments":[{"id":2260,"issue_id":"lettatoolsselector-erf81","author":"root","text":"Synced from Huly: LTSEL-448","created_at":"2026-01-02T03:45:00Z"}]}
{"id":"lettatoolsselector-ess9p","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:41.190181621Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:41.190181621Z","comments":[{"id":2061,"issue_id":"lettatoolsselector-ess9p","author":"root","text":"Synced from Beads: lettatoolsselector-b2rg\n\n---\nHuly Issue: LTSEL-254","created_at":"2026-01-02T03:29:41Z"}]}
{"id":"lettatoolsselector-eumo","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:51.08826123Z","updated_at":"2025-12-30T04:14:22.000540237Z","comments":[{"id":906,"issue_id":"lettatoolsselector-eumo","author":"root","text":"Synced from Beads: lettatoolsselector-uwy\n\n---\nHuly Issue: LTSEL-78","created_at":"2025-12-29T21:09:51Z"}]}
{"id":"lettatoolsselector-exlnd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:34.139187056Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:34.139187056Z","comments":[{"id":1918,"issue_id":"lettatoolsselector-exlnd","author":"root","text":"Synced from Beads: lettatoolsselector-symt\n\n---\nHuly Issue: LTSEL-412","created_at":"2026-01-02T03:28:34Z"}]}
{"id":"lettatoolsselector-ez6rj","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:52.662456892Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:52.662456892Z","comments":[{"id":2220,"issue_id":"lettatoolsselector-ez6rj","author":"root","text":"Synced from Beads: lettatoolsselector-u8n6\n\n---\nHuly Issue: LTSEL-610","created_at":"2026-01-02T03:43:52Z"}]}
{"id":"lettatoolsselector-f0mpy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:11.183934568Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:11.183934568Z","comments":[{"id":1997,"issue_id":"lettatoolsselector-f0mpy","author":"root","text":"Synced from Beads: lettatoolsselector-lmb1\n\n---\nHuly Issue: LTSEL-319","created_at":"2026-01-02T03:29:11Z"}]}
{"id":"lettatoolsselector-f1udx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:25.724911219Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:25.724911219Z","comments":[{"id":2026,"issue_id":"lettatoolsselector-f1udx","author":"root","text":"Synced from Beads: lettatoolsselector-9r16\n\n---\nHuly Issue: LTSEL-289","created_at":"2026-01-02T03:29:25Z"}]}
{"id":"lettatoolsselector-f2kep","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:38.836208452Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:38.836208452Z","comments":[{"id":1928,"issue_id":"lettatoolsselector-f2kep","author":"root","text":"Synced from Beads: lettatoolsselector-unfo\n\n---\nHuly Issue: LTSEL-400","created_at":"2026-01-02T03:28:39Z"}]}
{"id":"lettatoolsselector-f2m19","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:27.054373542Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:27.054373542Z","comments":[{"id":2029,"issue_id":"lettatoolsselector-f2m19","author":"root","text":"Synced from Beads: lettatoolsselector-jnrp\n\n---\nHuly Issue: LTSEL-286","created_at":"2026-01-02T03:29:27Z"}]}
{"id":"lettatoolsselector-f5yg","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:09.959653957Z","updated_at":"2025-12-30T02:02:20.074791394Z","comments":[{"id":1043,"issue_id":"lettatoolsselector-f5yg","author":"root","text":"Synced from Beads: lettatoolsselector-m03\n\n---\nHuly Issue: LTSEL-71","created_at":"2025-12-29T21:28:10Z"}]}
{"id":"lettatoolsselector-f8o24","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:30:45.923076413Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:30:45.923076413Z","comments":[{"id":2117,"issue_id":"lettatoolsselector-f8o24","author":"root","text":"Synced from Beads: lettatoolsselector-5hl3\n\n---\nHuly Issue: LTSEL-250","created_at":"2026-01-02T03:30:46Z"}]}
{"id":"lettatoolsselector-f9wka","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:12.773114524Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:12.773114524Z","comments":[{"id":1869,"issue_id":"lettatoolsselector-f9wka","author":"root","text":"Synced from Beads: lettatoolsselector-zgks\n\n---\nHuly Issue: LTSEL-481","created_at":"2026-01-02T03:28:13Z"}]}
{"id":"lettatoolsselector-fh8lr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:46.766304213Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:46.766304213Z","comments":[{"id":1945,"issue_id":"lettatoolsselector-fh8lr","author":"root","text":"Synced from Beads: lettatoolsselector-rqhh\n\n---\nHuly Issue: LTSEL-378","created_at":"2026-01-02T03:28:47Z"}]}
{"id":"lettatoolsselector-fiph","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:52.197235011Z","updated_at":"2025-12-30T04:11:46.418027284Z","comments":[{"id":820,"issue_id":"lettatoolsselector-fiph","author":"root","text":"Synced from Beads: lettatoolsselector-80w\n\n---\nHuly Issue: LTSEL-122","created_at":"2025-12-29T21:00:52Z"}]}
{"id":"lettatoolsselector-fiyi","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:17.140847851Z","updated_at":"2025-12-30T01:51:04.100960379Z","comments":[{"id":971,"issue_id":"lettatoolsselector-fiyi","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-65","created_at":"2025-12-29T21:16:17Z"}]}
{"id":"lettatoolsselector-fkxi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:34:35.543955064Z","updated_at":"2025-12-30T02:39:31.92705071Z","comments":[{"id":1069,"issue_id":"lettatoolsselector-fkxi","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-58","created_at":"2025-12-29T21:34:36Z"}]}
{"id":"lettatoolsselector-fna4a","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:11.948075737Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:11.948075737Z","comments":[{"id":1867,"issue_id":"lettatoolsselector-fna4a","author":"root","text":"Synced from Beads: lettatoolsselector-5y15\n\n---\nHuly Issue: LTSEL-483","created_at":"2026-01-02T03:28:12Z"}]}
{"id":"lettatoolsselector-fnkp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:09.555358409Z","updated_at":"2025-12-30T04:12:15.657608835Z","comments":[{"id":1008,"issue_id":"lettatoolsselector-fnkp","author":"root","text":"Synced from Beads: lettatoolsselector-ct9\n\n---\nHuly Issue: LTSEL-75","created_at":"2025-12-29T21:21:09Z"}]}
{"id":"lettatoolsselector-fr20","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:41.871565176Z","updated_at":"2025-12-30T01:56:52.32144876Z","comments":[{"id":1011,"issue_id":"lettatoolsselector-fr20","author":"root","text":"Synced from Beads: lettatoolsselector-m9u\n\n---\nHuly Issue: LTSEL-77","created_at":"2025-12-29T21:21:42Z"}]}
{"id":"lettatoolsselector-fudoe","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:32.294534984Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:32.294534984Z","comments":[{"id":2041,"issue_id":"lettatoolsselector-fudoe","author":"root","text":"Synced from Beads: lettatoolsselector-xkm9\n\n---\nHuly Issue: LTSEL-274","created_at":"2026-01-02T03:29:32Z"}]}
{"id":"lettatoolsselector-fufs","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:10.060142695Z","updated_at":"2025-12-30T01:57:39.848449381Z","comments":[{"id":1018,"issue_id":"lettatoolsselector-fufs","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:22:10Z"}]}
{"id":"lettatoolsselector-fv0","title":"[Perf] Add TTL cache for search results","description":"## Problem\nNo caching of search results. Identical queries within seconds hit Weaviate and reranker every time.\n\n**Location:** `services/tool_search.py`, `weaviate_tool_search_with_reranking.py`\n\n## Impact\n- **Latency:** 200-1000ms for repeated identical queries\n- **Priority:** HIGH - significant win for common query patterns\n\n## Solution\nAdd TTL-based cache for search results (60-300 seconds):\n\n```python\nfrom cachetools import TTLCache\n\n_search_cache = TTLCache(maxsize=1000, ttl=60)\n\ndef search_tools(query: str, limit: int = 10, reranker_config: dict = None):\n    # Create cache key from query params\n    cache_key = f\"{query}:{limit}:{hash(str(reranker_config))}\"\n    \n    if cache_key in _search_cache:\n        logger.debug(f\"Cache hit for query: {query}\")\n        return _search_cache[cache_key]\n    \n    # ... perform search ...\n    \n    _search_cache[cache_key] = results\n    return results\n```\n\n## Configuration\n- TTL configurable via env var `SEARCH_CACHE_TTL_SECONDS` (default: 60)\n- Max size configurable via `SEARCH_CACHE_MAX_SIZE` (default: 1000)\n- Add cache stats to health endpoint\n\n## Acceptance Criteria\n- [ ] Search results cached with configurable TTL\n- [ ] Cache key includes query, limit, and reranker config\n- [ ] Cache stats available in health/metrics endpoint\n- [ ] Cache can be cleared via API or on tool index refresh\n- [ ] All unit tests pass","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:49:42.255551437Z","updated_at":"2025-12-29T16:13:42.500990485Z","closed_at":"2025-12-29T16:13:42.500990485Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-fvk","title":"[Code Quality] Add Optional type hints for nullable parameters","description":"Several functions accept None values but lack proper Optional[] type hints.\n\n## Affected Functions\n\n### _emit_matrix_bridge_webhook (line 976-980)\nParameters that can be None but aren't typed as Optional:\n- `new_run_id: str = None` should be `new_run_id: Optional[str] = None`\n- `tool_names: list = None` should be `tool_names: Optional[List[str]] = None`\n- `query: str = None` should be `query: Optional[str] = None`\n\n### _send_trigger_message (line 898)\n- Similar nullable parameter issues\n\n### Other locations\n- Line 1514: list parameter that can be None\n\n## Acceptance Criteria\n- [ ] Import Optional from typing module where needed\n- [ ] Update all nullable parameters to use Optional[T]\n- [ ] Ensure default values match the Optional typing\n- [ ] No runtime behavior changes","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T17:13:10.07216349Z","updated_at":"2025-12-29T19:24:34.88561713Z","closed_at":"2025-12-29T19:24:34.88561713Z","close_reason":"Already done: agent_service.py functions already use Optional type hints"}
{"id":"lettatoolsselector-fw8eh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:25.633519926Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:25.633519926Z","comments":[{"id":2127,"issue_id":"lettatoolsselector-fw8eh","author":"root","text":"Synced from Beads: lettatoolsselector-zxm\n\n---\nHuly Issue: LTSEL-213","created_at":"2026-01-02T03:31:25Z"}]}
{"id":"lettatoolsselector-fx26","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:36.303628406Z","updated_at":"2025-12-30T01:55:29.53413435Z","comments":[{"id":999,"issue_id":"lettatoolsselector-fx26","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:19:36Z"}]}
{"id":"lettatoolsselector-fzjm6","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:19.233809977Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:19.233809977Z","comments":[{"id":2012,"issue_id":"lettatoolsselector-fzjm6","author":"root","text":"Synced from Beads: lettatoolsselector-x3qd\n\n---\nHuly Issue: LTSEL-303","created_at":"2026-01-02T03:29:19Z"}]}
{"id":"lettatoolsselector-fzn1e","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:30.714763218Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:30.714763218Z","comments":[{"id":1910,"issue_id":"lettatoolsselector-fzn1e","author":"root","text":"Synced from Beads: lettatoolsselector-gidt\n\n---\nHuly Issue: LTSEL-424","created_at":"2026-01-02T03:28:31Z"}]}
{"id":"lettatoolsselector-g2byv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:34.639327264Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:34.639327264Z","comments":[{"id":1919,"issue_id":"lettatoolsselector-g2byv","author":"root","text":"Synced from Beads: lettatoolsselector-8pez\n\n---\nHuly Issue: LTSEL-411","created_at":"2026-01-02T03:28:34Z"}]}
{"id":"lettatoolsselector-g42am","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:33.021404025Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:33.021404025Z","comments":[{"id":2281,"issue_id":"lettatoolsselector-g42am","author":"root","text":"Synced from Huly: LTSEL-355","created_at":"2026-01-02T03:45:33Z"}]}
{"id":"lettatoolsselector-gidt","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:51.512168797Z","updated_at":"2025-12-30T04:14:19.864973083Z","comments":[{"id":898,"issue_id":"lettatoolsselector-gidt","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-104","created_at":"2025-12-29T21:08:51Z"}]}
{"id":"lettatoolsselector-gjcfb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:16.748225714Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:16.748225714Z","comments":[{"id":1878,"issue_id":"lettatoolsselector-gjcfb","author":"root","text":"Synced from Beads: lettatoolsselector-b7bv\n\n---\nHuly Issue: LTSEL-471","created_at":"2026-01-02T03:28:17Z"}]}
{"id":"lettatoolsselector-gjfe","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:48.964969742Z","updated_at":"2025-12-30T02:05:58.646490163Z","comments":[{"id":1062,"issue_id":"lettatoolsselector-gjfe","author":"root","text":"Synced from Beads: lettatoolsselector-ksi\n\n---\nHuly Issue: LTSEL-64","created_at":"2025-12-29T21:31:49Z"}]}
{"id":"lettatoolsselector-gsaac","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:55.953581438Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:55.953581438Z","comments":[{"id":1965,"issue_id":"lettatoolsselector-gsaac","author":"root","text":"Synced from Beads: lettatoolsselector-kj6l\n\n---\nHuly Issue: LTSEL-353","created_at":"2026-01-02T03:28:56Z"}]}
{"id":"lettatoolsselector-gwsmv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:58.859447343Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:58.859447343Z","comments":[{"id":1971,"issue_id":"lettatoolsselector-gwsmv","author":"root","text":"Synced from Beads: lettatoolsselector-p29d\n\n---\nHuly Issue: LTSEL-346","created_at":"2026-01-02T03:28:59Z"}]}
{"id":"lettatoolsselector-gy2y","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:35.99696406Z","updated_at":"2025-12-30T04:14:05.362397814Z","comments":[{"id":833,"issue_id":"lettatoolsselector-gy2y","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:02:36Z"}]}
{"id":"lettatoolsselector-h0m4e","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:12.823579979Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:12.823579979Z","comments":[{"id":2000,"issue_id":"lettatoolsselector-h0m4e","author":"root","text":"Synced from Beads: lettatoolsselector-kgpe\n\n---\nHuly Issue: LTSEL-315","created_at":"2026-01-02T03:29:13Z"}]}
{"id":"lettatoolsselector-hbnka","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:21.152960363Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:21.152960363Z","comments":[{"id":2016,"issue_id":"lettatoolsselector-hbnka","author":"root","text":"Synced from Beads: lettatoolsselector-c8lu\n\n---\nHuly Issue: LTSEL-299","created_at":"2026-01-02T03:29:21Z"}]}
{"id":"lettatoolsselector-hcns","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:35.233788534Z","updated_at":"2025-12-30T04:14:08.424858387Z","comments":[{"id":844,"issue_id":"lettatoolsselector-hcns","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:03:35Z"}]}
{"id":"lettatoolsselector-hg23j","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:07.67585082Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:07.67585082Z","comments":[{"id":1857,"issue_id":"lettatoolsselector-hg23j","author":"root","text":"Synced from Beads: lettatoolsselector-msav\n\n---\nHuly Issue: LTSEL-493","created_at":"2026-01-02T03:28:07Z"}]}
{"id":"lettatoolsselector-hjnxo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:29.474701521Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:29.474701521Z","comments":[{"id":1907,"issue_id":"lettatoolsselector-hjnxo","author":"root","text":"Synced from Beads: lettatoolsselector-yhqa\n\n---\nHuly Issue: LTSEL-428","created_at":"2026-01-02T03:28:29Z"}]}
{"id":"lettatoolsselector-hklk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:52.689084678Z","updated_at":"2025-12-30T01:50:35.32686544Z","comments":[{"id":967,"issue_id":"lettatoolsselector-hklk","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:15:53Z"}]}
{"id":"lettatoolsselector-hng3e","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:39.262102982Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:39.262102982Z","comments":[{"id":1929,"issue_id":"lettatoolsselector-hng3e","author":"root","text":"Synced from Beads: lettatoolsselector-9lc7\n\n---\nHuly Issue: LTSEL-399","created_at":"2026-01-02T03:28:39Z"}]}
{"id":"lettatoolsselector-hs2tp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:47:29.044589405Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T04:20:29.179753276Z","comments":[{"id":2321,"issue_id":"lettatoolsselector-hs2tp","author":"root","text":"Synced from Beads: lettatoolsselector-uj0r\n\n\n\n---\nHuly Issue: LTSEL-252","created_at":"2026-01-02T03:47:29Z"}]}
{"id":"lettatoolsselector-hxen5","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:50.676676037Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:50.676676037Z","comments":[{"id":2216,"issue_id":"lettatoolsselector-hxen5","author":"root","text":"Synced from Beads: lettatoolsselector-zs7p\n\n---\nHuly Issue: LTSEL-621","created_at":"2026-01-02T03:43:51Z"}]}
{"id":"lettatoolsselector-i28hl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:56.968153631Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:56.968153631Z","comments":[{"id":1967,"issue_id":"lettatoolsselector-i28hl","author":"root","text":"Synced from Beads: lettatoolsselector-xdhk\n\n---\nHuly Issue: LTSEL-351","created_at":"2026-01-02T03:28:57Z"}]}
{"id":"lettatoolsselector-i3ghe","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:30.576474748Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:30.576474748Z","comments":[{"id":2277,"issue_id":"lettatoolsselector-i3ghe","author":"root","text":"Synced from Beads: lettatoolsselector-1y3g\n\n---\nHuly Issue: LTSEL-377","created_at":"2026-01-02T03:45:30Z"}]}
{"id":"lettatoolsselector-i4wb2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:39.785414214Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:39.785414214Z","comments":[{"id":1930,"issue_id":"lettatoolsselector-i4wb2","author":"root","text":"Synced from Beads: lettatoolsselector-4t4g\n\n---\nHuly Issue: LTSEL-397","created_at":"2026-01-02T03:28:40Z"}]}
{"id":"lettatoolsselector-i6sta","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:05.07192111Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:05.07192111Z","comments":[{"id":2264,"issue_id":"lettatoolsselector-i6sta","author":"root","text":"Synced from Beads: lettatoolsselector-5trc\n\n---\nHuly Issue: LTSEL-431","created_at":"2026-01-02T03:45:05Z"}]}
{"id":"lettatoolsselector-i8pn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:14.83423717Z","updated_at":"2025-12-30T04:14:20.652253265Z","comments":[{"id":901,"issue_id":"lettatoolsselector-i8pn","author":"root","text":"Synced from Beads: lettatoolsselector-0qv\n\n---\nHuly Issue: LTSEL-93","created_at":"2025-12-29T21:09:15Z"}]}
{"id":"lettatoolsselector-iddz8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:30.038323079Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:30.038323079Z","comments":[{"id":2132,"issue_id":"lettatoolsselector-iddz8","author":"root","text":"Synced from Beads: lettatoolsselector-b2i\n\n---\nHuly Issue: LTSEL-208","created_at":"2026-01-02T03:31:30Z"}]}
{"id":"lettatoolsselector-idln","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:31.845261513Z","updated_at":"2025-12-30T04:14:23.905377629Z","comments":[{"id":915,"issue_id":"lettatoolsselector-idln","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:10:32Z"}]}
{"id":"lettatoolsselector-ieg1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:17:28.247870267Z","updated_at":"2025-12-30T01:53:14.416563491Z","comments":[{"id":981,"issue_id":"lettatoolsselector-ieg1","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:17:28Z"}]}
{"id":"lettatoolsselector-ier","title":"[Refactor] Phase 6: Dependency injection and app factory","description":"Implement dependency injection and Flask app factory pattern for testability.\n\n## Depends On\n- lettatoolsselector-sbw (Phase 5: Route blueprints)\n\n## Goals\n1. Make services injectable for testing\n2. Create app factory for different configurations\n3. Establish clear initialization order\n\n## Implementation\n\n### App Factory (`app.py`)\n```python\ndef create_app(config: AppConfig = None) -\u003e Flask:\n    app = Flask(__name__)\n    \n    # Load config\n    config = config or load_config_from_env()\n    app.config.from_object(config)\n    \n    # Initialize clients\n    weaviate_client = init_weaviate(config.weaviate)\n    letta_client = init_letta(config.letta)\n    reranker_client = init_reranker(config.reranker)\n    \n    # Initialize services\n    search_service = SearchService(weaviate_client, reranker_client)\n    agent_service = AgentService(letta_client, config.webhook_url)\n    tool_manager = ToolManager(letta_client, weaviate_client, search_service)\n    \n    # Store in app context\n    app.services = ServiceContainer(\n        search=search_service,\n        agent=agent_service,\n        tools=tool_manager\n    )\n    \n    # Register blueprints\n    from routes import tools_bp, config_bp, health_bp, ...\n    app.register_blueprint(tools_bp)\n    app.register_blueprint(config_bp)\n    ...\n    \n    return app\n```\n\n### Service Container\n```python\n@dataclass\nclass ServiceContainer:\n    search: SearchService\n    agent: AgentService\n    tools: ToolManager\n    cache: CacheService\n    \ndef get_services() -\u003e ServiceContainer:\n    return current_app.services\n```\n\n### Route Handler Pattern\n```python\n@tools_bp.route('/attach', methods=['POST'])\nasync def attach_tools():\n    services = get_services()\n    request_data = AttachRequest.from_json(request.json)\n    \n    result = await services.tools.attach_tools_for_query(\n        agent_id=request_data.agent_id,\n        query=request_data.query,\n        ...\n    )\n    \n    return jsonify(result.to_dict())\n```\n\n### Testing Pattern\n```python\ndef test_attach_tools():\n    # Create mock services\n    mock_tool_manager = MockToolManager()\n    mock_tool_manager.attach_tools_for_query.return_value = AttachResponse(...)\n    \n    # Create app with mocks\n    app = create_app(config=TestConfig())\n    app.services.tools = mock_tool_manager\n    \n    # Test\n    with app.test_client() as client:\n        response = client.post('/api/v1/tools/attach', json={...})\n        assert response.status_code == 200\n```\n\n## Acceptance Criteria\n- [ ] App factory pattern implemented\n- [ ] ServiceContainer holds all services\n- [ ] Routes use get_services() helper\n- [ ] Tests can inject mock services\n- [ ] Configuration is centralized\n- [ ] All tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:38:36.125814136Z","updated_at":"2025-12-29T19:11:19.37715482Z","closed_at":"2025-12-29T19:11:19.37715482Z","close_reason":"Phase 6 complete: app_factory with full blueprint registration, main.py entry point created, 389 tests passing"}
{"id":"lettatoolsselector-igzx2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:59.279298253Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:59.279298253Z","comments":[{"id":1972,"issue_id":"lettatoolsselector-igzx2","author":"root","text":"Synced from Beads: lettatoolsselector-ieg1\n\n---\nHuly Issue: LTSEL-345","created_at":"2026-01-02T03:28:59Z"}]}
{"id":"lettatoolsselector-iinmq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:08.153831256Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:08.153831256Z","comments":[{"id":1991,"issue_id":"lettatoolsselector-iinmq","author":"root","text":"Synced from Beads: lettatoolsselector-4rnv\n\n---\nHuly Issue: LTSEL-325","created_at":"2026-01-02T03:29:08Z"}]}
{"id":"lettatoolsselector-ijw4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:26.58242913Z","updated_at":"2025-12-30T01:45:56.295709832Z","comments":[{"id":943,"issue_id":"lettatoolsselector-ijw4","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-85","created_at":"2025-12-29T21:13:26Z"}]}
{"id":"lettatoolsselector-ipnk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:07.551626522Z","updated_at":"2025-12-30T01:57:18.654155241Z","comments":[{"id":1015,"issue_id":"lettatoolsselector-ipnk","author":"root","text":"Synced from Beads: lettatoolsselector-cgd\n\n---\nHuly Issue: LTSEL-73","created_at":"2025-12-29T21:22:07Z"}]}
{"id":"lettatoolsselector-j1b92","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:26.615789618Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:26.615789618Z","comments":[{"id":2028,"issue_id":"lettatoolsselector-j1b92","author":"root","text":"Synced from Beads: lettatoolsselector-cspn\n\n---\nHuly Issue: LTSEL-287","created_at":"2026-01-02T03:29:26Z"}]}
{"id":"lettatoolsselector-j2xl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:34.178327281Z","updated_at":"2025-12-30T04:14:08.113510579Z","comments":[{"id":843,"issue_id":"lettatoolsselector-j2xl","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:03:34Z"}]}
{"id":"lettatoolsselector-j923t","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:43.55154552Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:43.55154552Z","comments":[{"id":1938,"issue_id":"lettatoolsselector-j923t","author":"root","text":"Synced from Beads: lettatoolsselector-d5va\n\n---\nHuly Issue: LTSEL-385","created_at":"2026-01-02T03:28:43Z"}]}
{"id":"lettatoolsselector-j9ap","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:33:10.87104862Z","updated_at":"2025-12-30T02:38:47.597835451Z","comments":[{"id":1065,"issue_id":"lettatoolsselector-j9ap","author":"root","text":"Synced from Beads: lettatoolsselector-mhi\n\n---\nHuly Issue: LTSEL-61","created_at":"2025-12-29T21:33:11Z"}]}
{"id":"lettatoolsselector-jdh0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:24.708260769Z","updated_at":"2025-12-30T02:07:15.017054254Z","comments":[{"id":923,"issue_id":"lettatoolsselector-jdh0","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-92","created_at":"2025-12-29T21:11:25Z"}]}
{"id":"lettatoolsselector-jgew","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:33:50.966372834Z","updated_at":"2025-12-30T02:38:59.211228817Z","comments":[{"id":1066,"issue_id":"lettatoolsselector-jgew","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:33:51Z"}]}
{"id":"lettatoolsselector-jh3","title":"[Perf] Use dict-based O(1) lookup for tool filtering","description":"## Problem\n`_filter_mcp_results()` performs O(n*m) linear search looking up each result in the tools cache.\n\n**Location:** `routes/tools.py:144-168`\n\n```python\n# Line 150 - O(n) lookup per result\ncached_tool = next((t for t in tools_cache if t.get('name') == tool_name), None)\n```\n\n## Impact\n- **Latency:** 10-50ms with 500+ tools in cache and 50 results (25,000+ comparisons)\n- **Priority:** MEDIUM-HIGH - easy fix with good payoff\n\n## Solution\nConvert `tools_cache` to a dictionary keyed by name at cache load time:\n\n```python\n# In ToolCacheService or at cache load time\n_tool_cache_by_name: Dict[str, dict] = {}\n\nasync def read_tool_cache(self, force_reload=False):\n    tools = await self._load_cache()\n    self._tool_cache_by_name = {t.get('name'): t for t in tools}\n    return tools\n\n# In _filter_mcp_results - O(1) lookup\ncached_tool = cache_service.get_tool_by_name(tool_name)\n```\n\n## Acceptance Criteria\n- [ ] ToolCacheService maintains name-indexed dict\n- [ ] `_filter_mcp_results()` uses O(1) dict lookup\n- [ ] Dict rebuilt on cache refresh\n- [ ] All unit tests pass\n- [ ] Add benchmark test comparing old vs new performance","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:49:55.722342789Z","updated_at":"2025-12-29T17:51:45.149742746Z","closed_at":"2025-12-29T17:51:45.149742746Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-jhwvz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:47.301664791Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:47.301664791Z","comments":[{"id":1946,"issue_id":"lettatoolsselector-jhwvz","author":"root","text":"Synced from Beads: lettatoolsselector-5yds\n\n---\nHuly Issue: LTSEL-376","created_at":"2026-01-02T03:28:47Z"}]}
{"id":"lettatoolsselector-jiv06","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:12.345280214Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:12.345280214Z","comments":[{"id":2270,"issue_id":"lettatoolsselector-jiv06","author":"root","text":"Synced from Beads: lettatoolsselector-phds\n\n---\nHuly Issue: LTSEL-408","created_at":"2026-01-02T03:45:12Z"}]}
{"id":"lettatoolsselector-jkfoi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:03.000634201Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:03.000634201Z","comments":[{"id":1980,"issue_id":"lettatoolsselector-jkfoi","author":"root","text":"Synced from Beads: lettatoolsselector-uxdc\n\n---\nHuly Issue: LTSEL-336","created_at":"2026-01-02T03:29:03Z"}]}
{"id":"lettatoolsselector-jmd3","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:59.421251189Z","updated_at":"2025-12-30T01:56:08.567528505Z","comments":[{"id":1004,"issue_id":"lettatoolsselector-jmd3","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-87","created_at":"2025-12-29T21:19:59Z"}]}
{"id":"lettatoolsselector-jnrp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:29:34.710332702Z","updated_at":"2025-12-30T02:03:10.385652012Z","comments":[{"id":1049,"issue_id":"lettatoolsselector-jnrp","author":"root","text":"Synced from Beads: lettatoolsselector-57s\n\n---\nHuly Issue: LTSEL-59","created_at":"2025-12-29T21:29:35Z"}]}
{"id":"lettatoolsselector-jql","title":"[Test] Performance test: Tool attachment under load","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:28.165403794Z","updated_at":"2025-12-29T18:56:32.145572895Z","closed_at":"2025-12-29T18:56:32.145572895Z","close_reason":"Duplicate of lettatoolsselector-vly (performance test)","comments":[{"id":13,"issue_id":"lettatoolsselector-jql","author":"node","text":"## Purpose\n\nEnsure tool attachment scales and doesn't degrade under concurrent webhooks.\n\n## Test Scenario\n\n1. Simulate 10 concurrent webhook requests for different agents\n2. Measure: Response time for each request\n3. Measure: Total time to process all requests\n4. Assert: P95 response time \u003c 5 seconds\n5. Assert: No errors or timeouts\n\n## Acceptance Criteria\n\n- [ ] Test uses locust or similar load testing tool\n- [ ] Runs on-demand (not in regular CI)\n- [ ] Reports latency percentiles\n- [ ] Identifies bottlenecks if any\n\n## Technical Notes\n\n- Start with 10 concurrent, scale to 50\n- Monitor Letta API rate limits\n- Tag as \n\n---\nHuly Issue: LTSEL-26","created_at":"2025-12-22T23:46:28Z"}]}
{"id":"lettatoolsselector-jr8s","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:01:37.21428921Z","updated_at":"2025-12-30T04:11:48.198049669Z","comments":[{"id":826,"issue_id":"lettatoolsselector-jr8s","author":"root","text":"Synced from Beads: lettatoolsselector-xei\n\n---\nHuly Issue: LTSEL-126","created_at":"2025-12-29T21:01:37Z"}]}
{"id":"lettatoolsselector-jwtk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:37.647538708Z","updated_at":"2025-12-30T04:14:06.181142745Z","comments":[{"id":835,"issue_id":"lettatoolsselector-jwtk","author":"root","text":"Synced from Beads: lettatoolsselector-y0e\n\n---\nHuly Issue: LTSEL-124","created_at":"2025-12-29T21:02:37Z"}]}
{"id":"lettatoolsselector-jxct","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:06.55370298Z","updated_at":"2025-12-30T04:14:13.734378336Z","comments":[{"id":871,"issue_id":"lettatoolsselector-jxct","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-101","created_at":"2025-12-29T21:06:06Z"}]}
{"id":"lettatoolsselector-k3fq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:26:10.709349141Z","updated_at":"2025-12-30T02:01:10.163016367Z","comments":[{"id":1037,"issue_id":"lettatoolsselector-k3fq","author":"root","text":"Synced from Beads: lettatoolsselector-ct9\n\n---\nHuly Issue: LTSEL-75","created_at":"2025-12-29T21:26:11Z"}]}
{"id":"lettatoolsselector-k4e5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:24.022587404Z","updated_at":"2025-12-30T02:10:23.443667572Z","comments":[{"id":936,"issue_id":"lettatoolsselector-k4e5","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-101","created_at":"2025-12-29T21:12:24Z"}]}
{"id":"lettatoolsselector-kcezl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:56.518267079Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:56.518267079Z","comments":[{"id":1966,"issue_id":"lettatoolsselector-kcezl","author":"root","text":"Synced from Beads: lettatoolsselector-4isq\n\n---\nHuly Issue: LTSEL-352","created_at":"2026-01-02T03:28:56Z"}]}
{"id":"lettatoolsselector-kf6r","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:02.25814639Z","updated_at":"2025-12-30T02:06:37.147859717Z","comments":[{"id":920,"issue_id":"lettatoolsselector-kf6r","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-105","created_at":"2025-12-29T21:11:02Z"}]}
{"id":"lettatoolsselector-kf7","title":"[Enforcement] Add pre-attach pruning to tool selector API","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:26.088411302Z","updated_at":"2025-12-29T18:56:12.157849446Z","closed_at":"2025-12-29T18:56:12.157849446Z","close_reason":"Duplicate of closed lettatoolsselector-trs","comments":[{"id":1,"issue_id":"lettatoolsselector-kf7","author":"node","text":"## Problem\n\nTool selector API has MAX_TOTAL_TOOLS=20 but only enforces it loosely. Agents like Meridian accumulated 44 tools because pruning doesn't run proactively.\n\n## Solution\n\nBefore attaching new tools, prune existing tools to make room within the limit.\n\n## Acceptance Criteria\n\n- [ ] Before any attach operation, fetch current tool count\n- [ ] If current + new \u003e MAX_TOTAL_TOOLS, detach lowest-scored tools first\n- [ ] Protected tools are never detached (use PROTECTED_TOOLS env var)\n- [ ] Return detailed response showing what was pruned and why\n- [ ] Log pruning decisions for debugging\n\n## Technical Notes\n\n- Pruning order: oldest first, then lowest relevance score\n- Consider keeping tools attached in last 24h as \"recent\" protection\n- MAX_TOTAL_TOOLS is now 20\n\n---\nHuly Issue: LTSEL-7","created_at":"2025-12-22T23:46:26Z"}]}
{"id":"lettatoolsselector-kgpe","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:09.234743626Z","updated_at":"2025-12-30T01:57:33.256744822Z","comments":[{"id":1017,"issue_id":"lettatoolsselector-kgpe","author":"root","text":"Synced from Beads: lettatoolsselector-b0j\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:22:09Z"}]}
{"id":"lettatoolsselector-kijye","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:14.058039374Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:14.058039374Z","comments":[{"id":2002,"issue_id":"lettatoolsselector-kijye","author":"root","text":"Synced from Beads: lettatoolsselector-qtyk\n\n---\nHuly Issue: LTSEL-313","created_at":"2026-01-02T03:29:14Z"}]}
{"id":"lettatoolsselector-kj6l","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:18.929695549Z","updated_at":"2025-12-30T01:51:18.344726684Z","comments":[{"id":973,"issue_id":"lettatoolsselector-kj6l","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-83","created_at":"2025-12-29T21:16:19Z"}]}
{"id":"lettatoolsselector-kmunj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:26.068523479Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:26.068523479Z","comments":[{"id":2128,"issue_id":"lettatoolsselector-kmunj","author":"root","text":"Synced from Beads: lettatoolsselector-6pf\n\n---\nHuly Issue: LTSEL-212","created_at":"2026-01-02T03:31:26Z"}]}
{"id":"lettatoolsselector-kodjm","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:52.317294533Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:52.317294533Z","comments":[{"id":2252,"issue_id":"lettatoolsselector-kodjm","author":"root","text":"Synced from Beads: lettatoolsselector-22ul\n\n---\nHuly Issue: LTSEL-468","created_at":"2026-01-02T03:44:52Z"}]}
{"id":"lettatoolsselector-kqwfs","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:18.240811523Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:18.240811523Z","comments":[{"id":2010,"issue_id":"lettatoolsselector-kqwfs","author":"root","text":"Synced from Beads: lettatoolsselector-p2ek\n\n---\nHuly Issue: LTSEL-305","created_at":"2026-01-02T03:29:18Z"}]}
{"id":"lettatoolsselector-ksunj","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:27.783759203Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:27.783759203Z","comments":[{"id":1903,"issue_id":"lettatoolsselector-ksunj","author":"root","text":"Synced from Beads: lettatoolsselector-nive\n\n---\nHuly Issue: LTSEL-434","created_at":"2026-01-02T03:28:27Z"}]}
{"id":"lettatoolsselector-kuad","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:56.543810223Z","updated_at":"2025-12-30T01:58:39.708680134Z","comments":[{"id":1022,"issue_id":"lettatoolsselector-kuad","author":"root","text":"Synced from Beads: lettatoolsselector-m03\n\n---\nHuly Issue: LTSEL-71","created_at":"2025-12-29T21:22:57Z"}]}
{"id":"lettatoolsselector-l0vfa","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:33.703961242Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:33.703961242Z","comments":[{"id":1917,"issue_id":"lettatoolsselector-l0vfa","author":"root","text":"Synced from Beads: lettatoolsselector-m2l1\n\n---\nHuly Issue: LTSEL-414","created_at":"2026-01-02T03:28:33Z"}]}
{"id":"lettatoolsselector-l1il","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:01:35.302580762Z","updated_at":"2025-12-30T04:11:37.62538485Z","comments":[{"id":824,"issue_id":"lettatoolsselector-l1il","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:01:35Z"}]}
{"id":"lettatoolsselector-l39zt","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:29.924548705Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:29.924548705Z","comments":[{"id":2276,"issue_id":"lettatoolsselector-l39zt","author":"root","text":"Synced from Huly: LTSEL-386","created_at":"2026-01-02T03:45:30Z"}]}
{"id":"lettatoolsselector-lan","title":"[Refactor] Phase 4: Extract service layer - AgentService","description":"Extract Letta agent communication into a dedicated AgentService.\n\n## Depends On\n- lettatoolsselector-869 (Phase 1: Extract models)\n\n## Functions to Extract\n\n### AgentService (`services/agent_service.py`)\n\nMove these from api_server.py:\n\n| Function | Lines | Responsibility |\n|----------|-------|----------------|\n| `fetch_agent_info()` | 828-847 | Get agent name/details |\n| `fetch_agent_tools()` | 849-867 | Get agent's current tools |\n| `register_tool()` | 869-896 | Register tool with Letta |\n| `_send_trigger_message()` | 898-974 | Send trigger message to agent |\n| `trigger_agent_loop()` | 1037-1081 | Spawn background trigger |\n| `_emit_matrix_bridge_webhook()` | 976-1035 | Notify Matrix bridge |\n\n### Interface\n```python\nclass AgentService:\n    def __init__(self, letta_client, webhook_url: Optional[str] = None):\n        self.letta = letta_client\n        self.webhook_url = webhook_url\n    \n    async def get_agent_info(self, agent_id: str) -\u003e AgentInfo:\n        ...\n    \n    async def get_agent_tools(self, agent_id: str) -\u003e AgentToolSet:\n        ...\n    \n    async def register_tool(self, tool_name: str, server_name: str) -\u003e Tool:\n        ...\n    \n    async def trigger_loop(\n        self,\n        agent_id: str,\n        attached_tools: List[Tool],\n        query: Optional[str] = None\n    ) -\u003e TriggerResult:\n        ...\n    \n    async def notify_webhook(\n        self,\n        agent_id: str,\n        run_id: str,\n        tools: List[str],\n        query: str\n    ) -\u003e bool:\n        ...\n```\n\n### Consolidate with letta_sdk_client.py\nConsider merging functionality from `letta_sdk_client.py` into AgentService or having AgentService use it as underlying client.\n\n## Acceptance Criteria\n- [ ] AgentService class created\n- [ ] All agent communication functions moved\n- [ ] Webhook notification integrated\n- [ ] api_server.py uses AgentService\n- [ ] Unit tests with mocked Letta API\n- [ ] Integration tests still pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:37:54.612565801Z","updated_at":"2025-12-29T19:02:08.719539925Z","closed_at":"2025-12-29T19:02:08.719539925Z","close_reason":"AgentService extracted to agent_service.py (384 lines)"}
{"id":"lettatoolsselector-lcs8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:26:11.494307985Z","updated_at":"2025-12-30T02:01:17.726002914Z","comments":[{"id":1038,"issue_id":"lettatoolsselector-lcs8","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:26:11Z"}]}
{"id":"lettatoolsselector-ldb6h","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:55.515050826Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:55.515050826Z","comments":[{"id":1964,"issue_id":"lettatoolsselector-ldb6h","author":"root","text":"Synced from Beads: lettatoolsselector-t9zb\n\n---\nHuly Issue: LTSEL-354","created_at":"2026-01-02T03:28:55Z"}]}
{"id":"lettatoolsselector-ldlyn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:26.071185096Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:26.071185096Z","comments":[{"id":1899,"issue_id":"lettatoolsselector-ldlyn","author":"root","text":"Synced from Beads: lettatoolsselector-2e52\n\n---\nHuly Issue: LTSEL-438","created_at":"2026-01-02T03:28:26Z"}]}
{"id":"lettatoolsselector-ljk73","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:01.650457492Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:01.650457492Z","comments":[{"id":1977,"issue_id":"lettatoolsselector-ljk73","author":"root","text":"Synced from Beads: lettatoolsselector-4j1q\n\n---\nHuly Issue: LTSEL-339","created_at":"2026-01-02T03:29:01Z"}]}
{"id":"lettatoolsselector-lm5m","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:57.481161309Z","updated_at":"2025-12-30T01:55:58.159398632Z","comments":[{"id":1002,"issue_id":"lettatoolsselector-lm5m","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:19:57Z"}]}
{"id":"lettatoolsselector-lmb1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:43.493335169Z","updated_at":"2025-12-30T01:57:06.263547251Z","comments":[{"id":1013,"issue_id":"lettatoolsselector-lmb1","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:21:43Z"}]}
{"id":"lettatoolsselector-losm","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:23:32.65241724Z","updated_at":"2025-12-30T01:58:54.420259268Z","comments":[{"id":1025,"issue_id":"lettatoolsselector-losm","author":"root","text":"Synced from Beads: lettatoolsselector-cgd\n\n---\nHuly Issue: LTSEL-73","created_at":"2025-12-29T21:23:33Z"}]}
{"id":"lettatoolsselector-lxju7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:18.048067854Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:18.048067854Z","comments":[{"id":1881,"issue_id":"lettatoolsselector-lxju7","author":"root","text":"Synced from Beads: lettatoolsselector-j2xl\n\n---\nHuly Issue: LTSEL-466","created_at":"2026-01-02T03:28:18Z"}]}
{"id":"lettatoolsselector-m2l1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:56.455981709Z","updated_at":"2025-12-30T04:14:22.534989562Z","comments":[{"id":910,"issue_id":"lettatoolsselector-m2l1","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:09:56Z"}]}
{"id":"lettatoolsselector-mgp4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:57.648534333Z","updated_at":"2025-12-30T04:12:19.126913555Z","comments":[{"id":1023,"issue_id":"lettatoolsselector-mgp4","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:22:58Z"}]}
{"id":"lettatoolsselector-miv6","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:51.691960157Z","updated_at":"2025-12-30T01:50:27.484091039Z","comments":[{"id":966,"issue_id":"lettatoolsselector-miv6","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-66","created_at":"2025-12-29T21:15:52Z"}]}
{"id":"lettatoolsselector-mpv71","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:38.435495049Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:38.435495049Z","comments":[{"id":2055,"issue_id":"lettatoolsselector-mpv71","author":"root","text":"Synced from Beads: lettatoolsselector-s4cy\n\n---\nHuly Issue: LTSEL-260","created_at":"2026-01-02T03:29:38Z"}]}
{"id":"lettatoolsselector-mrm7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:58.629257299Z","updated_at":"2025-12-30T01:58:47.246360305Z","comments":[{"id":1024,"issue_id":"lettatoolsselector-mrm7","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:22:58Z"}]}
{"id":"lettatoolsselector-mrphw","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:59.250574023Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:59.250574023Z","comments":[{"id":2259,"issue_id":"lettatoolsselector-mrphw","author":"root","text":"Synced from Beads: lettatoolsselector-jjzr\n\n---\nHuly Issue: LTSEL-449","created_at":"2026-01-02T03:44:59Z"}]}
{"id":"lettatoolsselector-mv3b","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:31.626321156Z","updated_at":"2025-12-30T04:14:16.248245568Z","comments":[{"id":883,"issue_id":"lettatoolsselector-mv3b","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:07:32Z"}]}
{"id":"lettatoolsselector-n1p2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:02.733487555Z","updated_at":"2025-12-30T04:14:09.874966825Z","comments":[{"id":851,"issue_id":"lettatoolsselector-n1p2","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-113","created_at":"2025-12-29T21:04:03Z"}]}
{"id":"lettatoolsselector-n3u7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:27.857116087Z","updated_at":"2025-12-31T05:19:11.357532611Z","comments":[{"id":880,"issue_id":"lettatoolsselector-n3u7","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-96","created_at":"2025-12-29T21:07:28Z"}]}
{"id":"lettatoolsselector-n529x","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:09.581009463Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:09.581009463Z","comments":[{"id":2269,"issue_id":"lettatoolsselector-n529x","author":"root","text":"Synced from Beads: lettatoolsselector-a43a\n\n---\nHuly Issue: LTSEL-413","created_at":"2026-01-02T03:45:10Z"}]}
{"id":"lettatoolsselector-n5ibz","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:13.234680795Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:13.234680795Z","comments":[{"id":2271,"issue_id":"lettatoolsselector-n5ibz","author":"root","text":"Synced from Beads: lettatoolsselector-2pg7\n\n---\nHuly Issue: LTSEL-403","created_at":"2026-01-02T03:45:13Z"}]}
{"id":"lettatoolsselector-n5to4","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:43.669568737Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:43.669568737Z","comments":[{"id":2246,"issue_id":"lettatoolsselector-n5to4","author":"root","text":"Synced from Beads: lettatoolsselector-4me3\n\n---\nHuly Issue: LTSEL-528","created_at":"2026-01-02T03:44:43Z"}]}
{"id":"lettatoolsselector-n9t66","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:43.101093493Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:43.101093493Z","comments":[{"id":1937,"issue_id":"lettatoolsselector-n9t66","author":"root","text":"Synced from Beads: lettatoolsselector-k4e5\n\n---\nHuly Issue: LTSEL-388","created_at":"2026-01-02T03:28:43Z"}]}
{"id":"lettatoolsselector-nav","title":"[Refactor] Phase 2: Extract service layer - ToolManager","description":"Extract tool management logic into a dedicated ToolManager service.\n\n## Status: In Progress\n- [x] Phase 1 complete: models.py created\n- [x] attach_tool, detach_tool, process_tools moved to tool_manager.py\n- [x] api_server.py delegates to tool_manager\n- [ ] _perform_tool_pruning extraction (see sub-issues)\n\n## Sub-Issues (Remaining Work)\n1. **lettatoolsselector-pmp**: Extract fetch_agent_tools to tool_manager\n2. **lettatoolsselector-9yr**: Extract config module for tool limits\n3. **lettatoolsselector-a6c**: Add search_tools callback to tool_manager\n4. **lettatoolsselector-c05**: Extract _perform_tool_pruning to tool_manager\n\n## Completed Functions\n\n| Function | Status | Location |\n|----------|--------|----------|\n| `attach_tool()` | Done | tool_manager.py |\n| `detach_tool()` | Done | tool_manager.py |\n| `process_tools()` | Done | tool_manager.py |\n| `is_letta_core_tool()` | Done | models.py |\n| `_perform_tool_pruning()` | Pending | See lettatoolsselector-c05 |\n| `process_matching_tool()` | Pending | Needs analysis |\n\n## Acceptance Criteria\n- [x] ToolManager module created (tool_manager.py)\n- [x] Core tool operations moved (attach/detach/process)\n- [x] api_server.py uses tool_manager\n- [x] Unit tests updated for tool_manager.configure()\n- [ ] _perform_tool_pruning moved\n- [ ] All 296+ unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:37:24.489690949Z","updated_at":"2025-12-29T19:02:06.853530882Z","closed_at":"2025-12-29T19:02:06.853530882Z","close_reason":"ToolManager extracted to tool_manager.py (727 lines)"}
{"id":"lettatoolsselector-nd814","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:05.989883732Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:05.989883732Z","comments":[{"id":1853,"issue_id":"lettatoolsselector-nd814","author":"root","text":"Synced from Beads: lettatoolsselector-kjgm\n\n---\nHuly Issue: LTSEL-497","created_at":"2026-01-02T03:28:06Z"}]}
{"id":"lettatoolsselector-nhbpi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:17.185574477Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:17.185574477Z","comments":[{"id":2008,"issue_id":"lettatoolsselector-nhbpi","author":"root","text":"Synced from Beads: lettatoolsselector-us43\n\n---\nHuly Issue: LTSEL-307","created_at":"2026-01-02T03:29:17Z"}]}
{"id":"lettatoolsselector-nhva8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:04.724306629Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:04.724306629Z","comments":[{"id":1984,"issue_id":"lettatoolsselector-nhva8","author":"root","text":"Synced from Beads: lettatoolsselector-o0m1\n\n---\nHuly Issue: LTSEL-332","created_at":"2026-01-02T03:29:04Z"}]}
{"id":"lettatoolsselector-nive","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:52.674964559Z","updated_at":"2025-12-30T04:14:17.084163159Z","comments":[{"id":887,"issue_id":"lettatoolsselector-nive","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:07:53Z"}]}
{"id":"lettatoolsselector-no2xk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:21.648962821Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:21.648962821Z","comments":[{"id":2017,"issue_id":"lettatoolsselector-no2xk","author":"root","text":"Synced from Beads: lettatoolsselector-13zz\n\n---\nHuly Issue: LTSEL-298","created_at":"2026-01-02T03:29:21Z"}]}
{"id":"lettatoolsselector-noj00","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:33.308106732Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:33.308106732Z","comments":[{"id":1916,"issue_id":"lettatoolsselector-noj00","author":"root","text":"Synced from Beads: lettatoolsselector-repf\n\n---\nHuly Issue: LTSEL-415","created_at":"2026-01-02T03:28:33Z"}]}
{"id":"lettatoolsselector-nwgls","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:23.051230476Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:23.051230476Z","comments":[{"id":2020,"issue_id":"lettatoolsselector-nwgls","author":"root","text":"Synced from Beads: lettatoolsselector-4xui\n\n---\nHuly Issue: LTSEL-295","created_at":"2026-01-02T03:29:23Z"}]}
{"id":"lettatoolsselector-nwlv","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:18.449231827Z","updated_at":"2025-12-30T02:08:54.921774687Z","comments":[{"id":931,"issue_id":"lettatoolsselector-nwlv","author":"root","text":"Synced from Beads: lettatoolsselector-nlt\n\n---\nHuly Issue: LTSEL-34","created_at":"2025-12-29T21:12:18Z"}]}
{"id":"lettatoolsselector-nxzqx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:11.546915099Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:11.546915099Z","comments":[{"id":1866,"issue_id":"lettatoolsselector-nxzqx","author":"root","text":"Synced from Beads: lettatoolsselector-w2d2\n\n---\nHuly Issue: LTSEL-484","created_at":"2026-01-02T03:28:11Z"}]}
{"id":"lettatoolsselector-nzb7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:30:13.325661266Z","updated_at":"2025-12-30T02:04:35.650451732Z","comments":[{"id":1053,"issue_id":"lettatoolsselector-nzb7","author":"root","text":"Synced from Beads: lettatoolsselector-mhi\n\n---\nHuly Issue: LTSEL-61","created_at":"2025-12-29T21:30:13Z"}]}
{"id":"lettatoolsselector-o0m1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:35.439934369Z","updated_at":"2025-12-30T01:55:03.447952112Z","comments":[{"id":998,"issue_id":"lettatoolsselector-o0m1","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:19:35Z"}]}
{"id":"lettatoolsselector-o0t6q","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:52.596410105Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:52.596410105Z","comments":[{"id":1958,"issue_id":"lettatoolsselector-o0t6q","author":"root","text":"Synced from Beads: lettatoolsselector-74bt\n\n---\nHuly Issue: LTSEL-362","created_at":"2026-01-02T03:28:52Z"}]}
{"id":"lettatoolsselector-o2wcn","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:38.238263103Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:38.238263103Z","comments":[{"id":2243,"issue_id":"lettatoolsselector-o2wcn","author":"root","text":"Synced from Beads: lettatoolsselector-rwx7\n\n---\nHuly Issue: LTSEL-535","created_at":"2026-01-02T03:44:38Z"}]}
{"id":"lettatoolsselector-oiq0s","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:38.846651944Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:38.846651944Z","comments":[{"id":2056,"issue_id":"lettatoolsselector-oiq0s","author":"root","text":"Synced from Beads: lettatoolsselector-xhvq\n\n---\nHuly Issue: LTSEL-259","created_at":"2026-01-02T03:29:39Z"}]}
{"id":"lettatoolsselector-ojx5z","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:40.947281137Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:40.947281137Z","comments":[{"id":2245,"issue_id":"lettatoolsselector-ojx5z","author":"root","text":"Synced from Beads: lettatoolsselector-x8xu\n\n---\nHuly Issue: LTSEL-531","created_at":"2026-01-02T03:44:41Z"}]}
{"id":"lettatoolsselector-ol7u","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:30.622951167Z","updated_at":"2025-12-30T04:11:53.563538507Z","comments":[{"id":882,"issue_id":"lettatoolsselector-ol7u","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:07:31Z"}]}
{"id":"lettatoolsselector-oloml","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:28.819364995Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:28.819364995Z","comments":[{"id":2033,"issue_id":"lettatoolsselector-oloml","author":"root","text":"Synced from Beads: lettatoolsselector-nzb7\n\n---\nHuly Issue: LTSEL-282","created_at":"2026-01-02T03:29:29Z"}]}
{"id":"lettatoolsselector-oltsq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:19.700219245Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:19.700219245Z","comments":[{"id":2013,"issue_id":"lettatoolsselector-oltsq","author":"root","text":"Synced from Beads: lettatoolsselector-c2jv\n\n---\nHuly Issue: LTSEL-302","created_at":"2026-01-02T03:29:19Z"}]}
{"id":"lettatoolsselector-one2a","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:49.387752822Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:49.387752822Z","comments":[{"id":1951,"issue_id":"lettatoolsselector-one2a","author":"root","text":"Synced from Beads: lettatoolsselector-1jsz\n\n---\nHuly Issue: LTSEL-370","created_at":"2026-01-02T03:28:49Z"}]}
{"id":"lettatoolsselector-op3q","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:04.460978383Z","updated_at":"2025-12-30T04:11:55.726448556Z","comments":[{"id":858,"issue_id":"lettatoolsselector-op3q","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-100","created_at":"2025-12-29T21:05:04Z"}]}
{"id":"lettatoolsselector-ovaqo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:29.677028092Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:29.677028092Z","comments":[{"id":2035,"issue_id":"lettatoolsselector-ovaqo","author":"root","text":"Synced from Beads: lettatoolsselector-tdnw\n\n---\nHuly Issue: LTSEL-280","created_at":"2026-01-02T03:29:29Z"}]}
{"id":"lettatoolsselector-ow8ai","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:09.325726307Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:09.325726307Z","comments":[{"id":1861,"issue_id":"lettatoolsselector-ow8ai","author":"root","text":"Synced from Beads: lettatoolsselector-dm1b\n\n---\nHuly Issue: LTSEL-489","created_at":"2026-01-02T03:28:09Z"}]}
{"id":"lettatoolsselector-oztef","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:54.175261279Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:54.175261279Z","comments":[{"id":2222,"issue_id":"lettatoolsselector-oztef","author":"root","text":"Synced from Huly: LTSEL-608","created_at":"2026-01-02T03:43:54Z"}]}
{"id":"lettatoolsselector-p1cp","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:30:12.595986934Z","updated_at":"2025-12-30T02:03:57.965280435Z","comments":[{"id":1052,"issue_id":"lettatoolsselector-p1cp","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-58","created_at":"2025-12-29T21:30:12Z"}]}
{"id":"lettatoolsselector-p29d","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:56.135688129Z","updated_at":"2025-12-30T01:52:34.139446431Z","comments":[{"id":980,"issue_id":"lettatoolsselector-p29d","author":"root","text":"Synced from Beads: lettatoolsselector-0qv\n\n---\nHuly Issue: LTSEL-93","created_at":"2025-12-29T21:16:56Z"}]}
{"id":"lettatoolsselector-p2ek","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:24:51.121015951Z","updated_at":"2025-12-30T01:59:32.43594446Z","comments":[{"id":1029,"issue_id":"lettatoolsselector-p2ek","author":"root","text":"Synced from Beads: lettatoolsselector-4dj\n\n---\nHuly Issue: LTSEL-68","created_at":"2025-12-29T21:24:51Z"}]}
{"id":"lettatoolsselector-p4x2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:05.317800769Z","updated_at":"2025-12-30T04:14:11.282175276Z","comments":[{"id":859,"issue_id":"lettatoolsselector-p4x2","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-104","created_at":"2025-12-29T21:05:05Z"}]}
{"id":"lettatoolsselector-p58nx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:37.050862041Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:37.050862041Z","comments":[{"id":2052,"issue_id":"lettatoolsselector-p58nx","author":"root","text":"Synced from Beads: lettatoolsselector-rdyd\n\n---\nHuly Issue: LTSEL-263","created_at":"2026-01-02T03:29:37Z"}]}
{"id":"lettatoolsselector-p5gw0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:57.503897778Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:57.503897778Z","comments":[{"id":1968,"issue_id":"lettatoolsselector-p5gw0","author":"root","text":"Synced from Beads: lettatoolsselector-0vsp\n\n---\nHuly Issue: LTSEL-349","created_at":"2026-01-02T03:28:57Z"}]}
{"id":"lettatoolsselector-p6tg5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:12.257898095Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:12.257898095Z","comments":[{"id":1999,"issue_id":"lettatoolsselector-p6tg5","author":"root","text":"Synced from Beads: lettatoolsselector-06do\n\n---\nHuly Issue: LTSEL-316","created_at":"2026-01-02T03:29:12Z"}]}
{"id":"lettatoolsselector-p8i69","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:39.291239596Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:39.291239596Z","comments":[{"id":2244,"issue_id":"lettatoolsselector-p8i69","author":"root","text":"Synced from Beads: lettatoolsselector-koep\n\n---\nHuly Issue: LTSEL-534","created_at":"2026-01-02T03:44:39Z"}]}
{"id":"lettatoolsselector-p8zr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:34.916774725Z","updated_at":"2025-12-30T04:12:13.215072434Z","comments":[{"id":991,"issue_id":"lettatoolsselector-p8zr","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:18:35Z"}]}
{"id":"lettatoolsselector-pb9br","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:14.5468417Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:14.5468417Z","comments":[{"id":1873,"issue_id":"lettatoolsselector-pb9br","author":"root","text":"Synced from Beads: lettatoolsselector-9irc\n\n---\nHuly Issue: LTSEL-477","created_at":"2026-01-02T03:28:14Z"}]}
{"id":"lettatoolsselector-pbos5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:23.954432644Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:23.954432644Z","comments":[{"id":2022,"issue_id":"lettatoolsselector-pbos5","author":"root","text":"Synced from Beads: lettatoolsselector-w4kg\n\n---\nHuly Issue: LTSEL-293","created_at":"2026-01-02T03:29:24Z"}]}
{"id":"lettatoolsselector-pbw66","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:24.860415484Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:24.860415484Z","comments":[{"id":2024,"issue_id":"lettatoolsselector-pbw66","author":"root","text":"Synced from Beads: lettatoolsselector-qsb0\n\n---\nHuly Issue: LTSEL-291","created_at":"2026-01-02T03:29:25Z"}]}
{"id":"lettatoolsselector-pc3i","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:37:03.851859594Z","updated_at":"2025-12-30T02:40:56.444955889Z","comments":[{"id":1075,"issue_id":"lettatoolsselector-pc3i","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-58","created_at":"2025-12-29T21:37:04Z"}]}
{"id":"lettatoolsselector-pc890","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:35.954374836Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:35.954374836Z","comments":[{"id":1922,"issue_id":"lettatoolsselector-pc890","author":"root","text":"Synced from Beads: lettatoolsselector-v3w4\n\n---\nHuly Issue: LTSEL-407","created_at":"2026-01-02T03:28:36Z"}]}
{"id":"lettatoolsselector-pf2qo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:05.506272671Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:05.506272671Z","comments":[{"id":1852,"issue_id":"lettatoolsselector-pf2qo","author":"root","text":"Synced from Beads: lettatoolsselector-p978\n\n---\nHuly Issue: LTSEL-498","created_at":"2026-01-02T03:28:05Z"}]}
{"id":"lettatoolsselector-phds","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:58.279508185Z","updated_at":"2025-12-30T04:14:24.168726772Z","comments":[{"id":916,"issue_id":"lettatoolsselector-phds","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-65","created_at":"2025-12-29T21:10:58Z"}]}
{"id":"lettatoolsselector-pih","title":"[Perf] Eliminate redundant agent tools fetch in attach endpoint","description":"## Problem\nThe `/attach` endpoint calls `fetch_agent_tools()` twice - once at start, and again after pre-attach pruning.\n\n**Location:** `routes/tools.py:371-374, 527-543`\n\n```python\n# Line 371-374 - First fetch\nagent_name, current_agent_tools = await asyncio.gather(\n    _agent_service.fetch_agent_info(agent_id),\n    _tool_manager.fetch_agent_tools(agent_id)\n)\n\n# Line 528 - Redundant re-fetch after pruning\ncurrent_agent_tools = await _tool_manager.fetch_agent_tools(agent_id)\n```\n\n## Impact\n- **Latency:** 100-300ms wasted per attach request (extra Letta API call)\n- **Priority:** HIGH - common operation\n\n## Solution\nModify `perform_tool_pruning()` to return the updated tools list instead of requiring a re-fetch:\n\n```python\n# In tool_manager.py\nasync def perform_tool_pruning(...) -\u003e dict:\n    # ... pruning logic ...\n    return {\n        'success': True,\n        'details': {...},\n        'remaining_tools': remaining_tools  # Add this\n    }\n\n# In routes/tools.py\nprune_result = await _tool_manager.perform_tool_pruning(...)\nif prune_result.get('success'):\n    current_agent_tools = prune_result.get('remaining_tools', [])\n```\n\n## Acceptance Criteria\n- [ ] `perform_tool_pruning()` returns remaining tools\n- [ ] Attach endpoint uses returned tools instead of re-fetching\n- [ ] Only one `fetch_agent_tools()` call per attach request\n- [ ] All unit tests pass","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:49:30.385615524Z","updated_at":"2025-12-29T15:34:13.386981036Z","closed_at":"2025-12-29T15:34:13.386981036Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-pmp","title":"[Refactor] Extract fetch_agent_tools to tool_manager","description":"## Summary\nExtract `fetch_agent_tools` function to `tool_manager.py` to support `_perform_tool_pruning` extraction.\n\n## Current Location\n- `api_server.py:612-630`\n\n## Dependencies\n- Uses `USE_LETTA_SDK`, `get_letta_sdk_client()`, `http_session`, `LETTA_URL`, `HEADERS`\n- All these are already configured via `tool_manager.configure()`\n\n## Implementation\n1. Add `fetch_agent_tools()` to `tool_manager.py`\n2. Update `api_server.py` to delegate to `tool_manager.fetch_agent_tools()`\n3. Add unit tests\n\n## Acceptance Criteria\n- [ ] Function moved to tool_manager.py\n- [ ] api_server.py delegates to tool_manager\n- [ ] Unit tests pass\n- [ ] Integration tests pass\n\n## Parent Issue\nlettatoolsselector-nav","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T20:51:39.444968342Z","updated_at":"2025-12-29T19:03:27.4731106Z","closed_at":"2025-12-29T19:03:27.4731106Z","close_reason":"Already extracted: fetch_agent_tools in tool_manager.py:93"}
{"id":"lettatoolsselector-pn14","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:20:34.887052483Z","updated_at":"2025-12-30T01:56:29.168788389Z","comments":[{"id":1007,"issue_id":"lettatoolsselector-pn14","author":"root","text":"Synced from Beads: lettatoolsselector-oij\n\n---\nHuly Issue: LTSEL-86","created_at":"2025-12-29T21:20:35Z"}]}
{"id":"lettatoolsselector-pnew","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:06.274867564Z","updated_at":"2025-12-30T04:14:11.551879705Z","comments":[{"id":860,"issue_id":"lettatoolsselector-pnew","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:05:06Z"}]}
{"id":"lettatoolsselector-poeg7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:22.042785284Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:22.042785284Z","comments":[{"id":2124,"issue_id":"lettatoolsselector-poeg7","author":"root","text":"Synced from Beads: lettatoolsselector-7q4\n\n---\nHuly Issue: LTSEL-216","created_at":"2026-01-02T03:31:22Z"}]}
{"id":"lettatoolsselector-poyh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:36.928923476Z","updated_at":"2025-12-30T04:14:05.758153761Z","comments":[{"id":834,"issue_id":"lettatoolsselector-poyh","author":"root","text":"Synced from Beads: lettatoolsselector-h52\n\n---\nHuly Issue: LTSEL-118","created_at":"2025-12-29T21:02:37Z"}]}
{"id":"lettatoolsselector-puea","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:36:10.927615506Z","updated_at":"2025-12-30T02:40:34.282561525Z","comments":[{"id":1073,"issue_id":"lettatoolsselector-puea","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:36:11Z"}]}
{"id":"lettatoolsselector-puew","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:45.256139426Z","updated_at":"2025-12-30T04:14:15.188672657Z","comments":[{"id":877,"issue_id":"lettatoolsselector-puew","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:06:45Z"}]}
{"id":"lettatoolsselector-q3fn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:19.558465214Z","updated_at":"2025-12-30T01:49:15.46844935Z","comments":[{"id":962,"issue_id":"lettatoolsselector-q3fn","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:15:19Z"}]}
{"id":"lettatoolsselector-q49o1","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:45.666223426Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:45.666223426Z","comments":[{"id":2249,"issue_id":"lettatoolsselector-q49o1","author":"root","text":"Synced from Beads: lettatoolsselector-f8b8\n\n---\nHuly Issue: LTSEL-506","created_at":"2026-01-02T03:44:45Z"}]}
{"id":"lettatoolsselector-q4m32","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:08.481707762Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:08.481707762Z","comments":[{"id":1859,"issue_id":"lettatoolsselector-q4m32","author":"root","text":"Synced from Beads: lettatoolsselector-7it2\n\n---\nHuly Issue: LTSEL-491","created_at":"2026-01-02T03:28:08Z"}]}
{"id":"lettatoolsselector-q5fv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:49.442533989Z","updated_at":"2025-12-30T04:14:19.291885418Z","comments":[{"id":896,"issue_id":"lettatoolsselector-q5fv","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:08:49Z"}]}
{"id":"lettatoolsselector-q5m6q","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:15.383890633Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:15.383890633Z","comments":[{"id":1875,"issue_id":"lettatoolsselector-q5m6q","author":"root","text":"Synced from Beads: lettatoolsselector-gy2y\n\n---\nHuly Issue: LTSEL-474","created_at":"2026-01-02T03:28:15Z"}]}
{"id":"lettatoolsselector-qabzf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:18.503201683Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:18.503201683Z","comments":[{"id":1882,"issue_id":"lettatoolsselector-qabzf","author":"root","text":"Synced from Beads: lettatoolsselector-hcns\n\n---\nHuly Issue: LTSEL-465","created_at":"2026-01-02T03:28:18Z"}]}
{"id":"lettatoolsselector-qaxh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:50.579306889Z","updated_at":"2025-12-30T02:08:34.030105789Z","comments":[{"id":929,"issue_id":"lettatoolsselector-qaxh","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-97","created_at":"2025-12-29T21:11:51Z"}]}
{"id":"lettatoolsselector-qbgt","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:49.28185399Z","updated_at":"2025-12-30T02:08:24.651403652Z","comments":[{"id":928,"issue_id":"lettatoolsselector-qbgt","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-91","created_at":"2025-12-29T21:11:49Z"}]}
{"id":"lettatoolsselector-qbpz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:06.963559947Z","updated_at":"2025-12-30T04:11:48.672193724Z","comments":[{"id":827,"issue_id":"lettatoolsselector-qbpz","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:02:07Z"}]}
{"id":"lettatoolsselector-qg4f4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:24.413172503Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:24.413172503Z","comments":[{"id":2023,"issue_id":"lettatoolsselector-qg4f4","author":"root","text":"Synced from Beads: lettatoolsselector-f5yg\n\n---\nHuly Issue: LTSEL-292","created_at":"2026-01-02T03:29:24Z"}]}
{"id":"lettatoolsselector-qgcsv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:49.894509929Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:49.894509929Z","comments":[{"id":1952,"issue_id":"lettatoolsselector-qgcsv","author":"root","text":"Synced from Beads: lettatoolsselector-dam0\n\n---\nHuly Issue: LTSEL-369","created_at":"2026-01-02T03:28:50Z"}]}
{"id":"lettatoolsselector-qgt","title":"[Refactor] Master: api_server.py modularization roadmap","description":"Master tracking issue for refactoring api_server.py from a 9,027 line monolith to a modular architecture.\n\n## Current State\n- **api_server.py**: 9,027 lines\n- **Routes**: 101 endpoints in one file\n- **Test coverage**: 8.8% on api_server.py\n- **Modularity**: Poor - most logic in one file\n\n## Target State\n- **api_server.py**: \u003c200 lines (app setup only)\n- **Routes**: Split into 8 blueprints\n- **Services**: 4 extracted service classes\n- **Models**: Dedicated model files\n- **Test coverage**: 70%+ on critical paths\n\n## Phases\n\n| Phase | Issue | Description | Priority |\n|-------|-------|-------------|----------|\n| 0 | lettatoolsselector-642 | Test coverage for critical paths | P1 |\n| 1 | lettatoolsselector-869 | Extract data models and types | P2 |\n| 2 | lettatoolsselector-nav | Extract ToolManager service | P2 |\n| 3 | lettatoolsselector-4w9 | Extract SearchService | P2 |\n| 4 | lettatoolsselector-lan | Extract AgentService | P2 |\n| 5 | lettatoolsselector-sbw | Extract route blueprints | P2 |\n| 6 | lettatoolsselector-ier | Dependency injection \u0026 app factory | P2 |\n\n## Dependency Graph\n```\nPhase 0 (Tests)\n    \n    \nPhase 1 (Models)\n    \n    \n                        \nPhase 2    Phase 3    Phase 4\n(Tools)    (Search)   (Agent)\n                        \n    \n               \n               \n          Phase 5 (Routes)\n               \n               \n          Phase 6 (DI/Factory)\n```\n\n## Success Metrics\n- [ ] api_server.py \u003c 500 lines\n- [ ] Critical path test coverage \u003e 80%\n- [ ] All existing tests pass\n- [ ] No API contract changes\n- [ ] Services are independently testable\n- [ ] New features easier to add\n\n## Notes\n- Each phase should be a separate PR\n- Run full test suite after each phase\n- Keep API contracts unchanged throughout\n- Document any breaking changes","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-28T19:38:55.088312878Z","updated_at":"2025-12-29T19:11:20.606173254Z","closed_at":"2025-12-29T19:11:20.606173254Z","close_reason":"Refactor complete: api_server.py modularized - services extracted, 14 blueprints, app_factory pattern"}
{"id":"lettatoolsselector-qi8w2","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:20.46562618Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:20.46562618Z","comments":[{"id":2234,"issue_id":"lettatoolsselector-qi8w2","author":"root","text":"Synced from Beads: lettatoolsselector-vnck\n\n---\nHuly Issue: LTSEL-558","created_at":"2026-01-02T03:44:20Z"}]}
{"id":"lettatoolsselector-qquy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:04.902911771Z","updated_at":"2025-12-30T01:53:51.959501378Z","comments":[{"id":986,"issue_id":"lettatoolsselector-qquy","author":"root","text":"Synced from Beads: lettatoolsselector-563\n\n---\nHuly Issue: LTSEL-79","created_at":"2025-12-29T21:18:05Z"}]}
{"id":"lettatoolsselector-qsb0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:10.795315212Z","updated_at":"2025-12-30T02:02:27.800980852Z","comments":[{"id":1044,"issue_id":"lettatoolsselector-qsb0","author":"root","text":"Synced from Beads: lettatoolsselector-1kj\n\n---\nHuly Issue: LTSEL-76","created_at":"2025-12-29T21:28:11Z"}]}
{"id":"lettatoolsselector-qtyk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:30.305035163Z","updated_at":"2025-12-30T01:57:46.203403968Z","comments":[{"id":1019,"issue_id":"lettatoolsselector-qtyk","author":"root","text":"Synced from Beads: lettatoolsselector-ct9\n\n---\nHuly Issue: LTSEL-75","created_at":"2025-12-29T21:22:30Z"}]}
{"id":"lettatoolsselector-qvkrq","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:06.307571273Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:06.307571273Z","comments":[{"id":2265,"issue_id":"lettatoolsselector-qvkrq","author":"root","text":"Synced from Beads: lettatoolsselector-2lnf\n\n---\nHuly Issue: LTSEL-427","created_at":"2026-01-02T03:45:06Z"}]}
{"id":"lettatoolsselector-qygih","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:03.096837774Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:03.096837774Z","comments":[{"id":2262,"issue_id":"lettatoolsselector-qygih","author":"root","text":"Synced from Beads: lettatoolsselector-g70n\n\n---\nHuly Issue: LTSEL-444","created_at":"2026-01-02T03:45:03Z"}]}
{"id":"lettatoolsselector-r0hk3","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:06.776367275Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:06.776367275Z","comments":[{"id":1988,"issue_id":"lettatoolsselector-r0hk3","author":"root","text":"Synced from Beads: lettatoolsselector-lm5m\n\n---\nHuly Issue: LTSEL-328","created_at":"2026-01-02T03:29:07Z"}]}
{"id":"lettatoolsselector-r0m2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:10.508380171Z","updated_at":"2025-12-30T01:56:35.896466232Z","comments":[{"id":1009,"issue_id":"lettatoolsselector-r0m2","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:21:10Z"}]}
{"id":"lettatoolsselector-r19cd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:48.557546449Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:48.557546449Z","comments":[{"id":1949,"issue_id":"lettatoolsselector-r19cd","author":"root","text":"Synced from Beads: lettatoolsselector-0x87\n\n---\nHuly Issue: LTSEL-372","created_at":"2026-01-02T03:28:48Z"}]}
{"id":"lettatoolsselector-r264x","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:23.823663655Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:23.823663655Z","comments":[{"id":1894,"issue_id":"lettatoolsselector-r264x","author":"root","text":"Synced from Beads: lettatoolsselector-xy18\n\n---\nHuly Issue: LTSEL-445","created_at":"2026-01-02T03:28:24Z"}]}
{"id":"lettatoolsselector-r4kz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:01.520355902Z","updated_at":"2025-12-30T02:06:18.566653086Z","comments":[{"id":919,"issue_id":"lettatoolsselector-r4kz","author":"root","text":"Synced from Beads: lettatoolsselector-mnp\n\n---\nHuly Issue: LTSEL-99","created_at":"2025-12-29T21:11:01Z"}]}
{"id":"lettatoolsselector-r4qy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:22.201428124Z","updated_at":"2025-12-30T04:14:18.168937746Z","comments":[{"id":891,"issue_id":"lettatoolsselector-r4qy","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:08:22Z"}]}
{"id":"lettatoolsselector-r92kz","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:38.010719865Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:38.010719865Z","comments":[{"id":2054,"issue_id":"lettatoolsselector-r92kz","author":"root","text":"Synced from Beads: lettatoolsselector-au4n\n\n---\nHuly Issue: LTSEL-261","created_at":"2026-01-02T03:29:38Z"}]}
{"id":"lettatoolsselector-rbazs","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:31.154216796Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:31.154216796Z","comments":[{"id":2278,"issue_id":"lettatoolsselector-rbazs","author":"root","text":"Synced from Huly: LTSEL-373","created_at":"2026-01-02T03:45:31Z"}]}
{"id":"lettatoolsselector-rdyd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:36:37.189381384Z","updated_at":"2025-12-30T02:40:44.906212211Z","comments":[{"id":1074,"issue_id":"lettatoolsselector-rdyd","author":"root","text":"Synced from Beads: lettatoolsselector-57s\n\n---\nHuly Issue: LTSEL-59","created_at":"2025-12-29T21:36:37Z"}]}
{"id":"lettatoolsselector-re1i","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:03.124090168Z","updated_at":"2025-12-30T01:54:52.048031507Z","comments":[{"id":996,"issue_id":"lettatoolsselector-re1i","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-84","created_at":"2025-12-29T21:19:03Z"}]}
{"id":"lettatoolsselector-re92k","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:19.356722923Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:19.356722923Z","comments":[{"id":1884,"issue_id":"lettatoolsselector-re92k","author":"root","text":"Synced from Beads: lettatoolsselector-n1p2\n\n---\nHuly Issue: LTSEL-460","created_at":"2026-01-02T03:28:19Z"}]}
{"id":"lettatoolsselector-repf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:55.639777132Z","updated_at":"2025-12-30T04:14:22.265903197Z","comments":[{"id":909,"issue_id":"lettatoolsselector-repf","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-101","created_at":"2025-12-29T21:09:56Z"}]}
{"id":"lettatoolsselector-rfdy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:28:32.645763892Z","updated_at":"2025-12-30T02:02:36.144765529Z","comments":[{"id":1045,"issue_id":"lettatoolsselector-rfdy","author":"root","text":"Synced from Beads: lettatoolsselector-mhi\n\n---\nHuly Issue: LTSEL-61","created_at":"2025-12-29T21:28:33Z"}]}
{"id":"lettatoolsselector-rh435","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:13.578527293Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:13.578527293Z","comments":[{"id":1871,"issue_id":"lettatoolsselector-rh435","author":"root","text":"Synced from Beads: lettatoolsselector-efft\n\n---\nHuly Issue: LTSEL-479","created_at":"2026-01-02T03:28:13Z"}]}
{"id":"lettatoolsselector-rhn3t","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:09.151643705Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:09.151643705Z","comments":[{"id":1993,"issue_id":"lettatoolsselector-rhn3t","author":"root","text":"Synced from Beads: lettatoolsselector-pn14\n\n---\nHuly Issue: LTSEL-323","created_at":"2026-01-02T03:29:09Z"}]}
{"id":"lettatoolsselector-rjjh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:04.531419094Z","updated_at":"2025-12-30T02:11:38.858266318Z","comments":[{"id":942,"issue_id":"lettatoolsselector-rjjh","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-100","created_at":"2025-12-29T21:13:04Z"}]}
{"id":"lettatoolsselector-rmog0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:21.961141585Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:21.961141585Z","comments":[{"id":1890,"issue_id":"lettatoolsselector-rmog0","author":"root","text":"Synced from Beads: lettatoolsselector-xewq\n\n---\nHuly Issue: LTSEL-452","created_at":"2026-01-02T03:28:22Z"}]}
{"id":"lettatoolsselector-rncbd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:10.657975794Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:10.657975794Z","comments":[{"id":1864,"issue_id":"lettatoolsselector-rncbd","author":"root","text":"Synced from Beads: lettatoolsselector-pgvo\n\n---\nHuly Issue: LTSEL-486","created_at":"2026-01-02T03:28:10Z"}]}
{"id":"lettatoolsselector-rpq1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:15:54.257561469Z","updated_at":"2025-12-30T01:50:51.287628762Z","comments":[{"id":969,"issue_id":"lettatoolsselector-rpq1","author":"root","text":"Synced from Beads: lettatoolsselector-ix0\n\n---\nHuly Issue: LTSEL-90","created_at":"2025-12-29T21:15:54Z"}]}
{"id":"lettatoolsselector-rqdcm","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:20.20747056Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:20.20747056Z","comments":[{"id":2014,"issue_id":"lettatoolsselector-rqdcm","author":"root","text":"Synced from Beads: lettatoolsselector-zzom\n\n---\nHuly Issue: LTSEL-301","created_at":"2026-01-02T03:29:20Z"}]}
{"id":"lettatoolsselector-rqhh","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:28.953085258Z","updated_at":"2025-12-30T01:46:19.46427798Z","comments":[{"id":946,"issue_id":"lettatoolsselector-rqhh","author":"root","text":"Synced from Beads: lettatoolsselector-mnp\n\n---\nHuly Issue: LTSEL-99","created_at":"2025-12-29T21:13:29Z"}]}
{"id":"lettatoolsselector-rsuhi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:06.788108127Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:06.788108127Z","comments":[{"id":1855,"issue_id":"lettatoolsselector-rsuhi","author":"root","text":"Synced from Beads: lettatoolsselector-m7cg\n\n---\nHuly Issue: LTSEL-495","created_at":"2026-01-02T03:28:07Z"}]}
{"id":"lettatoolsselector-rvjo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:48.070281756Z","updated_at":"2025-12-30T02:05:50.278256221Z","comments":[{"id":1061,"issue_id":"lettatoolsselector-rvjo","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-56","created_at":"2025-12-29T21:31:48Z"}]}
{"id":"lettatoolsselector-rvx0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:24:06.43774368Z","updated_at":"2025-12-30T01:59:25.369767771Z","comments":[{"id":1028,"issue_id":"lettatoolsselector-rvx0","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-81","created_at":"2025-12-29T21:24:06Z"}]}
{"id":"lettatoolsselector-s3sud","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:12.374407337Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:12.374407337Z","comments":[{"id":1868,"issue_id":"lettatoolsselector-s3sud","author":"root","text":"Synced from Beads: lettatoolsselector-4gv1\n\n---\nHuly Issue: LTSEL-482","created_at":"2026-01-02T03:28:12Z"}]}
{"id":"lettatoolsselector-s4cy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:37:54.484166598Z","updated_at":"2025-12-30T02:41:41.862182564Z","comments":[{"id":1077,"issue_id":"lettatoolsselector-s4cy","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-55","created_at":"2025-12-29T21:37:54Z"}]}
{"id":"lettatoolsselector-s9hx0","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:39.763822035Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:39.763822035Z","comments":[{"id":2058,"issue_id":"lettatoolsselector-s9hx0","author":"root","text":"Synced from Beads: lettatoolsselector-4p4d\n\n---\nHuly Issue: LTSEL-257","created_at":"2026-01-02T03:29:39Z"}]}
{"id":"lettatoolsselector-sb7dd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:40.755772107Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:40.755772107Z","comments":[{"id":2060,"issue_id":"lettatoolsselector-sb7dd","author":"root","text":"Synced from Beads: lettatoolsselector-v3dy\n\n---\nHuly Issue: LTSEL-255","created_at":"2026-01-02T03:29:40Z"}]}
{"id":"lettatoolsselector-sbw","title":"[Refactor] Phase 5: Extract route handlers into blueprints","description":"Split the 101 route handlers from api_server.py into Flask Blueprints.\n\n## Depends On\n- lettatoolsselector-nav (Phase 2: ToolManager)\n- lettatoolsselector-4w9 (Phase 3: SearchService)\n- lettatoolsselector-lan (Phase 4: AgentService)\n\n## Route Groups to Extract\n\n### 1. Tools Blueprint (`routes/tools.py`) - 6 routes\n- POST /api/v1/tools/search\n- POST /api/v1/tools/search/rerank\n- GET /api/v1/tools\n- POST /api/v1/tools/attach\n- POST /api/v1/tools/prune\n- POST /api/v1/tools/sync\n- POST /api/v1/tools/refresh\n\n### 2. Config Blueprint (`routes/config.py`) - ~40 routes\n- /api/v1/config/reranker/*\n- /api/v1/config/embedding/*\n- /api/v1/config/weaviate/*\n- /api/v1/config/ollama/*\n- /api/v1/config/tool-selector/*\n- /api/v1/config/backup/*\n- /api/v1/config/validate/*\n- /api/v1/config/audit/*\n\n### 3. Search Blueprint (`routes/search.py`) - ~8 routes\n- /api/v1/search/parameter-schemas\n- /api/v1/search/parameter-sets/*\n- /api/v1/search/statistics\n- /api/v1/search/test\n\n### 4. Benchmark Blueprint (`routes/benchmark.py`) - ~8 routes\n- /api/v1/benchmark/query-sets/*\n- /api/v1/benchmark/runs\n\n### 5. Reranker Blueprint (`routes/reranker.py`) - ~6 routes\n- /api/v1/reranker/models/registry/*\n- /api/v1/rerank/compare\n- /api/v1/ab-comparison/*\n\n### 6. Maintenance Blueprint (`routes/maintenance.py`) - ~10 routes\n- /api/v1/maintenance/*\n- /api/v1/logs/*\n- /api/v1/weaviate/*\n\n### 7. Health Blueprint (`routes/health.py`) - 2 routes\n- GET /api/v1/health\n- GET /api/health\n\n### 8. Cost Control Blueprint (`routes/cost_control.py`) - ~8 routes\n- /api/v1/cost-control/*\n\n## File Structure\n```\nlettaaugment-source/\n routes/\n    __init__.py\n    tools.py\n    config.py\n    search.py\n    benchmark.py\n    reranker.py\n    maintenance.py\n    health.py\n    cost_control.py\n app.py  # Flask app with blueprints registered\n main.py # Entry point\n```\n\n## Acceptance Criteria\n- [ ] All 101 routes moved to appropriate blueprints\n- [ ] api_server.py reduced to \u003c500 lines (app setup only)\n- [ ] Routes use injected services (ToolManager, SearchService, etc.)\n- [ ] All API tests still pass\n- [ ] No changes to API contracts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:38:13.931841496Z","updated_at":"2025-12-29T19:02:09.785532515Z","closed_at":"2025-12-29T19:02:09.785532515Z","close_reason":"All routes extracted to 14 blueprints in routes/"}
{"id":"lettatoolsselector-scat4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:00.659786889Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:00.659786889Z","comments":[{"id":1975,"issue_id":"lettatoolsselector-scat4","author":"root","text":"Synced from Beads: lettatoolsselector-vfv7\n\n---\nHuly Issue: LTSEL-342","created_at":"2026-01-02T03:29:00Z"}]}
{"id":"lettatoolsselector-sd0zj","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:01.154697228Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:01.154697228Z","comments":[{"id":2261,"issue_id":"lettatoolsselector-sd0zj","author":"root","text":"Synced from Beads: lettatoolsselector-mc4l\n\n---\nHuly Issue: LTSEL-447","created_at":"2026-01-02T03:45:01Z"}]}
{"id":"lettatoolsselector-sekk2","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:51.219193671Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:51.219193671Z","comments":[{"id":2217,"issue_id":"lettatoolsselector-sekk2","author":"root","text":"Synced from Huly: LTSEL-618","created_at":"2026-01-02T03:43:51Z"}]}
{"id":"lettatoolsselector-si3l","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:30:40.11600616Z","updated_at":"2025-12-30T02:04:43.211958679Z","comments":[{"id":1054,"issue_id":"lettatoolsselector-si3l","author":"root","text":"Synced from Beads: lettatoolsselector-9fs\n\n---\nHuly Issue: LTSEL-56","created_at":"2025-12-29T21:30:40Z"}]}
{"id":"lettatoolsselector-skgm6","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:32.428554477Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:32.428554477Z","comments":[{"id":1914,"issue_id":"lettatoolsselector-skgm6","author":"root","text":"Synced from Beads: lettatoolsselector-7dny\n\n---\nHuly Issue: LTSEL-419","created_at":"2026-01-02T03:28:32Z"}]}
{"id":"lettatoolsselector-snn76","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:17.723846456Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:17.723846456Z","comments":[{"id":2009,"issue_id":"lettatoolsselector-snn76","author":"root","text":"Synced from Beads: lettatoolsselector-rvx0\n\n---\nHuly Issue: LTSEL-306","created_at":"2026-01-02T03:29:18Z"}]}
{"id":"lettatoolsselector-ssfyb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:45.764960847Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:45.764960847Z","comments":[{"id":1943,"issue_id":"lettatoolsselector-ssfyb","author":"root","text":"Synced from Beads: lettatoolsselector-d3kl\n\n---\nHuly Issue: LTSEL-380","created_at":"2026-01-02T03:28:45Z"}]}
{"id":"lettatoolsselector-suz6","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:12:58.968609052Z","updated_at":"2025-12-30T02:10:34.060349958Z","comments":[{"id":937,"issue_id":"lettatoolsselector-suz6","author":"root","text":"Synced from Beads: lettatoolsselector-65f\n\n---\nHuly Issue: LTSEL-62","created_at":"2025-12-29T21:12:59Z"}]}
{"id":"lettatoolsselector-sxue","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T20:22:02.964923906Z","updated_at":"2025-12-30T03:51:15.3735835Z","comments":[{"id":444,"issue_id":"lettatoolsselector-sxue","author":"root","text":"Synced from Beads: lettatoolsselector-toy\n\n---\nHuly Issue: LTSEL-194","created_at":"2025-12-29T20:22:03Z"}]}
{"id":"lettatoolsselector-symt","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:29.07710577Z","updated_at":"2025-12-30T04:14:23.076749198Z","comments":[{"id":912,"issue_id":"lettatoolsselector-symt","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-91","created_at":"2025-12-29T21:10:29Z"}]}
{"id":"lettatoolsselector-t3y2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:09.634520071Z","updated_at":"2025-12-30T04:14:06.98187074Z","comments":[{"id":838,"issue_id":"lettatoolsselector-t3y2","author":"root","text":"Synced from Beads: lettatoolsselector-lec\n\n---\nHuly Issue: LTSEL-117","created_at":"2025-12-29T21:03:10Z"}]}
{"id":"lettatoolsselector-t4dg","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:45.933879595Z","updated_at":"2025-12-30T02:08:05.447712276Z","comments":[{"id":926,"issue_id":"lettatoolsselector-t4dg","author":"root","text":"Synced from Beads: lettatoolsselector-7cz\n\n---\nHuly Issue: LTSEL-74","created_at":"2025-12-29T21:11:46Z"}]}
{"id":"lettatoolsselector-t7g","title":"[Perf] Use persistent HTTP client for reranker calls","description":"## Problem\nUses synchronous `httpx.post()` which creates a new TCP connection per reranker request.\n\n**Location:** `weaviate_tool_search_with_reranking.py:274, 294`\n\n```python\n# Line 294\nresponse = httpx.post(RERANKER_URL, json=payload, timeout=RERANKER_TIMEOUT)\n```\n\n## Impact\n- **Latency:** 10-50ms per call in TCP connection overhead\n- **Priority:** MEDIUM - affects every reranked search\n\n## Solution\nUse a persistent `httpx.Client` with connection pooling:\n\n```python\n# Module-level persistent client\n_reranker_client: httpx.Client = None\n\ndef get_reranker_client() -\u003e httpx.Client:\n    global _reranker_client\n    if _reranker_client is None:\n        _reranker_client = httpx.Client(\n            timeout=RERANKER_TIMEOUT,\n            limits=httpx.Limits(max_keepalive_connections=10, max_connections=20)\n        )\n    return _reranker_client\n\ndef rerank_results(...):\n    client = get_reranker_client()\n    response = client.post(RERANKER_URL, json=payload)\n    # ...\n\n# Cleanup on shutdown\ndef close_reranker_client():\n    global _reranker_client\n    if _reranker_client:\n        _reranker_client.close()\n        _reranker_client = None\n```\n\n## Acceptance Criteria\n- [ ] Persistent httpx.Client used for reranker\n- [ ] Connection pooling configured\n- [ ] Client closed on app shutdown\n- [ ] All unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:50:08.273877005Z","updated_at":"2025-12-29T16:46:01.37443623Z","closed_at":"2025-12-29T16:46:01.37443623Z","close_reason":"Closed","labels":["performance"]}
{"id":"lettatoolsselector-t9zb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:18.200296844Z","updated_at":"2025-12-30T01:51:10.657284722Z","comments":[{"id":972,"issue_id":"lettatoolsselector-t9zb","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-81","created_at":"2025-12-29T21:16:18Z"}]}
{"id":"lettatoolsselector-tad","title":"[Refactor] Migrate config handlers to config blueprint","description":"## Goal\nMove the 3 remaining config handlers from api_server.py into routes/config.py with full implementations.\n\n## Handlers to Migrate\n- _validate_config_handler() - Line 783\n- _get_tool_selector_config_handler() - Line 819  \n- _update_tool_selector_config_handler() - Line 871\n\n## Pattern\n1. These handlers read/write config files - relatively self-contained\n2. Move implementation code directly into config.py routes\n3. Remove delegation pattern\n4. Update any tests mocking these handlers\n\n## Acceptance Criteria\n- [ ] All 3 handlers removed from api_server.py\n- [ ] routes/config.py contains full implementations\n- [ ] All unit tests pass\n- [ ] No new dependencies on api_server needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T00:42:57.262348909Z","updated_at":"2025-12-29T15:40:09.842988049Z","closed_at":"2025-12-29T15:40:09.842988049Z","close_reason":"Closed","labels":["refactor","services-layer"]}
{"id":"lettatoolsselector-tb7b","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:08.635847722Z","updated_at":"2025-12-30T04:11:50.454118634Z","comments":[{"id":837,"issue_id":"lettatoolsselector-tb7b","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-109","created_at":"2025-12-29T21:03:08Z"}]}
{"id":"lettatoolsselector-tdnw","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:30:40.876535156Z","updated_at":"2025-12-30T02:04:50.151891198Z","comments":[{"id":1055,"issue_id":"lettatoolsselector-tdnw","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:30:41Z"}]}
{"id":"lettatoolsselector-te8e","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:33.865446842Z","updated_at":"2025-12-30T04:12:12.189213965Z","comments":[{"id":990,"issue_id":"lettatoolsselector-te8e","author":"root","text":"Synced from Beads: lettatoolsselector-65f\n\n---\nHuly Issue: LTSEL-62","created_at":"2025-12-29T21:18:34Z"}]}
{"id":"lettatoolsselector-tfml7","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:43:53.085662024Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:43:53.085662024Z","comments":[{"id":2221,"issue_id":"lettatoolsselector-tfml7","author":"root","text":"Synced from Beads: lettatoolsselector-hzmq\n\n---\nHuly Issue: LTSEL-609","created_at":"2026-01-02T03:43:53Z"}]}
{"id":"lettatoolsselector-tgvv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:07.392099758Z","updated_at":"2025-12-30T01:54:20.679541807Z","comments":[{"id":989,"issue_id":"lettatoolsselector-tgvv","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-91","created_at":"2025-12-29T21:18:07Z"}]}
{"id":"lettatoolsselector-tslb5","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:31.865419676Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:31.865419676Z","comments":[{"id":2040,"issue_id":"lettatoolsselector-tslb5","author":"root","text":"Synced from Beads: lettatoolsselector-gjfe\n\n---\nHuly Issue: LTSEL-275","created_at":"2026-01-02T03:29:32Z"}]}
{"id":"lettatoolsselector-ttay1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:45.331136254Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:45.331136254Z","comments":[{"id":1942,"issue_id":"lettatoolsselector-ttay1","author":"root","text":"Synced from Beads: lettatoolsselector-ijw4\n\n---\nHuly Issue: LTSEL-381","created_at":"2026-01-02T03:28:45Z"}]}
{"id":"lettatoolsselector-tttgr","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:19.506602549Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:19.506602549Z","comments":[{"id":2233,"issue_id":"lettatoolsselector-tttgr","author":"root","text":"Synced from Beads: lettatoolsselector-9vsz\n\n---\nHuly Issue: LTSEL-560","created_at":"2026-01-02T03:44:19Z"}]}
{"id":"lettatoolsselector-u0ya5","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:15.771715777Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:15.771715777Z","comments":[{"id":2231,"issue_id":"lettatoolsselector-u0ya5","author":"root","text":"Synced from Beads: lettatoolsselector-dv8m\n\n---\nHuly Issue: LTSEL-566","created_at":"2026-01-02T03:44:16Z"}]}
{"id":"lettatoolsselector-u4rf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:03.803207095Z","updated_at":"2025-12-30T02:11:29.708523561Z","comments":[{"id":941,"issue_id":"lettatoolsselector-u4rf","author":"root","text":"Synced from Beads: lettatoolsselector-76g\n\n---\nHuly Issue: LTSEL-95","created_at":"2025-12-29T21:13:04Z"}]}
{"id":"lettatoolsselector-u50ht","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:46.305089783Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:46.305089783Z","comments":[{"id":1944,"issue_id":"lettatoolsselector-u50ht","author":"root","text":"Synced from Beads: lettatoolsselector-dmq2\n\n---\nHuly Issue: LTSEL-379","created_at":"2026-01-02T03:28:46Z"}]}
{"id":"lettatoolsselector-uavch","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:23.482724722Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:23.482724722Z","comments":[{"id":2021,"issue_id":"lettatoolsselector-uavch","author":"root","text":"Synced from Beads: lettatoolsselector-e4np\n\n---\nHuly Issue: LTSEL-294","created_at":"2026-01-02T03:29:23Z"}]}
{"id":"lettatoolsselector-ubk","title":"[Bugfix] Fix set iteration order mismatch in tool pruning result mapping","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T23:46:27.486559568Z","updated_at":"2025-12-29T18:56:02.155671516Z","closed_at":"2025-12-29T18:56:02.155671516Z","close_reason":"Duplicate of closed lettatoolsselector-ubl","comments":[{"id":11,"issue_id":"lettatoolsselector-ubk","author":"node","text":"## Problem\n\nIn  function (), there was a bug where detachment results could be incorrectly mapped to tool IDs due to set-to-list conversion happening twice.\n\n### Root Cause\n\n\n\nWhile Python 3.7+ maintains insertion order for sets in practice, converting a set to a list twice creates potential for mismatched mappings between async task results and tool IDs.\n\n## Impact\n\n- **Actual detachment operations worked correctly** - tools were being detached properly\n- **Logging/reporting was potentially incorrect** - wrong tool IDs could be logged as success/failure\n- **Debugging confusion** - audit logs may have shown incorrect tool names for detach operations\n\n## Solution\n\nConvert the set to a list **once** and reuse it:\n\n\n\n## Status\n\n**Fixed** - Applied to  lines 1208-1217. Container restarted to apply changes.\n\n## Related\n\n- Similar pattern in  function was already correct (iterates over list directly)\n- Relates to LTSEL-6 (SDK migration) and LTSEL-11 (structured events for attach/detach)\n\n---\nHuly Issue: LTSEL-27","created_at":"2025-12-22T23:46:27Z"}]}
{"id":"lettatoolsselector-ufru","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:04.701361885Z","updated_at":"2025-12-30T02:05:09.268704012Z","comments":[{"id":1057,"issue_id":"lettatoolsselector-ufru","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-55","created_at":"2025-12-29T21:31:05Z"}]}
{"id":"lettatoolsselector-ufs","title":"[Perf] Reduce excessive logging in hot paths","description":"## Problem\nDEBUG and INFO level logs on every request, even in production. String formatting happens regardless of log level.\n\n**Location:** Throughout `routes/tools.py`, `tool_manager.py`\n\n```python\n# Line 205 in routes/tools.py\nlogger.info(\"Received request for /api/v1/tools/search\")\n\n# Line 247\nlogger.info(f\"Search: {len(results)} total, {len(filtered_results)} after MCP filtering\")\n```\n\n## Impact\n- **Latency:** 1-5ms cumulative per request in string formatting and I/O\n- **Priority:** LOW-MEDIUM\n\n## Solution\nUse lazy formatting and reduce INFO logs in hot paths:\n\n```python\n# Use lazy formatting\nlogger.debug(\"Search: %d total, %d after filtering\", len(results), len(filtered_results))\n\n# Or check level before formatting\nif logger.isEnabledFor(logging.DEBUG):\n    logger.debug(f\"Search: {len(results)} total, {len(filtered_results)} after MCP filtering\")\n```\n\n## Guidelines\n- Request entry/exit: DEBUG level (not INFO)\n- Errors: ERROR level\n- Significant events (attach/prune success): INFO level\n- Detailed diagnostics: DEBUG level\n\n## Acceptance Criteria\n- [ ] Hot path logs reduced to DEBUG level\n- [ ] Lazy formatting used where appropriate\n- [ ] No string formatting when log level disabled\n- [ ] All unit tests pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-29T01:50:34.202369804Z","updated_at":"2025-12-29T19:31:33.274637168Z","closed_at":"2025-12-29T19:31:33.274637168Z","close_reason":"Converted hot path logs from INFO to DEBUG, used lazy formatting (logger.debug with %s placeholders)","labels":["performance"]}
{"id":"lettatoolsselector-ug462","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:37.478353504Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:37.478353504Z","comments":[{"id":2053,"issue_id":"lettatoolsselector-ug462","author":"root","text":"Synced from Beads: lettatoolsselector-pc3i\n\n---\nHuly Issue: LTSEL-262","created_at":"2026-01-02T03:29:37Z"}]}
{"id":"lettatoolsselector-ui6g2","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:55.378588177Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:55.378588177Z","comments":[{"id":2255,"issue_id":"lettatoolsselector-ui6g2","author":"root","text":"Synced from Huly: LTSEL-463","created_at":"2026-01-02T03:44:55Z"}]}
{"id":"lettatoolsselector-uj0r","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:06.151065064Z","updated_at":"2025-12-31T05:19:19.78841049Z","comments":[{"id":1014,"issue_id":"lettatoolsselector-uj0r","author":"root","text":"Synced from Beads: lettatoolsselector-nlt\n\n---\nHuly Issue: LTSEL-34","created_at":"2025-12-29T21:22:06Z"}]}
{"id":"lettatoolsselector-uklpx","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:20.225731962Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:20.225731962Z","comments":[{"id":1886,"issue_id":"lettatoolsselector-uklpx","author":"root","text":"Synced from Beads: lettatoolsselector-wsml\n\n---\nHuly Issue: LTSEL-458","created_at":"2026-01-02T03:28:20Z"}]}
{"id":"lettatoolsselector-ukqu6","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:51.111639016Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:51.111639016Z","comments":[{"id":1955,"issue_id":"lettatoolsselector-ukqu6","author":"root","text":"Synced from Beads: lettatoolsselector-36qf\n\n---\nHuly Issue: LTSEL-366","created_at":"2026-01-02T03:28:51Z"}]}
{"id":"lettatoolsselector-unfo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:25.658887147Z","updated_at":"2025-12-30T02:07:24.219221377Z","comments":[{"id":924,"issue_id":"lettatoolsselector-unfo","author":"root","text":"Synced from Beads: lettatoolsselector-9cq\n\n---\nHuly Issue: LTSEL-98","created_at":"2025-12-29T21:11:26Z"}]}
{"id":"lettatoolsselector-upx9k","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:33.508330309Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:33.508330309Z","comments":[{"id":2282,"issue_id":"lettatoolsselector-upx9k","author":"root","text":"Synced from Beads: lettatoolsselector-e73p\n\n---\nHuly Issue: LTSEL-350","created_at":"2026-01-02T03:45:33Z"}]}
{"id":"lettatoolsselector-us43","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:23:34.758289085Z","updated_at":"2025-12-30T01:59:17.991388023Z","comments":[{"id":1027,"issue_id":"lettatoolsselector-us43","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:23:35Z"}]}
{"id":"lettatoolsselector-usbu","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:44:15.138691486Z","updated_at":"2025-12-30T02:42:07.83222037Z","comments":[{"id":1079,"issue_id":"lettatoolsselector-usbu","author":"root","text":"Synced from Beads: lettatoolsselector-yie\n\n---\nHuly Issue: LTSEL-29","created_at":"2025-12-29T21:44:15Z"}]}
{"id":"lettatoolsselector-uvn3g","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:04.318575912Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:04.318575912Z","comments":[{"id":2263,"issue_id":"lettatoolsselector-uvn3g","author":"root","text":"Synced from Beads: lettatoolsselector-s9o4\n\n---\nHuly Issue: LTSEL-432","created_at":"2026-01-02T03:45:04Z"}]}
{"id":"lettatoolsselector-ux0op","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:08.908274365Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:08.908274365Z","comments":[{"id":2268,"issue_id":"lettatoolsselector-ux0op","author":"root","text":"Synced from Beads: lettatoolsselector-eumo\n\n---\nHuly Issue: LTSEL-416","created_at":"2026-01-02T03:45:09Z"}]}
{"id":"lettatoolsselector-uxdc","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:37.258851905Z","updated_at":"2025-12-30T01:54:31.681479484Z","comments":[{"id":994,"issue_id":"lettatoolsselector-uxdc","author":"root","text":"Synced from Beads: lettatoolsselector-ix0\n\n---\nHuly Issue: LTSEL-90","created_at":"2025-12-29T21:18:37Z"}]}
{"id":"lettatoolsselector-uxfy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:03.908918305Z","updated_at":"2025-12-30T01:54:57.759491903Z","comments":[{"id":997,"issue_id":"lettatoolsselector-uxfy","author":"root","text":"Synced from Beads: lettatoolsselector-an3\n\n---\nHuly Issue: LTSEL-89","created_at":"2025-12-29T21:19:04Z"}]}
{"id":"lettatoolsselector-uzaq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:56.74305984Z","updated_at":"2025-12-30T01:55:52.169389916Z","comments":[{"id":1001,"issue_id":"lettatoolsselector-uzaq","author":"root","text":"Synced from Beads: lettatoolsselector-m9u\n\n---\nHuly Issue: LTSEL-77","created_at":"2025-12-29T21:19:57Z"}]}
{"id":"lettatoolsselector-v1l","title":"[Code Quality] Fix unbound variable warnings for get_letta_sdk_client","description":"The `get_letta_sdk_client` function shows 'possibly unbound' warnings at multiple locations.\n\n## Affected Lines\n- Line 255\n- Line 314\n- Line 369\n- Line 833\n- Line 854\n- Line 874\n\n## Root Cause\nThe function is likely conditionally imported or defined, causing the static analyzer to flag it as potentially undefined.\n\n## Possible Solutions\n1. Move import to top of file unconditionally\n2. Add explicit None check before use\n3. Use a try/except import pattern with proper fallback\n4. Add type: ignore comments if intentional (not recommended)\n\n## Acceptance Criteria\n- [ ] No 'possibly unbound' warnings for get_letta_sdk_client\n- [ ] Function is reliably available where used\n- [ ] Graceful handling if SDK client unavailable","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-28T17:13:20.013706888Z","updated_at":"2025-12-29T19:21:56.470371504Z","closed_at":"2025-12-29T19:21:56.470371504Z","close_reason":"Fixed: initialized get_letta_sdk_client to None before conditional import"}
{"id":"lettatoolsselector-v2r69","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:30:45.37670037Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:30:45.37670037Z","comments":[{"id":2116,"issue_id":"lettatoolsselector-v2r69","author":"root","text":"Synced from Beads: lettatoolsselector-rfdy\n\n---\nHuly Issue: LTSEL-250","created_at":"2026-01-02T03:30:45Z"}]}
{"id":"lettatoolsselector-v3w4","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:59.752692749Z","updated_at":"2025-12-30T02:06:00.559077761Z","comments":[{"id":917,"issue_id":"lettatoolsselector-v3w4","author":"root","text":"Synced from Beads: lettatoolsselector-ix0\n\n---\nHuly Issue: LTSEL-90","created_at":"2025-12-29T21:11:00Z"}]}
{"id":"lettatoolsselector-v4x9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:35:32.941386848Z","updated_at":"2025-12-30T02:40:12.906020946Z","comments":[{"id":1071,"issue_id":"lettatoolsselector-v4x9","author":"root","text":"Synced from Beads: lettatoolsselector-7dj\n\n---\nHuly Issue: LTSEL-55","created_at":"2025-12-29T21:35:33Z"}]}
{"id":"lettatoolsselector-v5fgn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:37.391295454Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:37.391295454Z","comments":[{"id":1925,"issue_id":"lettatoolsselector-v5fgn","author":"root","text":"Synced from Beads: lettatoolsselector-kf6r\n\n---\nHuly Issue: LTSEL-404","created_at":"2026-01-02T03:28:37Z"}]}
{"id":"lettatoolsselector-v8xic","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:09.601057068Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:09.601057068Z","comments":[{"id":1994,"issue_id":"lettatoolsselector-v8xic","author":"root","text":"Synced from Beads: lettatoolsselector-r0m2\n\n---\nHuly Issue: LTSEL-322","created_at":"2026-01-02T03:29:09Z"}]}
{"id":"lettatoolsselector-v8zlq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:34.48037892Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:34.48037892Z","comments":[{"id":2046,"issue_id":"lettatoolsselector-v8zlq","author":"root","text":"Synced from Beads: lettatoolsselector-c4b9\n\n---\nHuly Issue: LTSEL-269","created_at":"2026-01-02T03:29:34Z"}]}
{"id":"lettatoolsselector-vbh0e","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:07.872292652Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:07.872292652Z","comments":[{"id":2227,"issue_id":"lettatoolsselector-vbh0e","author":"root","text":"Synced from Beads: lettatoolsselector-fkeg\n\n---\nHuly Issue: LTSEL-575","created_at":"2026-01-02T03:44:08Z"}]}
{"id":"lettatoolsselector-vcdi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:50.847562866Z","updated_at":"2025-12-30T04:14:16.553520787Z","comments":[{"id":885,"issue_id":"lettatoolsselector-vcdi","author":"root","text":"Synced from Beads: lettatoolsselector-76g\n\n---\nHuly Issue: LTSEL-95","created_at":"2025-12-29T21:07:51Z"}]}
{"id":"lettatoolsselector-vcpkv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:02.494286241Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:02.494286241Z","comments":[{"id":1979,"issue_id":"lettatoolsselector-vcpkv","author":"root","text":"Synced from Beads: lettatoolsselector-6iv1\n\n---\nHuly Issue: LTSEL-337","created_at":"2026-01-02T03:29:02Z"}]}
{"id":"lettatoolsselector-vfrq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:37.80452644Z","updated_at":"2025-12-30T04:14:12.372287615Z","comments":[{"id":864,"issue_id":"lettatoolsselector-vfrq","author":"root","text":"Synced from Beads: lettatoolsselector-mwv\n\n---\nHuly Issue: LTSEL-103","created_at":"2025-12-29T21:05:38Z"}]}
{"id":"lettatoolsselector-vfv7","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:17:30.743768646Z","updated_at":"2025-12-30T01:53:33.938368162Z","comments":[{"id":984,"issue_id":"lettatoolsselector-vfv7","author":"root","text":"Synced from Beads: lettatoolsselector-0ye\n\n---\nHuly Issue: LTSEL-92","created_at":"2025-12-29T21:17:31Z"}]}
{"id":"lettatoolsselector-vlmgf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:27.514051623Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:27.514051623Z","comments":[{"id":2030,"issue_id":"lettatoolsselector-vlmgf","author":"root","text":"Synced from Beads: lettatoolsselector-zjdf\n\n---\nHuly Issue: LTSEL-285","created_at":"2026-01-02T03:29:27Z"}]}
{"id":"lettatoolsselector-vo0zr","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:55.918997626Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:55.918997626Z","comments":[{"id":2256,"issue_id":"lettatoolsselector-vo0zr","author":"root","text":"Synced from Beads: lettatoolsselector-z5lv\n\n---\nHuly Issue: LTSEL-462","created_at":"2026-01-02T03:44:56Z"}]}
{"id":"lettatoolsselector-vpos9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:26.176397851Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:26.176397851Z","comments":[{"id":2027,"issue_id":"lettatoolsselector-vpos9","author":"root","text":"Synced from Beads: lettatoolsselector-8u7d\n\n---\nHuly Issue: LTSEL-288","created_at":"2026-01-02T03:29:26Z"}]}
{"id":"lettatoolsselector-vq0h","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:36.136350897Z","updated_at":"2025-12-30T04:11:43.448966735Z","comments":[{"id":845,"issue_id":"lettatoolsselector-vq0h","author":"root","text":"Synced from Beads: lettatoolsselector-80w\n\n---\nHuly Issue: LTSEL-122","created_at":"2025-12-29T21:03:36Z"}]}
{"id":"lettatoolsselector-vtk61","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:02.08142566Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:02.08142566Z","comments":[{"id":1978,"issue_id":"lettatoolsselector-vtk61","author":"root","text":"Synced from Beads: lettatoolsselector-tgvv\n\n---\nHuly Issue: LTSEL-338","created_at":"2026-01-02T03:29:02Z"}]}
{"id":"lettatoolsselector-vwjam","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:31.435911974Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:31.435911974Z","comments":[{"id":2039,"issue_id":"lettatoolsselector-vwjam","author":"root","text":"Synced from Beads: lettatoolsselector-rvjo\n\n---\nHuly Issue: LTSEL-276","created_at":"2026-01-02T03:29:31Z"}]}
{"id":"lettatoolsselector-vy7v","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:10:31.007330863Z","updated_at":"2025-12-30T04:14:23.633824456Z","comments":[{"id":914,"issue_id":"lettatoolsselector-vy7v","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-100","created_at":"2025-12-29T21:10:31Z"}]}
{"id":"lettatoolsselector-w08v","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:50.207962197Z","updated_at":"2025-12-30T01:48:48.238053355Z","comments":[{"id":958,"issue_id":"lettatoolsselector-w08v","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-85","created_at":"2025-12-29T21:14:50Z"}]}
{"id":"lettatoolsselector-w2d2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:18.495428718Z","updated_at":"2025-12-30T04:14:01.213344119Z","comments":[{"id":817,"issue_id":"lettatoolsselector-w2d2","author":"root","text":"Synced from Beads: lettatoolsselector-5j1\n\n---\nHuly Issue: LTSEL-128","created_at":"2025-12-29T21:00:18Z"}]}
{"id":"lettatoolsselector-w4kg","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:27:46.960926329Z","updated_at":"2025-12-30T02:02:03.887955582Z","comments":[{"id":1042,"issue_id":"lettatoolsselector-w4kg","author":"root","text":"Synced from Beads: lettatoolsselector-m9u\n\n---\nHuly Issue: LTSEL-77","created_at":"2025-12-29T21:27:47Z"}]}
{"id":"lettatoolsselector-w6ec","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:17:28.985698101Z","updated_at":"2025-12-30T01:53:20.615546199Z","comments":[{"id":982,"issue_id":"lettatoolsselector-w6ec","author":"root","text":"Synced from Beads: lettatoolsselector-4xu\n\n---\nHuly Issue: LTSEL-82","created_at":"2025-12-29T21:17:29Z"}]}
{"id":"lettatoolsselector-w9eh1","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:54.717955687Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:54.717955687Z","comments":[{"id":2254,"issue_id":"lettatoolsselector-w9eh1","author":"root","text":"Synced from Beads: lettatoolsselector-4rrh\n\n---\nHuly Issue: LTSEL-464","created_at":"2026-01-02T03:44:55Z"}]}
{"id":"lettatoolsselector-wafmo","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:47.730431958Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:47.730431958Z","comments":[{"id":1947,"issue_id":"lettatoolsselector-wafmo","author":"root","text":"Synced from Beads: lettatoolsselector-dgn2\n\n---\nHuly Issue: LTSEL-375","created_at":"2026-01-02T03:28:47Z"}]}
{"id":"lettatoolsselector-wdgbm","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:50.707490883Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:50.707490883Z","comments":[{"id":1954,"issue_id":"lettatoolsselector-wdgbm","author":"root","text":"Synced from Beads: lettatoolsselector-b3tq\n\n---\nHuly Issue: LTSEL-367","created_at":"2026-01-02T03:28:50Z"}]}
{"id":"lettatoolsselector-wg1g9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:48.144772Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:48.144772Z","comments":[{"id":1948,"issue_id":"lettatoolsselector-wg1g9","author":"root","text":"Synced from Beads: lettatoolsselector-8jn5\n\n---\nHuly Issue: LTSEL-374","created_at":"2026-01-02T03:28:48Z"}]}
{"id":"lettatoolsselector-wi8c","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:46.943732256Z","updated_at":"2025-12-30T03:49:38.478851674Z","comments":[{"id":1060,"issue_id":"lettatoolsselector-wi8c","author":"root","text":"Synced from Beads: lettatoolsselector-nlt\n\n---\nHuly Issue: LTSEL-34","created_at":"2025-12-29T21:31:47Z"}]}
{"id":"lettatoolsselector-wisul","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:33.57952965Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:33.57952965Z","comments":[{"id":2044,"issue_id":"lettatoolsselector-wisul","author":"root","text":"Synced from Beads: lettatoolsselector-jgew\n\n---\nHuly Issue: LTSEL-271","created_at":"2026-01-02T03:29:33Z"}]}
{"id":"lettatoolsselector-wlj","title":"[Refactor] Migrate evaluation/analytics handlers to evaluation blueprint","description":"## Goal\nMove 7 evaluation-related handlers from api_server.py into routes/evaluation.py with full implementations.\n\n## Handlers to Migrate\n### Core Evaluation (4)\n- _submit_evaluation_handler() - Line 1216\n- _get_evaluations_handler() - Line 1250\n- _get_analytics_handler() - Line 1273\n- _compare_rerank_handler() - Line 1305\n\n### A/B Comparison (3)\n- _run_ab_comparison_handler() - Line 1847\n- _get_ab_results_handler() - Line 1897\n- _get_ab_result_by_id_handler() - Line 1956\n\n## Services Needed\nMay need services/evaluation.py for:\n- File I/O for evaluation persistence\n- Metrics calculation utilities\n- A/B statistical comparison functions\n\n## Pattern\n1. Create evaluation service if shared utilities needed\n2. Move handler implementations into evaluation.py blueprint\n3. Configure services via blueprint configure() method\n4. Remove old handlers from api_server.py\n\n## Acceptance Criteria\n- [ ] All 7 handlers removed from api_server.py\n- [ ] routes/evaluation.py contains full implementations\n- [ ] Service layer created if needed for shared utilities\n- [ ] All unit tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T00:43:06.516457468Z","updated_at":"2025-12-29T01:21:05.512504219Z","closed_at":"2025-12-29T01:21:05.512504219Z","close_reason":"Migrated all 7 evaluation handlers and 12 helper functions to routes/evaluation.py. Blueprint is now fully self-contained (878 lines). api_server.py reduced to 2,408 lines with only 4 handlers remaining.","labels":["refactor","services-layer"]}
{"id":"lettatoolsselector-wmr1e","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:44.235940178Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:44.235940178Z","comments":[{"id":2247,"issue_id":"lettatoolsselector-wmr1e","author":"root","text":"Synced from Huly: LTSEL-521","created_at":"2026-01-02T03:44:44Z"}]}
{"id":"lettatoolsselector-worhd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:14.971102157Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:14.971102157Z","comments":[{"id":1874,"issue_id":"lettatoolsselector-worhd","author":"root","text":"Synced from Beads: lettatoolsselector-0czi\n\n---\nHuly Issue: LTSEL-475","created_at":"2026-01-02T03:28:15Z"}]}
{"id":"lettatoolsselector-wq78n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:13.181346003Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:13.181346003Z","comments":[{"id":1870,"issue_id":"lettatoolsselector-wq78n","author":"root","text":"Synced from Beads: lettatoolsselector-3x3p\n\n---\nHuly Issue: LTSEL-480","created_at":"2026-01-02T03:28:13Z"}]}
{"id":"lettatoolsselector-wsml","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:31.157812154Z","updated_at":"2025-12-30T04:14:10.456906769Z","comments":[{"id":854,"issue_id":"lettatoolsselector-wsml","author":"root","text":"Synced from Beads: lettatoolsselector-jnc\n\n---\nHuly Issue: LTSEL-105","created_at":"2025-12-29T21:04:31Z"}]}
{"id":"lettatoolsselector-wutv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:17:29.899564281Z","updated_at":"2025-12-30T01:53:26.599205989Z","comments":[{"id":983,"issue_id":"lettatoolsselector-wutv","author":"root","text":"Synced from Beads: lettatoolsselector-dg2\n\n---\nHuly Issue: LTSEL-87","created_at":"2025-12-29T21:17:30Z"}]}
{"id":"lettatoolsselector-wvdl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:23.082249916Z","updated_at":"2025-12-30T04:14:18.454607453Z","comments":[{"id":892,"issue_id":"lettatoolsselector-wvdl","author":"root","text":"Synced from Beads: lettatoolsselector-w50\n\n---\nHuly Issue: LTSEL-97","created_at":"2025-12-29T21:08:23Z"}]}
{"id":"lettatoolsselector-wyj0n","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:16.262702581Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:16.262702581Z","comments":[{"id":1877,"issue_id":"lettatoolsselector-wyj0n","author":"root","text":"Synced from Beads: lettatoolsselector-jwtk\n\n---\nHuly Issue: LTSEL-472","created_at":"2026-01-02T03:28:16Z"}]}
{"id":"lettatoolsselector-x0j","title":"[Enforcement] Add PROTECTED_TOOLS support to tool selector API","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-23T03:23:09.617990903Z","updated_at":"2025-12-23T03:23:09.966249296Z","closed_at":"2025-12-23T03:23:09.966249296Z","close_reason":"Closed","comments":[{"id":34,"issue_id":"lettatoolsselector-x0j","author":"node","text":"## Problem\n\nProtected tools (find_agents, find_tools) logic only exists in webhook receiver. Tool selector API should also respect protected tools during pruning.\n\n## Solution\n\nAdd PROTECTED_TOOLS env var to tool selector API and respect it during all detach operations.\n\n## Acceptance Criteria\n\n- [ ] PROTECTED_TOOLS env var (comma-separated tool names)\n- [ ] Before any detach, check if tool is protected\n- [ ] Never detach protected tools even if over limit\n- [ ] Warn if agent is over limit but can't prune due to protected tools\n- [ ] Document protected tools in compose.yaml\n\n## Technical Notes\n\n- Default protected tools: find_agents, find_tools, send_message\n- Allow override via env var\n- Lookup by name, not ID (IDs can change)\n\n---\nHuly Issue: LTSEL-10","created_at":"2025-12-23T03:23:09Z"}]}
{"id":"lettatoolsselector-x2ukb","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:20.681371808Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:20.681371808Z","comments":[{"id":2015,"issue_id":"lettatoolsselector-x2ukb","author":"root","text":"Synced from Beads: lettatoolsselector-6fk8\n\n---\nHuly Issue: LTSEL-300","created_at":"2026-01-02T03:29:20Z"}]}
{"id":"lettatoolsselector-x3qd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:24:53.165671294Z","updated_at":"2025-12-30T01:59:47.375279319Z","comments":[{"id":1031,"issue_id":"lettatoolsselector-x3qd","author":"root","text":"Synced from Beads: lettatoolsselector-b0j\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:24:53Z"}]}
{"id":"lettatoolsselector-x5vs","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:03.483203486Z","updated_at":"2025-12-30T04:14:10.179549278Z","comments":[{"id":852,"issue_id":"lettatoolsselector-x5vs","author":"root","text":"Synced from Beads: lettatoolsselector-eyc\n\n---\nHuly Issue: LTSEL-121","created_at":"2025-12-29T21:04:03Z"}]}
{"id":"lettatoolsselector-x7pi","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:19:02.235914272Z","updated_at":"2025-12-30T01:54:46.649532512Z","comments":[{"id":995,"issue_id":"lettatoolsselector-x7pi","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:19:02Z"}]}
{"id":"lettatoolsselector-x9ihr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:41.173426601Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:41.173426601Z","comments":[{"id":1933,"issue_id":"lettatoolsselector-x9ihr","author":"root","text":"Synced from Beads: lettatoolsselector-cj0f\n\n---\nHuly Issue: LTSEL-394","created_at":"2026-01-02T03:28:41Z"}]}
{"id":"lettatoolsselector-xdhk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:16:20.551030413Z","updated_at":"2025-12-30T01:51:33.906313604Z","comments":[{"id":975,"issue_id":"lettatoolsselector-xdhk","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:16:20Z"}]}
{"id":"lettatoolsselector-xewq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:05:37.003164149Z","updated_at":"2025-12-30T04:14:12.108076094Z","comments":[{"id":863,"issue_id":"lettatoolsselector-xewq","author":"root","text":"Synced from Beads: lettatoolsselector-mnp\n\n---\nHuly Issue: LTSEL-99","created_at":"2025-12-29T21:05:37Z"}]}
{"id":"lettatoolsselector-xhvq","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:42:49.09276026Z","updated_at":"2025-12-30T02:41:53.28880713Z","comments":[{"id":1078,"issue_id":"lettatoolsselector-xhvq","author":"root","text":"Synced from Beads: lettatoolsselector-yie\n\n---\nHuly Issue: LTSEL-29","created_at":"2025-12-29T21:42:49Z"}]}
{"id":"lettatoolsselector-xi8w","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:05.596331185Z","updated_at":"2025-12-29T23:14:08.403493753Z","comments":[{"id":1058,"issue_id":"lettatoolsselector-xi8w","author":"root","text":"Synced from Beads: lettatoolsselector-57s\n\n---\nHuly Issue: LTSEL-59","created_at":"2025-12-29T21:31:05Z"}]}
{"id":"lettatoolsselector-xkm9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:31:49.741287271Z","updated_at":"2025-12-30T02:38:25.325455298Z","comments":[{"id":1063,"issue_id":"lettatoolsselector-xkm9","author":"root","text":"Synced from Beads: lettatoolsselector-4dj\n\n---\nHuly Issue: LTSEL-68","created_at":"2025-12-29T21:31:50Z"}]}
{"id":"lettatoolsselector-xt2pv","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:26.96048657Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:26.96048657Z","comments":[{"id":1901,"issue_id":"lettatoolsselector-xt2pv","author":"root","text":"Synced from Beads: lettatoolsselector-vcdi\n\n---\nHuly Issue: LTSEL-436","created_at":"2026-01-02T03:28:27Z"}]}
{"id":"lettatoolsselector-xv7vu","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:10.064953331Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:10.064953331Z","comments":[{"id":1995,"issue_id":"lettatoolsselector-xv7vu","author":"root","text":"Synced from Beads: lettatoolsselector-fr20\n\n---\nHuly Issue: LTSEL-321","created_at":"2026-01-02T03:29:10Z"}]}
{"id":"lettatoolsselector-xvxau","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:28.17943889Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:28.17943889Z","comments":[{"id":1904,"issue_id":"lettatoolsselector-xvxau","author":"root","text":"Synced from Beads: lettatoolsselector-ycgm\n\n---\nHuly Issue: LTSEL-433","created_at":"2026-01-02T03:28:28Z"}]}
{"id":"lettatoolsselector-xy18","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:08.249320787Z","updated_at":"2025-12-30T04:14:14.035575717Z","comments":[{"id":873,"issue_id":"lettatoolsselector-xy18","author":"root","text":"Synced from Beads: lettatoolsselector-01y\n\n---\nHuly Issue: LTSEL-60","created_at":"2025-12-29T21:06:08Z"}]}
{"id":"lettatoolsselector-xzkrk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:22.938910942Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:22.938910942Z","comments":[{"id":1892,"issue_id":"lettatoolsselector-xzkrk","author":"root","text":"Synced from Beads: lettatoolsselector-c6em\n\n---\nHuly Issue: LTSEL-450","created_at":"2026-01-02T03:28:23Z"}]}
{"id":"lettatoolsselector-y24v","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:21:42.731187408Z","updated_at":"2025-12-30T01:56:59.171075564Z","comments":[{"id":1012,"issue_id":"lettatoolsselector-y24v","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-81","created_at":"2025-12-29T21:21:43Z"}]}
{"id":"lettatoolsselector-y4gd","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:09:54.480130635Z","updated_at":"2025-12-30T04:12:04.003187114Z","comments":[{"id":908,"issue_id":"lettatoolsselector-y4gd","author":"root","text":"Synced from Beads: lettatoolsselector-th4\n\n---\nHuly Issue: LTSEL-94","created_at":"2025-12-29T21:09:54Z"}]}
{"id":"lettatoolsselector-y90e","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:22:32.037199451Z","updated_at":"2025-12-30T04:12:18.536017241Z","comments":[{"id":1021,"issue_id":"lettatoolsselector-y90e","author":"root","text":"Synced from Beads: lettatoolsselector-5na\n\n---\nHuly Issue: LTSEL-83","created_at":"2025-12-29T21:22:32Z"}]}
{"id":"lettatoolsselector-yb3w","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:04:01.777995347Z","updated_at":"2025-12-30T04:14:09.569335107Z","comments":[{"id":850,"issue_id":"lettatoolsselector-yb3w","author":"root","text":"Synced from Beads: lettatoolsselector-mwe\n\n---\nHuly Issue: LTSEL-108","created_at":"2025-12-29T21:04:02Z"}]}
{"id":"lettatoolsselector-ycgm","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:53.439328837Z","updated_at":"2025-12-30T04:14:17.357975334Z","comments":[{"id":888,"issue_id":"lettatoolsselector-ycgm","author":"root","text":"Synced from Beads: lettatoolsselector-luf\n\n---\nHuly Issue: LTSEL-112","created_at":"2025-12-29T21:07:53Z"}]}
{"id":"lettatoolsselector-ydhss","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:18.948542812Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:18.948542812Z","comments":[{"id":1883,"issue_id":"lettatoolsselector-ydhss","author":"root","text":"Synced from Beads: lettatoolsselector-yb3w\n\n---\nHuly Issue: LTSEL-461","created_at":"2026-01-02T03:28:19Z"}]}
{"id":"lettatoolsselector-yds5a","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:26.991235926Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:26.991235926Z","comments":[{"id":2129,"issue_id":"lettatoolsselector-yds5a","author":"root","text":"Synced from Beads: lettatoolsselector-vwd\n\n---\nHuly Issue: LTSEL-211","created_at":"2026-01-02T03:31:27Z"}]}
{"id":"lettatoolsselector-yekpk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:30.315904663Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:30.315904663Z","comments":[{"id":1909,"issue_id":"lettatoolsselector-yekpk","author":"root","text":"Synced from Beads: lettatoolsselector-7mod\n\n---\nHuly Issue: LTSEL-425","created_at":"2026-01-02T03:28:30Z"}]}
{"id":"lettatoolsselector-yft2","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:35:33.880238758Z","updated_at":"2025-12-30T02:40:23.66046908Z","comments":[{"id":1072,"issue_id":"lettatoolsselector-yft2","author":"root","text":"Synced from Beads: lettatoolsselector-mhi\n\n---\nHuly Issue: LTSEL-61","created_at":"2025-12-29T21:35:34Z"}]}
{"id":"lettatoolsselector-yhqa","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:08:24.859779265Z","updated_at":"2025-12-30T04:14:18.722766546Z","comments":[{"id":894,"issue_id":"lettatoolsselector-yhqa","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-110","created_at":"2025-12-29T21:08:25Z"}]}
{"id":"lettatoolsselector-yimej","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:47:28.16290516Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:47:28.16290516Z","comments":[{"id":2320,"issue_id":"lettatoolsselector-yimej","author":"root","text":"Synced from Beads: lettatoolsselector-uj0r\n\n\n\n---\nHuly Issue: LTSEL-252","created_at":"2026-01-02T03:47:28Z"}]}
{"id":"lettatoolsselector-yjkte","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:40.238723312Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:40.238723312Z","comments":[{"id":2059,"issue_id":"lettatoolsselector-yjkte","author":"root","text":"Synced from Beads: lettatoolsselector-34t2\n\n---\nHuly Issue: LTSEL-256","created_at":"2026-01-02T03:29:40Z"}]}
{"id":"lettatoolsselector-yqnr9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:17.615336888Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:17.615336888Z","comments":[{"id":1880,"issue_id":"lettatoolsselector-yqnr9","author":"root","text":"Synced from Beads: lettatoolsselector-zpqy\n\n---\nHuly Issue: LTSEL-469","created_at":"2026-01-02T03:28:17Z"}]}
{"id":"lettatoolsselector-yro7c","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:29.892978531Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:29.892978531Z","comments":[{"id":1908,"issue_id":"lettatoolsselector-yro7c","author":"root","text":"Synced from Beads: lettatoolsselector-q5fv\n\n---\nHuly Issue: LTSEL-426","created_at":"2026-01-02T03:28:30Z"}]}
{"id":"lettatoolsselector-yuyrh","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:45:31.788651506Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:45:31.788651506Z","comments":[{"id":2279,"issue_id":"lettatoolsselector-yuyrh","author":"root","text":"Synced from Beads: lettatoolsselector-9jll\n\n---\nHuly Issue: LTSEL-365","created_at":"2026-01-02T03:45:32Z"}]}
{"id":"lettatoolsselector-z0nj9","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:03.446303002Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:03.446303002Z","comments":[{"id":1981,"issue_id":"lettatoolsselector-z0nj9","author":"root","text":"Synced from Beads: lettatoolsselector-x7pi\n\n---\nHuly Issue: LTSEL-335","created_at":"2026-01-02T03:29:03Z"}]}
{"id":"lettatoolsselector-z2kn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:44.354045552Z","updated_at":"2025-12-30T04:14:14.899404193Z","comments":[{"id":876,"issue_id":"lettatoolsselector-z2kn","author":"root","text":"Synced from Beads: lettatoolsselector-g9h\n\n---\nHuly Issue: LTSEL-100","created_at":"2025-12-29T21:06:44Z"}]}
{"id":"lettatoolsselector-z5uk","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:13:01.589218027Z","updated_at":"2025-12-30T02:11:01.00318223Z","comments":[{"id":940,"issue_id":"lettatoolsselector-z5uk","author":"root","text":"Synced from Beads: lettatoolsselector-an3\n\n---\nHuly Issue: LTSEL-89","created_at":"2025-12-29T21:13:01Z"}]}
{"id":"lettatoolsselector-z6pp1","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:07.73469824Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:07.73469824Z","comments":[{"id":1990,"issue_id":"lettatoolsselector-z6pp1","author":"root","text":"Synced from Beads: lettatoolsselector-jmd3\n\n---\nHuly Issue: LTSEL-326","created_at":"2026-01-02T03:29:07Z"}]}
{"id":"lettatoolsselector-z87td","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:56:33.219974066Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T04:21:19.107665229Z","comments":[{"id":2344,"issue_id":"lettatoolsselector-z87td","author":"root","text":"Synced from Beads: lettatoolsselector-c8lu\n\n---\nHuly Issue: LTSEL-848","created_at":"2026-01-02T03:56:34Z"}]}
{"id":"lettatoolsselector-zc1i","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:07:51.722207299Z","updated_at":"2025-12-30T04:14:16.82853164Z","comments":[{"id":886,"issue_id":"lettatoolsselector-zc1i","author":"root","text":"Synced from Beads: lettatoolsselector-9cq\n\n---\nHuly Issue: LTSEL-98","created_at":"2025-12-29T21:07:52Z"}]}
{"id":"lettatoolsselector-zfsl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:18:06.614299146Z","updated_at":"2025-12-30T04:12:07.151838623Z","comments":[{"id":988,"issue_id":"lettatoolsselector-zfsl","author":"root","text":"Synced from Beads: lettatoolsselector-oij\n\n---\nHuly Issue: LTSEL-86","created_at":"2025-12-29T21:18:06Z"}]}
{"id":"lettatoolsselector-zgj2p","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:06.247376165Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:06.247376165Z","comments":[{"id":1987,"issue_id":"lettatoolsselector-zgj2p","author":"root","text":"Synced from Beads: lettatoolsselector-uzaq\n\n---\nHuly Issue: LTSEL-329","created_at":"2026-01-02T03:29:06Z"}]}
{"id":"lettatoolsselector-zgks","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:00:52.95157691Z","updated_at":"2025-12-30T04:14:02.371061739Z","comments":[{"id":821,"issue_id":"lettatoolsselector-zgks","author":"root","text":"Synced from Beads: lettatoolsselector-i3k\n\n---\nHuly Issue: LTSEL-127","created_at":"2025-12-29T21:00:53Z"}]}
{"id":"lettatoolsselector-zh1i","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:02:07.778044211Z","updated_at":"2025-12-30T04:14:03.70390299Z","comments":[{"id":828,"issue_id":"lettatoolsselector-zh1i","author":"root","text":"Synced from Beads: lettatoolsselector-5fq\n\n---\nHuly Issue: LTSEL-110","created_at":"2025-12-29T21:02:08Z"}]}
{"id":"lettatoolsselector-zhgx8","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:11.065754804Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:11.065754804Z","comments":[{"id":1865,"issue_id":"lettatoolsselector-zhgx8","author":"root","text":"Synced from Beads: lettatoolsselector-5vjn\n\n---\nHuly Issue: LTSEL-485","created_at":"2026-01-02T03:28:11Z"}]}
{"id":"lettatoolsselector-zjdf","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:29:35.626924699Z","updated_at":"2025-12-30T02:03:20.295646417Z","comments":[{"id":1050,"issue_id":"lettatoolsselector-zjdf","author":"root","text":"Synced from Beads: lettatoolsselector-4dj\n\n---\nHuly Issue: LTSEL-68","created_at":"2025-12-29T21:29:35Z"}]}
{"id":"lettatoolsselector-zpqy","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:03:10.561347794Z","updated_at":"2025-12-30T04:14:07.263869561Z","comments":[{"id":839,"issue_id":"lettatoolsselector-zpqy","author":"root","text":"Synced from Beads: lettatoolsselector-5mj\n\n---\nHuly Issue: LTSEL-123","created_at":"2025-12-29T21:03:10Z"}]}
{"id":"lettatoolsselector-zqlqa","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:31:28.843638546Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:31:28.843638546Z","comments":[{"id":2131,"issue_id":"lettatoolsselector-zqlqa","author":"root","text":"Synced from Beads: lettatoolsselector-kl5\n\n---\nHuly Issue: LTSEL-209","created_at":"2026-01-02T03:31:29Z"}]}
{"id":"lettatoolsselector-zqq3s","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:30.580376969Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:30.580376969Z","comments":[{"id":2037,"issue_id":"lettatoolsselector-zqq3s","author":"root","text":"Synced from Beads: lettatoolsselector-ufru\n\n---\nHuly Issue: LTSEL-278","created_at":"2026-01-02T03:29:30Z"}]}
{"id":"lettatoolsselector-zr3ee","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:44:21.922615012Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:44:21.922615012Z","comments":[{"id":2235,"issue_id":"lettatoolsselector-zr3ee","author":"root","text":"Synced from Beads: lettatoolsselector-u30o\n\n---\nHuly Issue: LTSEL-554","created_at":"2026-01-02T03:44:22Z"}]}
{"id":"lettatoolsselector-zt1q","title":"[Test] Unit test: SDK list_agent_tools handles pagination","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:14:29.725375438Z","updated_at":"2025-12-30T01:47:15.406119109Z","comments":[{"id":952,"issue_id":"lettatoolsselector-zt1q","author":"root","text":"Synced from Beads: lettatoolsselector-c9x\n\n---\nHuly Issue: LTSEL-69","created_at":"2025-12-29T21:14:30Z"}]}
{"id":"lettatoolsselector-zttcl","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:29:30.111955059Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:29:30.111955059Z","comments":[{"id":2036,"issue_id":"lettatoolsselector-zttcl","author":"root","text":"Synced from Beads: lettatoolsselector-39wp\n\n---\nHuly Issue: LTSEL-279","created_at":"2026-01-02T03:29:30Z"}]}
{"id":"lettatoolsselector-zwxw","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:06:05.743257369Z","updated_at":"2025-12-30T22:36:06.317721018Z","comments":[{"id":870,"issue_id":"lettatoolsselector-zwxw","author":"root","text":"Synced from Beads: lettatoolsselector-9cq\n\n---\nHuly Issue: LTSEL-98","created_at":"2025-12-29T21:06:06Z"}]}
{"id":"lettatoolsselector-zzgpr","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T03:28:22.388551663Z","created_by":"Huly Vibe Sync Service","updated_at":"2026-01-02T03:28:22.388551663Z","comments":[{"id":1891,"issue_id":"lettatoolsselector-zzgpr","author":"root","text":"Synced from Beads: lettatoolsselector-vfrq\n\n---\nHuly Issue: LTSEL-451","created_at":"2026-01-02T03:28:22Z"}]}
{"id":"lettatoolsselector-zzom","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:25:22.955682867Z","updated_at":"2025-12-30T02:00:05.629081255Z","comments":[{"id":1033,"issue_id":"lettatoolsselector-zzom","author":"root","text":"Synced from Beads: lettatoolsselector-leh\n\n---\nHuly Issue: LTSEL-80","created_at":"2025-12-29T21:25:23Z"}]}
{"id":"lettatoolsselector-zzvn","title":"[Observability] Create Grafana dashboard for tool state","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-29T21:11:22.218818219Z","updated_at":"2025-12-30T02:07:04.271220365Z","comments":[{"id":922,"issue_id":"lettatoolsselector-zzvn","author":"root","text":"Synced from Beads: lettatoolsselector-an3\n\n---\nHuly Issue: LTSEL-89","created_at":"2025-12-29T21:11:22Z"}]}
